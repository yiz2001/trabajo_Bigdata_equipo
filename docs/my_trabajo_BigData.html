<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Yi Zhang(yiz3@alumni.uv.es)">
<meta name="author" content="Rapha√´lle Bastien(rapbas@alumni.uv.es)">
<meta name="author" content="Kaikai Qiu(kaiqiu@alumni.uv.es)">
<meta name="description" content="Estudiando las consecuencias que ha causado la crisis sobre el contexto mundial, europeo y espa√±ol">
<title>Los 3 patitos - AN√ÅLISIS ECON√ìMICO SOBRE LA CRISIS DE LA PANDEMIA</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./duck.jpg" rel="icon" type="image/jpeg">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": true,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la b√∫squeda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.25/datatables.js"></script><script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><link href="site_libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script><link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><script src="site_libs/plotly-binding-4.10.0/plotly.js"></script><script src="site_libs/typedarray-0.1/typedarray.min.js"></script><link href="site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.5.1/plotly-latest.min.js"></script><link href="site_libs/vembedr-0.1.5/css/vembedr.css" rel="stylesheet">
<link rel="stylesheet" href="my_styles.css">
<link rel="stylesheet" href="./assets/my_css_file.css">
</head>
<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./duck.jpg" alt="" class="navbar-logo"></a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Los 3 patitos</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item compact">
    <a class="nav-link" href="./index.html"><i class="bi bi-house-door" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link active" href="./my_trabajo_BigData.html" aria-current="page">
 <span class="menu-text">Trabajo</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./my_slides_BigData.html">
 <span class="menu-text">Slides</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/yiz2001"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/shellyzhang24"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:<yiz3@alumni.uv.es>"><i class="bi bi-envelope" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
<div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-right">
      <div class="quarto-title-block"><div><h1 class="title">AN√ÅLISIS ECON√ìMICO SOBRE LA CRISIS DE LA PANDEMIA</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> C√≥digo</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Mostrar todo el c√≥digo</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Ocultar todo el c√≥digo</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">Ver el c√≥digo fuente</a></li></ul></div></div>
                  <div>
        <div class="description">
          <p>Estudiando las consecuencias que ha causado la crisis sobre el contexto mundial, europeo y espa√±ol</p>
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">trabajo BigData equipo</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Autores/as</div>
      <div class="quarto-title-meta-contents">
               <p>Yi Zhang(yiz3@alumni.uv.es) </p>
               <p>Rapha√´lle Bastien(rapbas@alumni.uv.es) </p>
               <p>Kaikai Qiu(kaiqiu@alumni.uv.es) </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Fecha de publicaci√≥n</div>
      <div class="quarto-title-meta-contents">
        <p class="date">23 de diciembre de 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">En esta p√°gina</h2>
   
  <ul>
<li><a href="#introducci%C3%B3n" id="toc-introducci√≥n" class="nav-link active" data-scroll-target="#introducci%C3%B3n">1. INTRODUCCI√ìN</a></li>
  <li><a href="#datos" id="toc-datos" class="nav-link" data-scroll-target="#datos">2. DATOS</a></li>
  <li>
<a href="#contexto-europeo" id="toc-contexto-europeo" class="nav-link" data-scroll-target="#contexto-europeo">3. CONTEXTO EUROPEO</a>
  <ul class="collapse">
<li><a href="#pibpc" id="toc-pibpc" class="nav-link" data-scroll-target="#pibpc">3.1. PIBpc</a></li>
  <li><a href="#inflaci%C3%B3n" id="toc-inflaci√≥n" class="nav-link" data-scroll-target="#inflaci%C3%B3n">3.2. Inflaci√≥n</a></li>
  <li><a href="#tasa-de-desempleo" id="toc-tasa-de-desempleo" class="nav-link" data-scroll-target="#tasa-de-desempleo">3.3. Tasa de desempleo</a></li>
  </ul>
</li>
  <li>
<a href="#a-nivel-internacional" id="toc-a-nivel-internacional" class="nav-link" data-scroll-target="#a-nivel-internacional">4. A NIVEL INTERNACIONAL</a>
  <ul class="collapse">
<li><a href="#importaci%C3%B3n-y-exportaci%C3%B3n-entre-pa%C3%ADses-elegidos" id="toc-importaci√≥n-y-exportaci√≥n-entre-pa√≠ses-elegidos" class="nav-link" data-scroll-target="#importaci%C3%B3n-y-exportaci%C3%B3n-entre-pa%C3%ADses-elegidos">4.1. Importaci√≥n y exportaci√≥n entre pa√≠ses elegidos</a></li>
  <li><a href="#evoluci%C3%B3n-del-pib-de-los-10-pa%C3%ADses-escogidos-durante-2019-2021" id="toc-evoluci√≥n-del-pib-de-los-10-pa√≠ses-escogidos-durante-2019-2021" class="nav-link" data-scroll-target="#evoluci%C3%B3n-del-pib-de-los-10-pa%C3%ADses-escogidos-durante-2019-2021">4.2. Evoluci√≥n del PIB de los 10 pa√≠ses escogidos durante 2019-2021</a></li>
  <li><a href="#consecuencias-sobre-el-empleo-de-las-econom%C3%ADas-avanzadas-por-la-crisis" id="toc-consecuencias-sobre-el-empleo-de-las-econom√≠as-avanzadas-por-la-crisis" class="nav-link" data-scroll-target="#consecuencias-sobre-el-empleo-de-las-econom%C3%ADas-avanzadas-por-la-crisis">4.3. Consecuencias sobre el empleo de las econom√≠as avanzadas por la crisis</a></li>
  </ul>
</li>
  <li>
<a href="#efectos-sobre-la-econom%C3%ADa-espa%C3%B1ola" id="toc-efectos-sobre-la-econom√≠a-espa√±ola" class="nav-link" data-scroll-target="#efectos-sobre-la-econom%C3%ADa-espa%C3%B1ola">5. EFECTOS SOBRE LA ECONOM√çA ESPA√ëOLA</a>
  <ul class="collapse">
<li><a href="#evoluci%C3%B3n-de-la-tasa-de-paro" id="toc-evoluci√≥n-de-la-tasa-de-paro" class="nav-link" data-scroll-target="#evoluci%C3%B3n-de-la-tasa-de-paro">5.1. Evoluci√≥n de la tasa de paro</a></li>
  <li><a href="#ranking-de-las-ccaa-seg%C3%BAn-el-pibpc" id="toc-ranking-de-las-ccaa-seg√∫n-el-pibpc" class="nav-link" data-scroll-target="#ranking-de-las-ccaa-seg%C3%BAn-el-pibpc">5.2. Ranking de las CCAA seg√∫n el PIBpc</a></li>
  <li><a href="#c%C3%B3mo-ha-afectado-a-los-sectores-econ%C3%B3micos" id="toc-c√≥mo-ha-afectado-a-los-sectores-econ√≥micos" class="nav-link" data-scroll-target="#c%C3%B3mo-ha-afectado-a-los-sectores-econ%C3%B3micos">5.3. ¬øC√≥mo ha afectado a los sectores econ√≥micos?</a></li>
  <li><a href="#consecuencias-sobre-el-turismo-en-la-comunidad-valenciana" id="toc-consecuencias-sobre-el-turismo-en-la-comunidad-valenciana" class="nav-link" data-scroll-target="#consecuencias-sobre-el-turismo-en-la-comunidad-valenciana">5.4. Consecuencias sobre el turismo en la Comunidad Valenciana</a></li>
  </ul>
</li>
  <li>
<a href="#la-crisis-energ%C3%A9tica-y-el-futuro" id="toc-la-crisis-energ√©tica-y-el-futuro" class="nav-link" data-scroll-target="#la-crisis-energ%C3%A9tica-y-el-futuro">6. LA CRISIS ENERG√âTICA Y EL FUTURO</a>
  <ul class="collapse">
<li><a href="#la-crisis-energ%C3%A9tica" id="toc-la-crisis-energ√©tica" class="nav-link" data-scroll-target="#la-crisis-energ%C3%A9tica">6.1. La crisis energ√©tica</a></li>
  <li><a href="#el-futuro" id="toc-el-futuro" class="nav-link" data-scroll-target="#el-futuro">6.2. El futuro</a></li>
  </ul>
</li>
  <li><a href="#conclusi%C3%B3n" id="toc-conclusi√≥n" class="nav-link" data-scroll-target="#conclusi%C3%B3n">7. CONCLUSI√ìN</a></li>
  <li><a href="#referencias" id="toc-referencias" class="nav-link" data-scroll-target="#referencias">8. REFERENCIAS</a></li>
  </ul></nav>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-right" id="quarto-document-content"><section id="introducci√≥n" class="level2"><h2 class="anchored" data-anchor-id="introducci√≥n">1. INTRODUCCI√ìN</h2>
<p>El impacto econ√≥mico de la pandemia de COVID-19 es una grave crisis mundial que inici√≥ a principios del a√±o 2020, primeramente en China, y luego en todo el mundo. Diferente a las crisis anteriores, esta ha sido causada principalmente por la expansi√≥n de la enfermedad COVID-19.</p>
<p>Dicho lo anterior, nuestro objetivo del trabajo es estudiar las consecuencias econ√≥micas que ha causado la crisis sobre distintos entornos:</p>
<ul>
<li>Primero, haremos un an√°lisis con variables macroecon√≥micos sobre los pa√≠ses de <strong>Europa</strong>, as√≠ observamos c√≥mo de diferentes se han comportado y las similitudes que hay entre ellos</li>
<li>Seguidamente, el estudio se ampl√≠a hacia <strong>todos los pa√≠ses del mundo</strong>. En este caso, podemos ver las similitudes y las diferencias no solo entre cada pa√≠s, tambi√©n entre cada continente. Adem√°s,</li>
<li>Finalmente, nos enfocaremos en los impactos causados dentro de <strong>Espa√±a</strong>ü§©. Analizaremos los efectos para cada Comunidad y ciudad aut√≥noma, los efectos dentro de cada sector de actividad, y c√≥mo ha quedado el turismo en la Comunidad Valenciana.</li>
</ul>
<p>Adicionalmente, hemos a√±adido un apartado que se trata sobre la actual crisis energ√©tica. Ofreceremos alguna informaci√≥n de lo que est√° pasando ahora y las medidas que se pretenden tomar las autoridades estatales.</p>
<blockquote class="blockquote">
<p>‚ÄúHi ha una coalici√≥ d‚Äôinteressos per a l‚Äôacceleraci√≥ de les energies renovables. L‚Äôobjectiu √©s que els 64 expedients pendents est√©n resolts abans del 25 de gener. Es disposar√† del personal i mitjans necessaris‚Äù <span class="citation" data-cites="ximopuig">@ximopuig</span></p>
</blockquote>
<hr></section><section id="datos" class="level2"><h2 class="anchored" data-anchor-id="datos">2. DATOS</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">DATOS</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">C√ìDIGOS</a></li>
</ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>Hemos utilizado varias fuentes para buscar datos: los datos de Espa√±a provienen del <a href="https://www.ine.es/">INE</a>; los datos de Europa provienen de <a href="https://ec.europa.eu/eurostat">eurostat</a> y los datos internacionales provienen de <a href="https://www.imf.org/es/Home">FMI</a>.</p>
<ul>
<li><p>INE: <a href="https://www.ine.es/jaxiT3/Datos.htm?t=4247">Tasa de paro</a>, <a href="https://www.ine.es/jaxi/Tabla.htm?path=/t35/p010/rev19/l0/&amp;file=01001.px&amp;L=0">PIB</a>, <a href="https://www.ine.es/jaxiT3/Tabla.htm?t=32449">Ramas de actividad</a>, <a href="https://www.ine.es/jaxiT3/Tabla.htm?t=31304">Poblaci√≥n</a> y <a href="https://www.ine.es/jaxiT3/Tabla.htm?t=10823">Turismo</a></p></li>
<li><p>eurostat: <a href="https://ec.europa.eu/eurostat/web/products-datasets/-/sdg_08_10">Real GDP per capita</a>, <a href="https://ec.europa.eu/eurostat/web/main/search/-/search/estatsearchportlet_WAR_estatsearchportlet_INSTANCE_bHVzuvn1SZ8J?p_auth=S4Y1nqcx&amp;text=ei_lmhr_m">tasa de desempleo</a> y <a href="https://ec.europa.eu/eurostat/web/products-datasets/-/tec00118">inflation rate</a></p></li>
<li><p>FMI: <a href="https://www.imf.org/en/Publications/WEO/weo-database/2022/October/weo-report?c=193,924,132,134,158,922,184,111,&amp;s=TX_RPCH,&amp;sy=2019&amp;ey=2021&amp;ssm=0&amp;scsm=1&amp;scc=0&amp;ssd=1&amp;ssc=0&amp;sic=0&amp;sort=country&amp;ds=.&amp;br=0">exportaci√≥n</a>, <a href="https://www.imf.org/en/Publications/WEO/weo-database/2022/October/weo-report?c=193,924,132,134,158,922,184,111,&amp;s=TM_RPCH,&amp;sy=2019&amp;ey=2021&amp;ssm=0&amp;scsm=1&amp;scc=0&amp;ssd=1&amp;ssc=0&amp;sic=0&amp;sort=country&amp;ds=.&amp;br=0">importaci√≥n</a>, <a href="https://www.imf.org/en/Publications/WEO/weo-database/2022/October/weo-report?c=512,914,612,171,614,311,213,911,314,193,122,912,313,419,513,316,913,124,339,638,514,218,963,616,223,516,918,748,618,624,522,622,156,626,628,228,924,233,632,636,634,238,662,960,423,935,128,611,321,243,248,469,253,642,643,939,734,644,819,172,132,646,648,915,134,652,174,328,258,656,654,336,263,268,532,944,176,534,536,429,433,178,436,136,343,158,439,916,664,826,542,967,443,917,544,941,446,666,668,672,946,137,546,674,676,548,556,678,181,867,682,684,273,868,921,948,943,686,688,518,728,836,558,138,196,278,692,694,962,142,449,564,565,283,853,288,293,566,964,182,359,453,968,922,714,862,135,716,456,722,942,718,724,576,936,961,813,726,199,733,184,524,361,362,364,732,366,144,146,463,528,923,738,578,537,742,866,369,744,186,925,869,746,926,466,112,111,298,927,846,299,582,487,474,754,698,&amp;s=NGDPDPC,&amp;sy=2019&amp;ey=2021&amp;ssm=0&amp;scsm=1&amp;scc=0&amp;ssd=1&amp;ssc=0&amp;sic=0&amp;sort=country&amp;ds=.&amp;br=0">PIB per capita current price</a> y <a href="https://www.imf.org/en/Publications/WEO/weo-database/2022/October/weo-report?c=171,193,122,124,156,423,935,128,939,172,132,134,174,532,176,178,436,136,158,542,941,946,137,546,181,138,196,142,182,359,135,576,936,961,184,144,146,528,112,111,&amp;s=LUR,&amp;sy=2019&amp;ey=2021&amp;ssm=0&amp;scsm=1&amp;scc=0&amp;ssd=1&amp;ssc=0&amp;sic=0&amp;sort=country&amp;ds=.&amp;br=0">unployement rate</a></p></li>
</ul>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div id="fig-3.1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="https://www.ine.es/infografias/calidadvida/img/logoinecaja.jpg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figura&nbsp;1: INE</figcaption><p></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div id="fig-3.2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="https://i0.wp.com/europaerestu.eu/wp-content/uploads/2016/03/Eurostat.png?fit=825%2C418&amp;ssl=1" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figura&nbsp;2: eurostat</figcaption><p></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div id="fig-3.3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="https://www.imf.org/-/media/Images/IMF/News/twitter-seal.ashx" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figura&nbsp;3: FMI</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Ejecutamos los paquetes utilizados</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(eurostat)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fu">library</span>(gt)</span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="fu">library</span>(pxR)</span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="fu">library</span>(ggbump)</span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="fu">library</span>(plyr)</span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="fu">library</span>(naniar)</span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-19"><a href="#cb1-19"></a><span class="fu">library</span>(vembedr)</span>
<span id="cb1-20"><a href="#cb1-20"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-21"><a href="#cb1-21"></a><span class="fu">library</span>(conflicted)</span>
<span id="cb1-22"><a href="#cb1-22"></a></span>
<span id="cb1-23"><a href="#cb1-23"></a><span class="fu">conflict_prefer</span>(<span class="st">"filter"</span>,<span class="st">"dplyr"</span>)</span>
<span id="cb1-24"><a href="#cb1-24"></a><span class="fu">conflict_prefer</span>(<span class="st">"mutate"</span>,<span class="st">"dplyr"</span>)</span>
<span id="cb1-25"><a href="#cb1-25"></a><span class="fu">conflict_prefer</span>(<span class="st">"rename"</span>,<span class="st">"dplyr"</span>)</span>
<span id="cb1-26"><a href="#cb1-26"></a><span class="fu">conflict_prefer</span>(<span class="st">"arrange"</span>,<span class="st">"dplyr"</span>)</span>
<span id="cb1-27"><a href="#cb1-27"></a></span>
<span id="cb1-28"><a href="#cb1-28"></a><span class="co"># Importaci√≥n de datos</span></span>
<span id="cb1-29"><a href="#cb1-29"></a></span>
<span id="cb1-30"><a href="#cb1-30"></a><span class="co">#PIBpcEuropa</span></span>
<span id="cb1-31"><a href="#cb1-31"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>) <span class="co">#- para quitar la notaci√≥n cient√≠fica</span></span>
<span id="cb1-32"><a href="#cb1-32"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(knitr, here, tidyverse, patchwork, ggrepel)</span>
<span id="cb1-33"><a href="#cb1-33"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(sf, rnaturalearth, rnaturalearthdata, ggspatial, mapview, leafem, leaflet, tmap)</span>
<span id="cb1-34"><a href="#cb1-34"></a>aa <span class="ot">&lt;-</span> <span class="fu">search_eurostat</span>(<span class="st">"GDP per capita"</span>, <span class="at">type =</span> <span class="st">"all"</span>)</span>
<span id="cb1-35"><a href="#cb1-35"></a>my_table <span class="ot">&lt;-</span> <span class="st">"sdg_08_10"</span></span>
<span id="cb1-36"><a href="#cb1-36"></a>df <span class="ot">&lt;-</span> <span class="fu">get_eurostat</span>(my_table, <span class="at">time_format =</span> <span class="st">'raw'</span>, <span class="at">keepFlags =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-37"><a href="#cb1-37"></a>zz <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">iso3c =</span> countrycode<span class="sc">::</span><span class="fu">countrycode</span>(geo, <span class="at">origin =</span> <span class="st">"iso2c"</span>, <span class="at">destination =</span> <span class="st">"iso3c"</span>), <span class="at">.after =</span> geo)</span>
<span id="cb1-38"><a href="#cb1-38"></a></span>
<span id="cb1-39"><a href="#cb1-39"></a><span class="co">#Inflacion Europa</span></span>
<span id="cb1-40"><a href="#cb1-40"></a>bb <span class="ot">&lt;-</span> <span class="fu">search_eurostat</span>(<span class="st">"inflation"</span>, <span class="at">type =</span> <span class="st">"all"</span>)</span>
<span id="cb1-41"><a href="#cb1-41"></a>my_table1 <span class="ot">&lt;-</span> <span class="st">"tec00118"</span></span>
<span id="cb1-42"><a href="#cb1-42"></a>dfinflation <span class="ot">&lt;-</span> <span class="fu">get_eurostat</span>(my_table1, <span class="at">time_format =</span> <span class="st">'raw'</span>, <span class="at">keepFlags =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-43"><a href="#cb1-43"></a>zzinflation <span class="ot">&lt;-</span> dfinflation <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">iso3c =</span> countrycode<span class="sc">::</span><span class="fu">countrycode</span>(geo, <span class="at">origin =</span> <span class="st">"iso2c"</span>, <span class="at">destination =</span> <span class="st">"iso3c"</span>), <span class="at">.after =</span> geo)</span>
<span id="cb1-44"><a href="#cb1-44"></a></span>
<span id="cb1-45"><a href="#cb1-45"></a><span class="co">#Tasa de paro Europa</span></span>
<span id="cb1-46"><a href="#cb1-46"></a>cc <span class="ot">&lt;-</span> <span class="fu">search_eurostat</span>(<span class="st">"Unemployment"</span>, <span class="at">type =</span> <span class="st">"all"</span>)</span>
<span id="cb1-47"><a href="#cb1-47"></a>ccc <span class="ot">&lt;-</span> <span class="fu">search_eurostat</span>(<span class="st">"unemployment"</span>, <span class="at">type =</span> <span class="st">"all"</span>)</span>
<span id="cb1-48"><a href="#cb1-48"></a>my_table2 <span class="ot">&lt;-</span> <span class="st">"ei_lmhr_m"</span></span>
<span id="cb1-49"><a href="#cb1-49"></a>dfparo <span class="ot">&lt;-</span> <span class="fu">get_eurostat</span>(my_table2, <span class="at">time_format =</span> <span class="st">'raw'</span>, <span class="at">keepFlags =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-50"><a href="#cb1-50"></a></span>
<span id="cb1-51"><a href="#cb1-51"></a><span class="co"># PIGS</span></span>
<span id="cb1-52"><a href="#cb1-52"></a></span>
<span id="cb1-53"><a href="#cb1-53"></a><span class="co"># Importaciones y exportaciones</span></span>
<span id="cb1-54"><a href="#cb1-54"></a>df_export <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"./datos/WEO_Data-4_export.xls"</span>, </span>
<span id="cb1-55"><a href="#cb1-55"></a>                        <span class="at">col_types =</span> <span class="fu">c</span>(<span class="st">"text"</span>, <span class="st">"numeric"</span>, <span class="st">"numeric"</span>))</span>
<span id="cb1-56"><a href="#cb1-56"></a>df_export <span class="ot">&lt;-</span> df_export <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Tasa_de_exportacion =</span> Value)</span>
<span id="cb1-57"><a href="#cb1-57"></a></span>
<span id="cb1-58"><a href="#cb1-58"></a>df_import <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"./datos/WEO_Data-5_import.xls"</span>, </span>
<span id="cb1-59"><a href="#cb1-59"></a>                        <span class="at">col_types =</span> <span class="fu">c</span>(<span class="st">"text"</span>, <span class="st">"numeric"</span>, <span class="st">"numeric"</span>))</span>
<span id="cb1-60"><a href="#cb1-60"></a>df_import <span class="ot">&lt;-</span> df_import <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Tasa_de_importacion =</span> Value)</span>
<span id="cb1-61"><a href="#cb1-61"></a></span>
<span id="cb1-62"><a href="#cb1-62"></a><span class="co"># PIB internacional</span></span>
<span id="cb1-63"><a href="#cb1-63"></a>df_PIB <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"./datos/WEO_data-7.xls"</span>) </span>
<span id="cb1-64"><a href="#cb1-64"></a>df_PIB <span class="ot">&lt;-</span> df_PIB <span class="sc">%&gt;%</span> </span>
<span id="cb1-65"><a href="#cb1-65"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">names_to =</span> <span class="st">"Year"</span>, <span class="at">values_to =</span> <span class="st">"Value"</span>)</span>
<span id="cb1-66"><a href="#cb1-66"></a>df_1 <span class="ot">&lt;-</span> df_PIB</span>
<span id="cb1-67"><a href="#cb1-67"></a></span>
<span id="cb1-68"><a href="#cb1-68"></a><span class="co">#Tasa de desempleo internacional</span></span>
<span id="cb1-69"><a href="#cb1-69"></a>Tasa_de_desempleo <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"./datos/Tasa_de_desempleo.xls"</span>, </span>
<span id="cb1-70"><a href="#cb1-70"></a>                                <span class="at">col_types =</span> <span class="fu">c</span>(<span class="st">"text"</span>, <span class="st">"text"</span>, <span class="st">"text"</span>, </span>
<span id="cb1-71"><a href="#cb1-71"></a>                                              <span class="st">"numeric"</span>, <span class="st">"numeric"</span>, <span class="st">"numeric"</span>))</span>
<span id="cb1-72"><a href="#cb1-72"></a></span>
<span id="cb1-73"><a href="#cb1-73"></a><span class="co">#Tasa de paro Espa√±a</span></span>
<span id="cb1-74"><a href="#cb1-74"></a>df_px <span class="ot">&lt;-</span> pxR<span class="sc">::</span><span class="fu">read.px</span>(<span class="st">"./datos/4247.px"</span>) <span class="sc">%&gt;%</span> as.data.frame</span>
<span id="cb1-75"><a href="#cb1-75"></a></span>
<span id="cb1-76"><a href="#cb1-76"></a><span class="co">#PIBpc Espa√±a</span></span>
<span id="cb1-77"><a href="#cb1-77"></a>df_px_1 <span class="ot">&lt;-</span> pxR<span class="sc">::</span><span class="fu">read.px</span>(<span class="st">"./datos/pib_ccaa_valor.px"</span>) <span class="sc">%&gt;%</span> as.data.frame</span>
<span id="cb1-78"><a href="#cb1-78"></a>df_px_2 <span class="ot">&lt;-</span> pxR<span class="sc">::</span><span class="fu">read.px</span>(<span class="st">"./datos/demografia.px"</span>) <span class="sc">%&gt;%</span> as.data.frame</span>
<span id="cb1-79"><a href="#cb1-79"></a>df_px_3<span class="ot">&lt;-</span> pxR<span class="sc">::</span><span class="fu">read.px</span>(<span class="st">"./datos/pib_ccaa_tasas.px"</span>) <span class="sc">%&gt;%</span> as.data.frame</span>
<span id="cb1-80"><a href="#cb1-80"></a></span>
<span id="cb1-81"><a href="#cb1-81"></a>df_px_1 <span class="ot">&lt;-</span> df_px_1 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">periodo =</span> stringr<span class="sc">::</span><span class="fu">str_extract</span>(periodo, <span class="st">"...."</span>))</span>
<span id="cb1-82"><a href="#cb1-82"></a>df_px_3 <span class="ot">&lt;-</span> df_px_3 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">periodo =</span> stringr<span class="sc">::</span><span class="fu">str_extract</span>(periodo, <span class="st">"...."</span>))</span>
<span id="cb1-83"><a href="#cb1-83"></a></span>
<span id="cb1-84"><a href="#cb1-84"></a></span>
<span id="cb1-85"><a href="#cb1-85"></a></span>
<span id="cb1-86"><a href="#cb1-86"></a></span>
<span id="cb1-87"><a href="#cb1-87"></a></span>
<span id="cb1-88"><a href="#cb1-88"></a></span>
<span id="cb1-89"><a href="#cb1-89"></a></span>
<span id="cb1-90"><a href="#cb1-90"></a><span class="co"># Transformaci√≥n de datos</span></span>
<span id="cb1-91"><a href="#cb1-91"></a></span>
<span id="cb1-92"><a href="#cb1-92"></a><span class="co"># PIBpcEuropa</span></span>
<span id="cb1-93"><a href="#cb1-93"></a>zz1 <span class="ot">&lt;-</span> zz <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">iso3c1 =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"EL"</span>,<span class="st">"GRC"</span>,iso3c)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">iso3c1 =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"UK"</span>,<span class="st">"GBR"</span>,iso3c)) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(unit <span class="sc">==</span> <span class="st">"CLV10_EUR_HAB"</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">nombre =</span> countrycode<span class="sc">::</span><span class="fu">countrycode</span>(iso3c1, <span class="at">origin =</span> <span class="st">"iso3c"</span>, <span class="at">destination =</span> <span class="st">"un.name.en"</span>), <span class="at">.after =</span> geo) </span>
<span id="cb1-94"><a href="#cb1-94"></a>zz2 <span class="ot">&lt;-</span> zz1 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"EL"</span>,<span class="st">"Greece"</span>,nombre)) <span class="sc">%&gt;%</span>                 </span>
<span id="cb1-95"><a href="#cb1-95"></a>               <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"UK"</span>,<span class="st">"UK"</span>,nombre)) <span class="sc">%&gt;%</span></span>
<span id="cb1-96"><a href="#cb1-96"></a>               <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"EA19"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"EU28"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"UK"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-97"><a href="#cb1-97"></a>               <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"EU27_2020"</span>,<span class="st">"EU27_2020"</span>,nombre)) <span class="sc">%&gt;%</span></span>
<span id="cb1-98"><a href="#cb1-98"></a>               <span class="fu">select</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>,<span class="dv">7</span><span class="sc">:</span><span class="dv">8</span>)  <span class="sc">%&gt;%</span> </span>
<span id="cb1-99"><a href="#cb1-99"></a>               <span class="fu">filter</span>(time <span class="sc">&gt;=</span> <span class="dv">2019</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-100"><a href="#cb1-100"></a>               dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">year=</span>time) <span class="sc">%&gt;%</span> </span>
<span id="cb1-101"><a href="#cb1-101"></a>               dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">PIB_per_capita=</span>values) </span>
<span id="cb1-102"><a href="#cb1-102"></a>zz3 <span class="ot">&lt;-</span> zz2 <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">"year"</span>,<span class="at">values_from =</span> <span class="st">"PIB_per_capita"</span> )<span class="sc">%&gt;%</span> </span>
<span id="cb1-103"><a href="#cb1-103"></a>  <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">anyo2019 =</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">anyo2020 =</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">anyo2021 =</span> <span class="dv">5</span>)<span class="sc">%&gt;%</span></span>
<span id="cb1-104"><a href="#cb1-104"></a>  <span class="fu">mutate</span>(<span class="at">variacion_1920_por=</span> (anyo2020<span class="sc">-</span>anyo2019)<span class="sc">*</span><span class="dv">100</span><span class="sc">/</span>anyo2019) <span class="sc">%&gt;%</span> </span>
<span id="cb1-105"><a href="#cb1-105"></a>  <span class="fu">mutate</span>(<span class="at">variacion_quan=</span><span class="fu">cut_to_classes</span>(variacion_1920_por,<span class="at">n=</span><span class="dv">4</span>,<span class="at">decimals =</span> <span class="dv">2</span>,<span class="at">style =</span> <span class="st">"quantile"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb1-106"><a href="#cb1-106"></a>  <span class="fu">mutate</span>(<span class="at">variacion.f=</span><span class="fu">as.factor</span>(<span class="fu">ntile</span>(variacion_1920_por,<span class="dv">4</span>)))<span class="sc">%&gt;%</span>   </span>
<span id="cb1-107"><a href="#cb1-107"></a>  <span class="fu">mutate</span>(<span class="at">my_comentario =</span> <span class="fu">case_when</span> (</span>
<span id="cb1-108"><a href="#cb1-108"></a>    variacion.f <span class="sc">==</span><span class="st">"4"</span> <span class="sc">~</span> <span class="st">"menos mal"</span>,</span>
<span id="cb1-109"><a href="#cb1-109"></a>    variacion.f <span class="sc">==</span><span class="st">"3"</span> <span class="sc">~</span> <span class="st">"malo"</span>,</span>
<span id="cb1-110"><a href="#cb1-110"></a>    variacion.f <span class="sc">==</span><span class="st">"2"</span> <span class="sc">~</span> <span class="st">"muy malo"</span>,</span>
<span id="cb1-111"><a href="#cb1-111"></a>    variacion.f <span class="sc">==</span><span class="st">"1"</span> <span class="sc">~</span> <span class="st">"horroroso"</span>,</span>
<span id="cb1-112"><a href="#cb1-112"></a>    <span class="cn">TRUE</span>    <span class="sc">~</span> <span class="st">"no lo s√©"</span>))</span>
<span id="cb1-113"><a href="#cb1-113"></a>zz3 <span class="ot">&lt;-</span> zz3 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">porcentaje =</span> <span class="fu">round</span>(variacion_1920_por,<span class="at">digits =</span> <span class="dv">2</span>) )</span>
<span id="cb1-114"><a href="#cb1-114"></a>geometrias <span class="ot">&lt;-</span> <span class="fu">get_eurostat_geospatial</span>(<span class="at">resolution =</span> <span class="st">"10"</span>,<span class="at">nuts_level =</span> <span class="st">"0"</span>)</span>
<span id="cb1-115"><a href="#cb1-115"></a></span>
<span id="cb1-116"><a href="#cb1-116"></a><span class="co"># Inflaci√≥n Europa</span></span>
<span id="cb1-117"><a href="#cb1-117"></a>zzinflation1 <span class="ot">&lt;-</span> zzinflation <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">iso3c1 =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"EL"</span>,<span class="st">"GRC"</span>,iso3c)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">iso3c1 =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"UK"</span>,<span class="st">"GBR"</span>,iso3c)) <span class="sc">%&gt;%</span>  <span class="fu">mutate</span>(<span class="at">nombre =</span> countrycode<span class="sc">::</span><span class="fu">countrycode</span>(iso3c1, <span class="at">origin =</span> <span class="st">"iso3c"</span>, <span class="at">destination =</span> <span class="st">"un.name.en"</span>), <span class="at">.after =</span> geo)</span>
<span id="cb1-118"><a href="#cb1-118"></a></span>
<span id="cb1-119"><a href="#cb1-119"></a><span class="co">#Tasa de paro Europa</span></span>
<span id="cb1-120"><a href="#cb1-120"></a>dfparo1 <span class="ot">&lt;-</span> dfparo <span class="sc">%&gt;%</span>  <span class="fu">mutate</span>(<span class="at">iso3c =</span> countrycode<span class="sc">::</span><span class="fu">countrycode</span>(geo, <span class="at">origin =</span> <span class="st">"iso2c"</span>, <span class="at">destination =</span> <span class="st">"iso3c"</span>), <span class="at">.after =</span> geo) <span class="sc">%&gt;%</span></span>
<span id="cb1-121"><a href="#cb1-121"></a>  <span class="fu">mutate</span>(<span class="at">nombre =</span> countrycode<span class="sc">::</span><span class="fu">countrycode</span>(iso3c, <span class="at">origin =</span> <span class="st">"iso3c"</span>, <span class="at">destination =</span> <span class="st">"un.name.en"</span>), <span class="at">.after =</span> geo) <span class="sc">%&gt;%</span></span>
<span id="cb1-122"><a href="#cb1-122"></a>  <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"EL"</span>,<span class="st">"Greece"</span>,nombre)) <span class="sc">%&gt;%</span></span>
<span id="cb1-123"><a href="#cb1-123"></a>  <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"EU27_2020"</span>,<span class="st">"EU27_2020"</span>,nombre)) <span class="sc">%&gt;%</span></span>
<span id="cb1-124"><a href="#cb1-124"></a>  <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"UK"</span>,<span class="st">"UK"</span>,nombre)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-125"><a href="#cb1-125"></a>  <span class="fu">filter</span>(geo <span class="sc">!=</span><span class="st">"EA19"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(geo <span class="sc">!=</span><span class="st">"US"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-126"><a href="#cb1-126"></a>  tidyr<span class="sc">::</span><span class="fu">separate</span>(indic,<span class="at">sep =</span><span class="st">"-"</span>,<span class="fu">c</span>(<span class="st">"nada1"</span>,<span class="st">"nada2"</span>,<span class="st">"sexo"</span>,<span class="st">"edad"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb1-127"><a href="#cb1-127"></a>  <span class="fu">filter</span>(s_adj<span class="sc">==</span><span class="st">"NSA"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(sexo<span class="sc">==</span><span class="st">"T"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(edad<span class="sc">==</span><span class="st">"TOT"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="dv">7</span><span class="sc">:</span><span class="dv">9</span>,<span class="dv">11</span><span class="sc">:</span><span class="dv">12</span>)</span>
<span id="cb1-128"><a href="#cb1-128"></a></span>
<span id="cb1-129"><a href="#cb1-129"></a><span class="co">#PIGS</span></span>
<span id="cb1-130"><a href="#cb1-130"></a></span>
<span id="cb1-131"><a href="#cb1-131"></a><span class="co">#PIB internacional</span></span>
<span id="cb1-132"><a href="#cb1-132"></a>df_2019<span class="ot">&lt;-</span> df_1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2019</span>) <span class="sc">%&gt;%</span> <span class="fu">slice_max</span>(Value, <span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb1-133"><a href="#cb1-133"></a>df_2020 <span class="ot">&lt;-</span> df_1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2020</span>) <span class="sc">%&gt;%</span> <span class="fu">slice_max</span>(Value, <span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb1-134"><a href="#cb1-134"></a>df_2021 <span class="ot">&lt;-</span> df_1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">%&gt;%</span> <span class="fu">slice_max</span>(Value, <span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb1-135"><a href="#cb1-135"></a></span>
<span id="cb1-136"><a href="#cb1-136"></a><span class="co">#Tasa de desempleo internacional</span></span>
<span id="cb1-137"><a href="#cb1-137"></a>Tasa_de_desempleo <span class="ot">&lt;-</span>Tasa_de_desempleo <span class="sc">%&gt;%</span> </span>
<span id="cb1-138"><a href="#cb1-138"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">names_to =</span> <span class="st">"Year"</span>, <span class="at">values_to =</span> <span class="st">"Value"</span>)</span>
<span id="cb1-139"><a href="#cb1-139"></a>Tasa_de_desempleo <span class="ot">&lt;-</span> Tasa_de_desempleo <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">Percent_of_total_labor_force=</span> Value)</span>
<span id="cb1-140"><a href="#cb1-140"></a></span>
<span id="cb1-141"><a href="#cb1-141"></a><span class="co">#Tasa de paro Espa√±a</span></span>
<span id="cb1-142"><a href="#cb1-142"></a>df <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(df_px) </span>
<span id="cb1-143"><a href="#cb1-143"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb1-144"><a href="#cb1-144"></a>  <span class="fu">mutate</span>(<span class="at">fecha =</span> lubridate<span class="sc">::</span><span class="fu">yq</span>(periodo)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-145"><a href="#cb1-145"></a>  <span class="fu">mutate</span>(<span class="at">anyo =</span> lubridate<span class="sc">::</span><span class="fu">year</span>(fecha)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-146"><a href="#cb1-146"></a>  <span class="fu">mutate</span>(<span class="at">trimestre =</span> lubridate<span class="sc">::</span><span class="fu">quarter</span>(fecha))  <span class="sc">%&gt;%</span> </span>
<span id="cb1-147"><a href="#cb1-147"></a>  <span class="fu">select</span>(<span class="sc">-</span>periodo)</span>
<span id="cb1-148"><a href="#cb1-148"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb1-149"><a href="#cb1-149"></a>  <span class="fu">mutate</span>(<span class="at">comunidades_y_ciudades_autonomas =</span> <span class="fu">as.character</span>(comunidades_y_ciudades_autonomas)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-150"><a href="#cb1-150"></a>  <span class="fu">mutate</span>(<span class="at">comunidades_y_ciudades_autonomas =</span> <span class="fu">ifelse</span>(comunidades_y_ciudades_autonomas <span class="sc">==</span> <span class="st">"Total Nacional"</span>,</span>
<span id="cb1-151"><a href="#cb1-151"></a>                             <span class="fu">paste</span>(<span class="st">"00"</span>, comunidades_y_ciudades_autonomas),</span>
<span id="cb1-152"><a href="#cb1-152"></a>                             comunidades_y_ciudades_autonomas)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-153"><a href="#cb1-153"></a>  tidyr<span class="sc">::</span><span class="fu">separate</span>(comunidades_y_ciudades_autonomas, <span class="at">sep =</span> <span class="st">" "</span>, </span>
<span id="cb1-154"><a href="#cb1-154"></a>                  <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"ine_ccaa"</span>, <span class="st">"ine_ccaa.n"</span>), <span class="at">extra =</span> <span class="st">"merge"</span>)</span>
<span id="cb1-155"><a href="#cb1-155"></a>df_original <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb1-156"><a href="#cb1-156"></a>  <span class="fu">select</span>(<span class="st">"edad"</span>,<span class="st">"sexo"</span>,<span class="st">"fecha"</span>, <span class="st">"anyo"</span>, <span class="st">"trimestre"</span>, <span class="st">"ine_ccaa"</span>, <span class="st">"ine_ccaa.n"</span>, <span class="st">"tasa_paro"</span> <span class="ot">=</span> <span class="st">"value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-157"><a href="#cb1-157"></a>  <span class="fu">filter</span>(ine_ccaa <span class="sc">!=</span> <span class="st">"00"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-158"><a href="#cb1-158"></a>  <span class="fu">filter</span>(edad <span class="sc">==</span> <span class="st">"Total"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-159"><a href="#cb1-159"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"edad"</span>,<span class="st">"sexo"</span>,<span class="st">"trimestre"</span>,<span class="st">"anyo"</span>))</span>
<span id="cb1-160"><a href="#cb1-160"></a></span>
<span id="cb1-161"><a href="#cb1-161"></a><span class="co">#PIBpc Espa√±a</span></span>
<span id="cb1-162"><a href="#cb1-162"></a>df_1_pib <span class="ot">&lt;-</span> df_px_1 <span class="sc">%&gt;%</span></span>
<span id="cb1-163"><a href="#cb1-163"></a>  <span class="fu">select</span>(<span class="st">"periodo"</span>,<span class="st">"ccaa"</span><span class="ot">=</span><span class="st">"Comunidades.y.ciudades.aut√≥nomas"</span>,<span class="st">"pib"</span><span class="ot">=</span><span class="st">"value"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-164"><a href="#cb1-164"></a>  <span class="fu">filter</span>(ccaa <span class="sc">!=</span><span class="st">"TOTAL NACIONAL"</span>)</span>
<span id="cb1-165"><a href="#cb1-165"></a></span>
<span id="cb1-166"><a href="#cb1-166"></a>df_2_demo <span class="ot">&lt;-</span> df_px_2 <span class="sc">%&gt;%</span> </span>
<span id="cb1-167"><a href="#cb1-167"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1-168"><a href="#cb1-168"></a>  <span class="fu">select</span>(<span class="sc">-</span>sexo) <span class="sc">%&gt;%</span> </span>
<span id="cb1-169"><a href="#cb1-169"></a>  <span class="fu">filter</span>(comunidades_y_ciudades_autonomas <span class="sc">!=</span> <span class="st">"Total"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-170"><a href="#cb1-170"></a>  <span class="fu">mutate</span>(<span class="at">comunidades_y_ciudades_autonomas =</span> <span class="fu">as.character</span>(comunidades_y_ciudades_autonomas)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-171"><a href="#cb1-171"></a>  tidyr<span class="sc">::</span><span class="fu">separate</span>(comunidades_y_ciudades_autonomas, <span class="at">sep =</span> <span class="st">" "</span>, </span>
<span id="cb1-172"><a href="#cb1-172"></a>                  <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"ine_ccaa"</span>, <span class="st">"ine_ccaa.n"</span>), <span class="at">extra =</span> <span class="st">"merge"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-173"><a href="#cb1-173"></a>  <span class="fu">select</span>(<span class="st">"periodo"</span>,<span class="st">"ine_ccaa.n"</span>,<span class="st">"pob"</span> <span class="ot">=</span> <span class="st">"value"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
<hr></section><section id="contexto-europeo" class="level2"><h2 class="anchored" data-anchor-id="contexto-europeo">3. CONTEXTO EUROPEO</h2>
<p>En este primer apartado, utilizaremos los 3 indicadores principales macroecon√≥micos para comparar el impacto econ√≥mico del covid en pa√≠ses distintos de Europa. Son la variaci√≥n del PIB per capita, la tasa de inflaci√≥n y la tasa de desempleo. Comenzando por el an√°lisis de la variaci√≥n del PIBpc.</p>
<section id="pibpc" class="level3"><h3 class="anchored" data-anchor-id="pibpc">3.1. PIBpc</h3>
<p>En principio, hay una grande divergencia entre la variaci√≥n de PIB. Los datos est√° en el territorio de cada uno. Clasificamos los pa√≠ses en 4 catergor√≠as seg√∫n la variaci√≥n y hacemos un comentario sobre cada categor√≠a: de mejor a peor son: ‚Äúmenos mal‚Äù, ‚Äúmalo‚Äù, ‚Äúmuy malo‚Äù y ‚Äúhorroroso‚Äù. Y como el estereotipo, la econom√≠a de los pa√≠ses del norte es en general mejor que la de los pa√≠ses del sur. La √∫nica diferencia es que las econom√≠as y los ingresos de los pa√≠ses del este de Europa se ver√°n menos afectados que los del oeste. (<del>Nuestra Espa√±ita, por supuesto, est√° ‚Äúhorroroso‚Äù</del>)</p>
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>mapdata <span class="ot">&lt;-</span> <span class="fu">full_join</span>(geometrias,zz3)</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a>mapdata<span class="sc">$</span>my_comentario <span class="ot">&lt;-</span> <span class="fu">factor</span>(mapdata<span class="sc">$</span>my_comentario, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"menos mal"</span>, <span class="st">"malo"</span>, <span class="st">"muy malo"</span>,<span class="st">"horroroso"</span>))</span>
<span id="cb2-4"><a href="#cb2-4"></a>europe_points <span class="ot">&lt;-</span> <span class="fu">st_centroid</span>(mapdata, <span class="at">of_largest_polygon =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-5"><a href="#cb2-5"></a>europe_points <span class="ot">&lt;-</span> <span class="fu">cbind</span>(mapdata, <span class="fu">st_coordinates</span>(<span class="fu">st_centroid</span>(mapdata<span class="sc">$</span>geometry, <span class="at">of_largest_polygon =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb2-6"><a href="#cb2-6"></a></span>
<span id="cb2-7"><a href="#cb2-7"></a></span>
<span id="cb2-8"><a href="#cb2-8"></a>p<span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mapdata)<span class="sc">+</span><span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill=</span>my_comentario,<span class="at">geometry=</span> geometry),<span class="at">size=</span>.<span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb2-9"><a href="#cb2-9"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> europe_points, </span>
<span id="cb2-10"><a href="#cb2-10"></a>            <span class="fu">aes</span>(<span class="at">x =</span> X, <span class="at">y =</span> Y,<span class="at">label =</span> porcentaje), </span>
<span id="cb2-11"><a href="#cb2-11"></a>            <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">check_overlap =</span> <span class="cn">TRUE</span>, <span class="at">size =</span> <span class="fl">1.8</span>)<span class="sc">+</span></span>
<span id="cb2-12"><a href="#cb2-12"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 1:Mi comentario sobre el la econom√≠a europea"</span>,</span>
<span id="cb2-13"><a href="#cb2-13"></a>       <span class="at">subtitle =</span> <span class="st">"(basado en la variaci√≥n de PIB per capital entre 2019 y 2020)"</span>,</span>
<span id="cb2-14"><a href="#cb2-14"></a>       <span class="at">caption =</span> <span class="st">"Ca√≠da media de EU27:5.74%"</span>)<span class="sc">+</span> </span>
<span id="cb2-15"><a href="#cb2-15"></a>       <span class="fu">theme_light</span>()<span class="sc">+</span></span>
<span id="cb2-16"><a href="#cb2-16"></a>       <span class="fu">theme</span>(<span class="at">title=</span><span class="fu">element_text</span>(<span class="at">family=</span><span class="st">"myFont"</span>,<span class="at">size=</span><span class="dv">12</span>,<span class="at">color=</span><span class="st">"red"</span>,</span>
<span id="cb2-17"><a href="#cb2-17"></a>                           <span class="at">face=</span><span class="st">"italic"</span>,<span class="at">hjust=</span><span class="fl">0.2</span>,<span class="at">lineheight=</span><span class="fl">0.2</span>),</span>
<span id="cb2-18"><a href="#cb2-18"></a>             <span class="at">plot.subtitle=</span><span class="fu">element_text</span>(<span class="at">family=</span><span class="st">"myFont"</span>,<span class="at">size=</span><span class="dv">8</span>,<span class="at">color=</span><span class="st">"red"</span>,</span>
<span id="cb2-19"><a href="#cb2-19"></a>                              <span class="at">face=</span><span class="st">"italic"</span>,<span class="at">hjust=</span><span class="fl">0.6</span>,<span class="at">lineheight=</span><span class="fl">0.2</span>),</span>
<span id="cb2-20"><a href="#cb2-20"></a>             <span class="at">axis.title.x=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>,<span class="at">face=</span><span class="st">"bold"</span>,<span class="at">color=</span><span class="st">"blue"</span>,<span class="at">hjust=</span><span class="fl">0.5</span>),</span>
<span id="cb2-21"><a href="#cb2-21"></a>             <span class="at">axis.title.y=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>,<span class="at">color=</span><span class="st">"blue"</span>,<span class="at">hjust=</span><span class="fl">0.5</span>),</span>
<span id="cb2-22"><a href="#cb2-22"></a>             <span class="at">legend.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>,<span class="at">color=</span><span class="st">"black"</span>,<span class="at">hjust=</span><span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb2-23"><a href="#cb2-23"></a>       <span class="fu">coord_sf</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">30</span>,<span class="dv">45</span>),<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">25</span>,<span class="dv">72</span>))</span>
<span id="cb2-24"><a href="#cb2-24"></a>p</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
</section><section id="inflaci√≥n" class="level3"><h3 class="anchored" data-anchor-id="inflaci√≥n">3.2. Inflaci√≥n</h3>
<p>El segundo indicador, la tasa de inflaci√≥n, tambi√©n experimenta un gran incremento durante 2018 y 2022, debido a la interrupci√≥n de la cadena de suministro. Adem√°s, en el principio del 2022, a causa del comienzo de la guerra en Ucrania, ha resultado un nuevo aumento de esta.</p>
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>zzinflation2 <span class="ot">&lt;-</span> zzinflation1 <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"EL"</span>,<span class="st">"Greece"</span>,nombre)) <span class="sc">%&gt;%</span>                 </span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"UK"</span>,<span class="st">"UK"</span>,nombre)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"EA19"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"EU28"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"EU"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>  <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"EA"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"EA18"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"EU27_2020"</span>,<span class="st">"EU27_2020"</span>,nombre)) <span class="sc">%&gt;%</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>  <span class="fu">select</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>,<span class="dv">7</span><span class="sc">:</span><span class="dv">8</span>) <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span> <span class="fu">filter</span>(time <span class="sc">&gt;=</span> <span class="dv">2018</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-8"><a href="#cb3-8"></a>  <span class="fu">rename</span>(<span class="at">year=</span>time) <span class="sc">%&gt;%</span> </span>
<span id="cb3-9"><a href="#cb3-9"></a>  <span class="fu">rename</span>(<span class="at">tasa_de_inflacion=</span>values) <span class="sc">%&gt;%</span></span>
<span id="cb3-10"><a href="#cb3-10"></a>  <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"UK"</span>)</span>
<span id="cb3-11"><a href="#cb3-11"></a></span>
<span id="cb3-12"><a href="#cb3-12"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(zzinflation2,</span>
<span id="cb3-13"><a href="#cb3-13"></a>              <span class="at">caption =</span> <span class="st">"Tabla 1:La tasa de inflaci√≥n por cada pa√≠s"</span>,</span>
<span id="cb3-14"><a href="#cb3-14"></a>              <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb3-15"><a href="#cb3-15"></a>                <span class="at">columnDefs =</span> <span class="fu">list</span>(</span>
<span id="cb3-16"><a href="#cb3-16"></a>                  <span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-center'</span>, </span>
<span id="cb3-17"><a href="#cb3-17"></a>                       <span class="at">targets =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>)),</span>
<span id="cb3-18"><a href="#cb3-18"></a>                <span class="at">pageLength=</span><span class="dv">35</span>)) </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<div id="htmlwidget-738b2d671d38567a5a2a" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-738b2d671d38567a5a2a">{"x":{"filter":"none","vertical":false,"caption":"<caption>Tabla 1:La tasa de inflaci√≥n por cada pa√≠s<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148"],["AL","AT","BE","BG","CH","CY","CZ","DE","DK","EE","EL","ES","EU27_2020","FI","FR","HR","HU","IE","IS","IT","LT","LU","LV","ME","MK","MT","NL","NO","PL","PT","RO","RS","SE","SI","SK","TR","US","AL","AT","BE","BG","CH","CY","CZ","DE","DK","EE","EL","ES","EU27_2020","FI","FR","HR","HU","IE","IS","IT","LT","LU","LV","ME","MK","MT","NL","NO","PL","PT","RO","RS","SE","SI","SK","TR","US","AL","AT","BE","BG","CH","CY","CZ","DE","DK","EE","EL","ES","EU27_2020","FI","FR","HR","HU","IE","IS","IT","LT","LU","LV","ME","MK","MT","NL","NO","PL","PT","RO","RS","SE","SI","SK","TR","US","AL","AT","BE","BG","CH","CY","CZ","DE","DK","EE","EL","ES","EU27_2020","FI","FR","HR","HU","IE","IS","IT","LT","LU","LV","ME","MK","MT","NL","NO","PL","PT","RO","RS","SE","SI","SK","TR","US"],["Albania","Austria","Belgium","Bulgaria","Switzerland","Cyprus","Czechia","Germany","Denmark","Estonia","Greece","Spain","EU27_2020","Finland","France","Croatia","Hungary","Ireland","Iceland","Italy","Lithuania","Luxembourg","Latvia","Montenegro","North Macedonia","Malta","Netherlands","Norway","Poland","Portugal","Romania","Serbia","Sweden","Slovenia","Slovakia","Turkey","United States of America","Albania","Austria","Belgium","Bulgaria","Switzerland","Cyprus","Czechia","Germany","Denmark","Estonia","Greece","Spain","EU27_2020","Finland","France","Croatia","Hungary","Ireland","Iceland","Italy","Lithuania","Luxembourg","Latvia","Montenegro","North Macedonia","Malta","Netherlands","Norway","Poland","Portugal","Romania","Serbia","Sweden","Slovenia","Slovakia","Turkey","United States of America","Albania","Austria","Belgium","Bulgaria","Switzerland","Cyprus","Czechia","Germany","Denmark","Estonia","Greece","Spain","EU27_2020","Finland","France","Croatia","Hungary","Ireland","Iceland","Italy","Lithuania","Luxembourg","Latvia","Montenegro","North Macedonia","Malta","Netherlands","Norway","Poland","Portugal","Romania","Serbia","Sweden","Slovenia","Slovakia","Turkey","United States of America","Albania","Austria","Belgium","Bulgaria","Switzerland","Cyprus","Czechia","Germany","Denmark","Estonia","Greece","Spain","EU27_2020","Finland","France","Croatia","Hungary","Ireland","Iceland","Italy","Lithuania","Luxembourg","Latvia","Montenegro","North Macedonia","Malta","Netherlands","Norway","Poland","Portugal","Romania","Serbia","Sweden","Slovenia","Slovakia","Turkey","United States of America"],["2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2018","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2019","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2020","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021","2021"],[1.8,2.1,2.3,2.6,0.9,0.8,2,1.9,0.7,3.4,0.8,1.7,1.8,1.2,2.1,1.6,2.9,0.7,0.7,1.2,2.5,2,2.6,2.6,2.3,1.7,1.6,3,1.2,1.2,4.1,2,2,1.9,2.5,16.3,2.2,1.7,1.5,1.2,2.5,0.4,0.5,2.6,1.4,0.7,2.3,0.5,0.8,1.4,1.1,1.3,0.8,3.4,0.9,2,0.6,2.2,1.6,2.7,0.5,0.7,1.5,2.7,2.3,2.1,0.3,3.9,1.9,1.7,1.7,2.8,15.2,1.4,2.2,1.4,0.4,1.2,-0.8,-1.1,3.3,0.4,0.3,-0.6,-1.3,-0.3,0.7,0.4,0.5,0,3.4,-0.5,1.2,-0.1,1.1,0,0.1,-0.5,1.2,0.8,1.1,1.2,3.7,-0.1,2.3,1.8,0.7,-0.3,2,12.3,0.8,2.3,2.8,3.2,2.8,0.5,2.3,3.3,3.2,1.9,4.5,0.6,3,2.9,2.1,2.1,2.7,5.2,2.4,3.7,1.9,4.6,3.5,3.2,2.5,3.4,0.7,2.8,3.9,5.2,0.9,4.1,4,2.7,2,2.8,19.6,5.3]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>geo<\/th>\n      <th>nombre<\/th>\n      <th>year<\/th>\n      <th>tasa_de_inflacion<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-center","targets":[0,1,2,3,4]},{"orderable":false,"targets":0}],"pageLength":35,"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,25,35,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section id="tasa-de-desempleo" class="level3"><h3 class="anchored" data-anchor-id="tasa-de-desempleo">3.3. Tasa de desempleo</h3>
<p>La interrupci√≥n de la producci√≥n por el confinamiento a principios del 2020, ha provocado que miles de personas pierdan sus trabajos; como se refleja en el siguiente gr√°fico, el n√∫mero exacto cambia cada mes:</p>
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>dfparo2 <span class="ot">&lt;-</span> dfparo1 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">fecha =</span> lubridate<span class="sc">::</span><span class="fu">ym</span>(time), <span class="at">.after =</span> time)<span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2"></a>           <span class="fu">mutate</span>(<span class="at">anyo =</span> lubridate<span class="sc">::</span><span class="fu">year</span>(fecha), <span class="at">.after =</span> fecha) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3"></a>           <span class="fu">mutate</span>(<span class="at">mes =</span> lubridate<span class="sc">::</span><span class="fu">month</span>(fecha), <span class="at">.after =</span> anyo) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>           <span class="fu">filter</span>(anyo <span class="sc">&gt;=</span> <span class="dv">2019</span>) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">country=</span>nombre) <span class="sc">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5"></a>           <span class="fu">mutate</span>(<span class="at">country.f =</span> forcats<span class="sc">::</span><span class="fu">as_factor</span>(country)) <span class="sc">%&gt;%</span></span>
<span id="cb4-6"><a href="#cb4-6"></a>           <span class="fu">mutate</span>(<span class="at">country.ff =</span> forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(country, values,<span class="at">.desc =</span> <span class="cn">TRUE</span>))<span class="sc">%&gt;%</span>                   <span class="fu">group_by</span>(time) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">pais=</span> country.ff) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">tasa_de_paro=</span> values)<span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7"></a>           <span class="fu">filter</span>(fecha <span class="sc">!=</span> <span class="st">"2022-11-01"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(geo<span class="sc">!=</span> <span class="st">"UK"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(geo<span class="sc">!=</span> <span class="st">"TR"</span>) </span>
<span id="cb4-8"><a href="#cb4-8"></a></span>
<span id="cb4-9"><a href="#cb4-9"></a></span>
<span id="cb4-10"><a href="#cb4-10"></a>pparo <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(dfparo2,<span class="fu">aes</span>(<span class="at">x=</span> country,<span class="at">y=</span> tasa_de_paro,<span class="at">color =</span> country,<span class="at">fill=</span>country)) <span class="sc">+</span> </span>
<span id="cb4-11"><a href="#cb4-11"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">'identity'</span>) <span class="sc">+</span> </span>
<span id="cb4-12"><a href="#cb4-12"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb4-13"><a href="#cb4-13"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label=</span>tasa_de_paro), </span>
<span id="cb4-14"><a href="#cb4-14"></a>                <span class="at">position =</span> <span class="fu">position_dodge2</span>(<span class="at">width =</span> <span class="fl">0.9</span>, <span class="at">preserve =</span> <span class="st">'single'</span>))</span>
<span id="cb4-15"><a href="#cb4-15"></a>pparo <span class="sc">+</span> </span>
<span id="cb4-16"><a href="#cb4-16"></a>  <span class="fu">transition_manual</span>(fecha) <span class="sc">+</span></span>
<span id="cb4-17"><a href="#cb4-17"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 2:Tasa de paro en {current_frame}"</span>) <span class="sc">+</span></span>
<span id="cb4-18"><a href="#cb4-18"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb4-19"><a href="#cb4-19"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-4-1.gif" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
<section id="a.-pigs" class="level4"><h4 class="anchored" data-anchor-id="a.-pigs">A. PIGS</h4>
<p>En este subapartado, nos enfocaremos en los PIGS. PIGS es un acr√≥nimo peyorativo en ingl√©s con el que medios financieros anglosajones y del norte de Europa se refieren en ocasiones al grupo de cuatro pa√≠ses del sur de Europa conformado por Portugal, Italia, Grecia y Espa√±a. A pesar de todo, como se ve en los gr√°ficos anteriores, la econom√≠a irlandesa comporta de forma distinta al resto. De este modo, realizaremos una compraci√≥n con los datos de los PIGS con Irlanda.</p>
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>dfparopigs <span class="ot">&lt;-</span> dfparo2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Spain"</span>,<span class="st">"Italy"</span>,<span class="st">"Portugal"</span>,<span class="st">"Ireland"</span>,<span class="st">"Greece"</span>))</span>
<span id="cb5-2"><a href="#cb5-2"></a></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="fu">ggplot</span>(<span class="at">data=</span> dfparopigs, <span class="fu">aes</span>(<span class="at">x=</span>fecha, <span class="at">y=</span>tasa_de_paro, <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> country), <span class="at">linetype=</span> <span class="st">"solid"</span>,<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>  <span class="fu">transition_reveal</span>(fecha) <span class="sc">+</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 3: La variaci√≥n de tasa de paro de los pa√≠ses de PIGS"</span>,</span>
<span id="cb5-8"><a href="#cb5-8"></a>       <span class="at">subtitle =</span> <span class="st">"(Espa√±a,Irlanda,Portugal,Italia y Grecia)"</span>,</span>
<span id="cb5-9"><a href="#cb5-9"></a>       <span class="at">caption =</span> <span class="st">"Datos provenientes del Eurostat"</span>,</span>
<span id="cb5-10"><a href="#cb5-10"></a>       <span class="at">x =</span> <span class="st">"tiempo"</span>,</span>
<span id="cb5-11"><a href="#cb5-11"></a>       <span class="at">y =</span> <span class="st">" tasa de paro "</span>) <span class="sc">+</span></span>
<span id="cb5-12"><a href="#cb5-12"></a>  <span class="fu">theme_solarized</span>()<span class="sc">+</span></span>
<span id="cb5-13"><a href="#cb5-13"></a>  <span class="fu">theme</span>(<span class="at">title=</span><span class="fu">element_text</span>(<span class="at">family=</span><span class="st">"myFont"</span>,<span class="at">size=</span><span class="dv">14</span>,<span class="at">color=</span><span class="st">"black"</span>,</span>
<span id="cb5-14"><a href="#cb5-14"></a>                           <span class="at">face=</span><span class="st">"italic"</span>,<span class="at">hjust=</span><span class="fl">0.2</span>,<span class="at">lineheight=</span><span class="fl">0.8</span>),</span>
<span id="cb5-15"><a href="#cb5-15"></a>        <span class="at">plot.subtitle=</span><span class="fu">element_text</span>(<span class="at">family=</span><span class="st">"myFont"</span>,<span class="at">size=</span><span class="dv">8</span>,<span class="at">color=</span><span class="st">"black"</span>,</span>
<span id="cb5-16"><a href="#cb5-16"></a>                                   <span class="at">face=</span><span class="st">"italic"</span>,<span class="at">hjust=</span><span class="fl">0.6</span>,<span class="at">lineheight=</span><span class="fl">0.2</span>))<span class="sc">+</span></span>
<span id="cb5-17"><a href="#cb5-17"></a>       <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Dark2"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-5-1.gif" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
</section></section></section><section id="a-nivel-internacional" class="level2"><h2 class="anchored" data-anchor-id="a-nivel-internacional">4. A NIVEL INTERNACIONAL</h2>
<p>A continuaci√≥n, vamos a hacer un estudio de las consecuencias econ√≥micas que ha provocado la crisis de la pandemia sobre el mundo.</p>
<section id="importaci√≥n-y-exportaci√≥n-entre-pa√≠ses-elegidos" class="level3"><h3 class="anchored" data-anchor-id="importaci√≥n-y-exportaci√≥n-entre-pa√≠ses-elegidos">4.1. Importaci√≥n y exportaci√≥n entre pa√≠ses elegidos</h3>
<p>En primer lugar, hemos escogido 8 pa√≠ses del mundo al azar: Australia, China, Francia, Alemania, Jap√≥n, R√∫sia, Espa√±a y Estados Unidos. Nuestra intenci√≥n es comparar tanto la evoluci√≥n de las tasas de exportaciones e importaciones para cada pa√≠s durante la √©poca de la pandemia, y adem√°s una comparaci√≥n entre ellos.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Exportaci√≥n</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Importaci√≥n</a></li>
</ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>Comenzando por las exportaciones, nos encontramos que:</p>
<ul>
<li><p>Australia: en el 2019 tiene tasa de exportaci√≥n positiva, pero en el 2020 ha sufrido una ca√≠da brusca, aunque en el 2021 ha mejorado comparado con el a√±o anterior, sigue teniendo una tasa negativa.</p></li>
<li><p>China: su exportaci√≥n ha ido creciendo desde el 2019 al 2021, en el √∫ltimo ha experimentado un incremento disparado.</p></li>
<li><p>Tanto Francia, Alemania, Espa√±a y Estados Unidos han evolucionado de forma similar, en el 2019 tienen tasas positivas, ca√≠das durante el 2020 y en el 2021 han recuperado y han mejorado comparado con el 2019.</p></li>
<li><p>Las tendencias de Jap√≥n y R√∫sia son similares: son los dos √∫nicos pa√≠ses que antes y durante la pandemia generaban tasas de exportaci√≥n negativas, y que luego consiguen expandir sus tasas en el 2021.</p></li>
</ul>
<p>Destacamos que, siendo Australia el √∫nico pa√≠s que a√∫n no ha recuperado su tasa de exportaci√≥n a posteriori, pero los dem√°s pa√≠ses han ido recuperado y mejorado, y como caso particular, China ha sido el √∫nico pa√≠s beneficiado en su tasa de exportaci√≥n por la pandemia.</p>
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co">#exportacion</span></span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_export, <span class="fu">aes</span>(<span class="at">x=</span>Country, <span class="at">y=</span> Tasa_de_exportacion, <span class="at">fill=</span> Country)) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 4: Tasas de exportaci√≥n entre 8 pa√≠ses"</span> ,</span>
<span id="cb6-5"><a href="#cb6-5"></a>       <span class="at">subtitle =</span> <span class="st">" Periodo 2019-2021"</span>,</span>
<span id="cb6-6"><a href="#cb6-6"></a>      <span class="at">caption  =</span> <span class="st">"Fuente: FMI"</span>) <span class="sc">+</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>  <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span> (Year))<span class="sc">+</span></span>
<span id="cb6-8"><a href="#cb6-8"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>)<span class="sc">+</span></span>
<span id="cb6-9"><a href="#cb6-9"></a>  <span class="fu">theme_light</span>()<span class="sc">+</span></span>
<span id="cb6-10"><a href="#cb6-10"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb6-11"><a href="#cb6-11"></a>                                   <span class="at">hjust =</span> <span class="dv">1</span>,</span>
<span id="cb6-12"><a href="#cb6-12"></a>                                   <span class="at">vjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb6-13"><a href="#cb6-13"></a></span>
<span id="cb6-14"><a href="#cb6-14"></a></span>
<span id="cb6-15"><a href="#cb6-15"></a>p1</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>En las importaciones, nos encontramos situaciones parecidas:</p>
<ul>
<li><p>Australia y China son los dos pa√≠ses que en 2019 tienen tasas de importaciones negativas, pero no elevadas. En el 2020, aunque siguen teniendo tasas inferiores, pero China mejora su tasa y Australaia empeora. Luego en el 2021 los dos consiguen tasas positivas.</p></li>
<li><p>Y los 6 dem√°s pa√≠ses siguen una tendencia de +,-,+.</p></li>
</ul>
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_import, <span class="fu">aes</span>(<span class="at">x=</span> Country,<span class="at">y=</span> Tasa_de_importacion, <span class="at">fill=</span> Country)) <span class="sc">+</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 5: Tasas de importaci√≥n entre 8 pa√≠ses"</span>, </span>
<span id="cb7-3"><a href="#cb7-3"></a>       <span class="at">subtitle =</span> <span class="st">" Periodo 2019-2021"</span>,</span>
<span id="cb7-4"><a href="#cb7-4"></a>      <span class="at">caption  =</span> <span class="st">"Fuente: FMI"</span>)<span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span> (Year))<span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>)<span class="sc">+</span> </span>
<span id="cb7-7"><a href="#cb7-7"></a>  <span class="fu">theme_light</span>()<span class="sc">+</span></span>
<span id="cb7-8"><a href="#cb7-8"></a>  <span class="fu">theme</span> (<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb7-9"><a href="#cb7-9"></a>                                   <span class="at">hjust =</span> <span class="dv">1</span>,</span>
<span id="cb7-10"><a href="#cb7-10"></a>                                   <span class="at">vjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb7-11"><a href="#cb7-11"></a></span>
<span id="cb7-12"><a href="#cb7-12"></a>p2</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section id="evoluci√≥n-del-pib-de-los-10-pa√≠ses-escogidos-durante-2019-2021" class="level3"><h3 class="anchored" data-anchor-id="evoluci√≥n-del-pib-de-los-10-pa√≠ses-escogidos-durante-2019-2021">4.2. Evoluci√≥n del PIB de los 10 pa√≠ses escogidos durante 2019-2021</h3>
<p>En segundo lugar, nos encontramos una comparaci√≥n de la evoluci√≥n del PIB de los siguientes pa√≠ses: Australia, Dinamarca, Islanda, Irlanda, Luxemburgo, Macao, Noruega, Qatar, Singapur, Suiza y Estados Unidos.</p>
<ul>
<li><p>Pa√≠ses con movimiento creciente, es decir, el PIB ha ido creciendo de per√≠odo a per√≠odo. Son Dinamarca, Irlanda, Luxemburgo y Suiza.</p></li>
<li><p>Pa√≠ses con decrecimiento en 2020 y expansi√≥n en 2021 son Islanda, Noruega, Qatar, Singapur y Estados Unidos.</p></li>
<li><p>Australia y Macao no tienen datos completos.</p></li>
</ul>
<p>En todo caso, ninguno de los 10 pa√≠ses ha tenido grandes fluctuaciones.</p>
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>df_2 <span class="ot">&lt;-</span> <span class="fu">full_join</span>(df_2019, df_2020)</span>
<span id="cb8-2"><a href="#cb8-2"></a>df_2 <span class="ot">&lt;-</span> <span class="fu">full_join</span>(df_2 , df_2021)</span>
<span id="cb8-3"><a href="#cb8-3"></a></span>
<span id="cb8-4"><a href="#cb8-4"></a>p4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_2, <span class="fu">aes</span>(Year, Value, <span class="at">color =</span> Country)) <span class="sc">+</span> </span>
<span id="cb8-5"><a href="#cb8-5"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(Year, Value, <span class="at">color =</span> Country)) <span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 6: Evoluci√≥n del PIB de los 10 pa√≠ses escogidos "</span>,</span>
<span id="cb8-7"><a href="#cb8-7"></a>       <span class="at">subtitle =</span> <span class="st">"Periodo:2019-2021"</span>,</span>
<span id="cb8-8"><a href="#cb8-8"></a>       <span class="at">caption =</span> <span class="st">"Fuente: FMI"</span>,</span>
<span id="cb8-9"><a href="#cb8-9"></a>       <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb8-10"><a href="#cb8-10"></a>       <span class="at">y =</span> <span class="st">"PIB per capita"</span>,</span>
<span id="cb8-11"><a href="#cb8-11"></a>       <span class="at">color =</span> <span class="st">"Country"</span>)<span class="sc">+</span></span>
<span id="cb8-12"><a href="#cb8-12"></a>  <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span> (Country))<span class="sc">+</span> </span>
<span id="cb8-13"><a href="#cb8-13"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb8-14"><a href="#cb8-14"></a>  <span class="fu">theme</span> (<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb8-15"><a href="#cb8-15"></a>                                    <span class="at">hjust =</span> <span class="dv">1</span>,</span>
<span id="cb8-16"><a href="#cb8-16"></a>                                    <span class="at">vjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb8-17"><a href="#cb8-17"></a></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="fu">ggplotly</span>(p4)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="htmlwidget-4e4709993cc7d0d52ca9" style="width:95%;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-4e4709993cc7d0d52ca9">{"x":{"data":[{"x":[2,3],"y":[52952.827,63464.106],"text":["Year: 2020<br />Value:  52952.83<br />Country: Australia","Year: 2021<br />Value:  63464.11<br />Country: Australia"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"Australia","legendgroup":"Australia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3],"y":[59678.596,61005.841,68202.07],"text":["Year: 2019<br />Value:  59678.60<br />Country: Denmark","Year: 2020<br />Value:  61005.84<br />Country: Denmark","Year: 2021<br />Value:  68202.07<br />Country: Denmark"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(219,142,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(219,142,0,1)"}},"hoveron":"points","name":"Denmark","legendgroup":"Denmark","showlegend":true,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3],"y":[69542.649,59578.822,69422.382],"text":["Year: 2019<br />Value:  69542.65<br />Country: Iceland","Year: 2020<br />Value:  59578.82<br />Country: Iceland","Year: 2021<br />Value:  69422.38<br />Country: Iceland"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(174,162,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(174,162,0,1)"}},"hoveron":"points","name":"Iceland","legendgroup":"Iceland","showlegend":true,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3],"y":[80690.152,85225.087,100129.453],"text":["Year: 2019<br />Value:  80690.15<br />Country: Ireland","Year: 2020<br />Value:  85225.09<br />Country: Ireland","Year: 2021<br />Value: 100129.45<br />Country: Ireland"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(100,178,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(100,178,0,1)"}},"hoveron":"points","name":"Ireland","legendgroup":"Ireland","showlegend":true,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3],"y":[114357.509,117063.654,136701.396],"text":["Year: 2019<br />Value: 114357.51<br />Country: Luxembourg","Year: 2020<br />Value: 117063.65<br />Country: Luxembourg","Year: 2021<br />Value: 136701.40<br />Country: Luxembourg"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,189,92,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,189,92,1)"}},"hoveron":"points","name":"Luxembourg","legendgroup":"Luxembourg","showlegend":true,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1],"y":[81231.549],"text":"Year: 2019<br />Value:  81231.55<br />Country: Macao SAR","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,193,167,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,193,167,1)"}},"hoveron":"points","name":"Macao SAR","legendgroup":"Macao SAR","showlegend":true,"xaxis":"x6","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3],"y":[75594.048,67265.894,89041.586],"text":["Year: 2019<br />Value:  75594.05<br />Country: Norway","Year: 2020<br />Value:  67265.89<br />Country: Norway","Year: 2021<br />Value:  89041.59<br />Country: Norway"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,186,222,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,186,222,1)"}},"hoveron":"points","name":"Norway","legendgroup":"Norway","showlegend":true,"xaxis":"x7","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3],"y":[63007.696,53797.937,68621.644],"text":["Year: 2019<br />Value:  63007.70<br />Country: Qatar","Year: 2020<br />Value:  53797.94<br />Country: Qatar","Year: 2021<br />Value:  68621.64<br />Country: Qatar"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,166,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,166,255,1)"}},"hoveron":"points","name":"Qatar","legendgroup":"Qatar","showlegend":true,"xaxis":"x8","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3],"y":[65833.2,60727.616,72794.906],"text":["Year: 2019<br />Value:  65833.20<br />Country: Singapore","Year: 2020<br />Value:  60727.62<br />Country: Singapore","Year: 2021<br />Value:  72794.91<br />Country: Singapore"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(179,133,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(179,133,255,1)"}},"hoveron":"points","name":"Singapore","legendgroup":"Singapore","showlegend":true,"xaxis":"x9","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3],"y":[84476.471,85870.059,92248.643],"text":["Year: 2019<br />Value:  84476.47<br />Country: Switzerland","Year: 2020<br />Value:  85870.06<br />Country: Switzerland","Year: 2021<br />Value:  92248.64<br />Country: Switzerland"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(239,103,235,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(239,103,235,1)"}},"hoveron":"points","name":"Switzerland","legendgroup":"Switzerland","showlegend":true,"xaxis":"x10","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3],"y":[65051.88,63078.471,69227.11],"text":["Year: 2019<br />Value:  65051.88<br />Country: United States","Year: 2020<br />Value:  63078.47<br />Country: United States","Year: 2021<br />Value:  69227.11<br />Country: United States"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,99,182,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(255,99,182,1)"}},"hoveron":"points","name":"United States","legendgroup":"United States","showlegend":true,"xaxis":"x11","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":55.4520547945205,"r":18.9954337899543,"b":51.8721461187215,"l":60.6392694063927},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Gr√°fico 6: Evoluci√≥n del PIB de los 10 pa√≠ses escogidos ","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,0.0868321176540355],"automargin":true,"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["2019","2020","2021"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["2019","2020","2021"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"annotations":[{"text":"Year","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-33.6073059360731},{"text":"PIB per capita","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-45.296803652968},{"text":"Australia","x":0.0434160588270177,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Denmark","x":0.136363636363636,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Iceland","x":0.227272727272727,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Ireland","x":0.318181818181818,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Luxembourg","x":0.409090909090909,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Macao SAR","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Norway","x":0.590909090909091,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Qatar","x":0.681818181818182,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Singapore","x":0.772727272727273,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Switzerland","x":0.863636363636364,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"United States","x":0.956583941172982,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[48765.39855,140888.82445],"tickmode":"array","ticktext":["50000","75000","100000","125000"],"tickvals":[50000,75000,100000,125000],"categoryorder":"array","categoryarray":["50000","75000","100000","125000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.0868321176540355,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.0868321176540355,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.0949860641641464,"x1":0.177741208563126,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.0949860641641464,"x1":0.177741208563126,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.185895155073237,"x1":0.268650299472217,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.185895155073237,"x1":0.268650299472217,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.276804245982328,"x1":0.359559390381308,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.276804245982328,"x1":0.359559390381308,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.367713336891419,"x1":0.450468481290399,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.367713336891419,"x1":0.450468481290399,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.45862242780051,"x1":0.54137757219949,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.45862242780051,"x1":0.54137757219949,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.549531518709601,"x1":0.632286663108581,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.549531518709601,"x1":0.632286663108581,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.640440609618692,"x1":0.723195754017672,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.640440609618692,"x1":0.723195754017672,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.731349700527783,"x1":0.814104844926763,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.731349700527783,"x1":0.814104844926763,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.822258791436874,"x1":0.905013935835854,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.822258791436874,"x1":0.905013935835854,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.913167882345965,"x1":1,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.913167882345965,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["2019","2020","2021"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["2019","2020","2021"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.0949860641641464,0.177741208563126],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["2019","2020","2021"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["2019","2020","2021"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.185895155073237,0.268650299472217],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis4":{"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["2019","2020","2021"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["2019","2020","2021"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.276804245982328,0.359559390381308],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis5":{"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["2019","2020","2021"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["2019","2020","2021"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.367713336891419,0.450468481290399],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis6":{"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["2019","2020","2021"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["2019","2020","2021"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.45862242780051,0.54137757219949],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis7":{"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["2019","2020","2021"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["2019","2020","2021"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.549531518709601,0.632286663108581],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis8":{"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["2019","2020","2021"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["2019","2020","2021"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.640440609618692,0.723195754017672],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis9":{"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["2019","2020","2021"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["2019","2020","2021"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.731349700527783,0.814104844926763],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis10":{"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["2019","2020","2021"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["2019","2020","2021"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.822258791436874,0.905013935835854],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis11":{"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["2019","2020","2021"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["2019","2020","2021"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.913167882345965,1],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Country","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"28105da46ca9":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"28105da46ca9","visdat":{"28105da46ca9":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section id="consecuencias-sobre-el-empleo-de-las-econom√≠as-avanzadas-por-la-crisis" class="level3"><h3 class="anchored" data-anchor-id="consecuencias-sobre-el-empleo-de-las-econom√≠as-avanzadas-por-la-crisis">4.3. Consecuencias sobre el empleo de las econom√≠as avanzadas por la crisis</h3>
<p>Por √∫ltimo, hemos utilizado la fuerza laboral como variable para explicar el impacto de la crisis sobre el √°mbito laboral de las 40 econom√≠as avanzadas.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">1</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">2</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">3</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" role="tab" aria-controls="tabset-3-4" aria-selected="false">4</a></li>
</ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>Tasa_de_desempleo_1 <span class="ot">&lt;-</span>Tasa_de_desempleo <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span> <span class="dv">27</span>)</span>
<span id="cb9-2"><a href="#cb9-2"></a></span>
<span id="cb9-3"><a href="#cb9-3"></a>p4 <span class="ot">&lt;-</span><span class="fu">ggplot</span>(Tasa_de_desempleo_1, <span class="fu">aes</span>(Year, Percent_of_total_labor_force, <span class="at">label =</span> Percent_of_total_labor_force, <span class="at">color=</span> Year)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 7: Porcentaje de la fuerza laboral total durante el periodo 2019/2021 "</span> ,</span>
<span id="cb9-5"><a href="#cb9-5"></a>       <span class="at">caption =</span> <span class="st">"Datos provenientes de FMI"</span>,</span>
<span id="cb9-6"><a href="#cb9-6"></a>       <span class="at">y =</span> <span class="st">"Percent_of_total_labor_force"</span>,</span>
<span id="cb9-7"><a href="#cb9-7"></a>       <span class="at">x =</span> <span class="st">"Year"</span>) <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Country))<span class="sc">+</span></span>
<span id="cb9-9"><a href="#cb9-9"></a>  <span class="fu">geom_label_repel</span>()<span class="sc">+</span> </span>
<span id="cb9-10"><a href="#cb9-10"></a>  <span class="fu">theme_light</span>()<span class="sc">+</span></span>
<span id="cb9-11"><a href="#cb9-11"></a>  <span class="fu">theme</span> (<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb9-12"><a href="#cb9-12"></a>                                    <span class="at">hjust =</span> <span class="dv">1</span>,</span>
<span id="cb9-13"><a href="#cb9-13"></a>                                    <span class="at">vjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb9-14"><a href="#cb9-14"></a></span>
<span id="cb9-15"><a href="#cb9-15"></a>p4</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>Tasa_de_desempleo_2 <span class="ot">&lt;-</span> Tasa_de_desempleo <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">28</span><span class="sc">:</span><span class="dv">60</span>)</span>
<span id="cb10-2"><a href="#cb10-2"></a></span>
<span id="cb10-3"><a href="#cb10-3"></a>p5 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(Tasa_de_desempleo_2, <span class="fu">aes</span>(Year, Percent_of_total_labor_force, <span class="at">label =</span> Percent_of_total_labor_force, <span class="at">color=</span> Year)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 8: Porcentaje de fuerza laboral total durante el periodo 2019/2021 "</span> ,</span>
<span id="cb10-5"><a href="#cb10-5"></a>       <span class="at">caption =</span> <span class="st">"Datos provenientes de FMI"</span>,</span>
<span id="cb10-6"><a href="#cb10-6"></a>       <span class="at">y =</span> <span class="st">"Percent_of_total_labor_force"</span>,</span>
<span id="cb10-7"><a href="#cb10-7"></a>       <span class="at">x =</span> <span class="st">"Year"</span>) <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb10-8"><a href="#cb10-8"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Country))<span class="sc">+</span></span>
<span id="cb10-9"><a href="#cb10-9"></a>  <span class="fu">geom_label_repel</span>()<span class="sc">+</span> </span>
<span id="cb10-10"><a href="#cb10-10"></a>  <span class="fu">theme_light</span>()<span class="sc">+</span></span>
<span id="cb10-11"><a href="#cb10-11"></a>  <span class="fu">theme</span> (<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb10-12"><a href="#cb10-12"></a>                                    <span class="at">hjust =</span> <span class="dv">1</span>,</span>
<span id="cb10-13"><a href="#cb10-13"></a>                                    <span class="at">vjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb10-14"><a href="#cb10-14"></a>p5</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>Tasa_de_desempleo_3 <span class="ot">&lt;-</span> Tasa_de_desempleo <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">61</span><span class="sc">:</span><span class="dv">90</span>)</span>
<span id="cb11-2"><a href="#cb11-2"></a></span>
<span id="cb11-3"><a href="#cb11-3"></a>p6 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(Tasa_de_desempleo_3, <span class="fu">aes</span>(Year, Percent_of_total_labor_force, <span class="at">label =</span> Percent_of_total_labor_force, <span class="at">color=</span> Year)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 9: Porcentaje de fuerza laboral total durante el periodo 2019/2021 "</span> ,</span>
<span id="cb11-5"><a href="#cb11-5"></a>       <span class="at">caption =</span> <span class="st">"Datos provenientes de FMI"</span>,</span>
<span id="cb11-6"><a href="#cb11-6"></a>       <span class="at">y =</span> <span class="st">"Percent_of_total_labor_force"</span>,</span>
<span id="cb11-7"><a href="#cb11-7"></a>       <span class="at">x =</span> <span class="st">"Year"</span>) <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb11-8"><a href="#cb11-8"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Country))<span class="sc">+</span></span>
<span id="cb11-9"><a href="#cb11-9"></a>  <span class="fu">geom_label_repel</span>()<span class="sc">+</span> </span>
<span id="cb11-10"><a href="#cb11-10"></a>  <span class="fu">theme_light</span>()<span class="sc">+</span></span>
<span id="cb11-11"><a href="#cb11-11"></a>  <span class="fu">theme</span> (<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb11-12"><a href="#cb11-12"></a>                                    <span class="at">hjust =</span> <span class="dv">1</span>,</span>
<span id="cb11-13"><a href="#cb11-13"></a>                                    <span class="at">vjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb11-14"><a href="#cb11-14"></a>p6</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-3-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-4-tab">
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>Tasa_de_desempleo_4 <span class="ot">&lt;-</span> Tasa_de_desempleo <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">91</span><span class="sc">:</span><span class="dv">120</span>)</span>
<span id="cb12-2"><a href="#cb12-2"></a></span>
<span id="cb12-3"><a href="#cb12-3"></a>p7 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(Tasa_de_desempleo_4, <span class="fu">aes</span>(Year, Percent_of_total_labor_force, <span class="at">label =</span> Percent_of_total_labor_force, <span class="at">color=</span> Year)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 10: Porcentaje de fuerza laboral total durante el periodo 2019/2021 "</span> ,</span>
<span id="cb12-5"><a href="#cb12-5"></a>       <span class="at">caption =</span> <span class="st">"Datos provenientes de FMI"</span>,</span>
<span id="cb12-6"><a href="#cb12-6"></a>       <span class="at">y =</span> <span class="st">"Percent_of_total_labor_force"</span>,</span>
<span id="cb12-7"><a href="#cb12-7"></a>       <span class="at">x =</span> <span class="st">"Year"</span>) <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb12-8"><a href="#cb12-8"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Country))<span class="sc">+</span></span>
<span id="cb12-9"><a href="#cb12-9"></a>  <span class="fu">geom_label_repel</span>()<span class="sc">+</span> </span>
<span id="cb12-10"><a href="#cb12-10"></a>  <span class="fu">theme_light</span>()<span class="sc">+</span></span>
<span id="cb12-11"><a href="#cb12-11"></a>  <span class="fu">theme</span> (<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb12-12"><a href="#cb12-12"></a>                                    <span class="at">hjust =</span> <span class="dv">1</span>,</span>
<span id="cb12-13"><a href="#cb12-13"></a>                                    <span class="at">vjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb12-14"><a href="#cb12-14"></a>p7</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<hr></section></section><section id="efectos-sobre-la-econom√≠a-espa√±ola" class="level2"><h2 class="anchored" data-anchor-id="efectos-sobre-la-econom√≠a-espa√±ola">5. EFECTOS SOBRE LA ECONOM√çA ESPA√ëOLA</h2>
<p>Una vez analizado el entorno europeo y entorno internacional, es este apartado nos enfocaremos en el contexto espa√±ol.</p>
<section id="evoluci√≥n-de-la-tasa-de-paro" class="level3"><h3 class="anchored" data-anchor-id="evoluci√≥n-de-la-tasa-de-paro">5.1. Evoluci√≥n de la tasa de paro</h3>
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>mapa <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(<span class="st">"https://raw.githubusercontent.com/R-CoderDotCom/data/main/shapefile_spain/spain.geojson"</span>)</span>
<span id="cb13-2"><a href="#cb13-2"></a></span>
<span id="cb13-3"><a href="#cb13-3"></a>df_ok <span class="ot">&lt;-</span> <span class="fu">left_join</span>(df_original, mapa, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ine_ccaa"</span> <span class="ot">=</span> <span class="st">"ccaa_id"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(name, unemp_rate))</span>
<span id="cb13-5"><a href="#cb13-5"></a></span>
<span id="cb13-6"><a href="#cb13-6"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb13-7"><a href="#cb13-7"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> df_ok, </span>
<span id="cb13-8"><a href="#cb13-8"></a>          <span class="fu">aes</span>(<span class="at">geometry =</span> geometry, <span class="at">fill =</span> tasa_paro), </span>
<span id="cb13-9"><a href="#cb13-9"></a>          <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="fl">0.09</span>) <span class="sc">+</span> </span>
<span id="cb13-10"><a href="#cb13-10"></a>  <span class="fu">coord_sf</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">10.00</span>, <span class="fl">5.00</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">35</span>, <span class="cn">NA</span>), <span class="at">expand =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb13-11"><a href="#cb13-11"></a>  <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"white"</span>,<span class="at">high=</span><span class="st">"darkred"</span>) <span class="sc">+</span></span>
<span id="cb13-12"><a href="#cb13-12"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb13-13"><a href="#cb13-13"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb13-14"><a href="#cb13-14"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb13-15"><a href="#cb13-15"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x=</span><span class="fu">element_blank</span>(),</span>
<span id="cb13-16"><a href="#cb13-16"></a>        <span class="at">axis.text.x=</span><span class="fu">element_blank</span>(),</span>
<span id="cb13-17"><a href="#cb13-17"></a>        <span class="at">axis.ticks.x=</span><span class="fu">element_blank</span>(),</span>
<span id="cb13-18"><a href="#cb13-18"></a>        <span class="at">axis.title.y=</span><span class="fu">element_blank</span>(),</span>
<span id="cb13-19"><a href="#cb13-19"></a>        <span class="at">axis.text.y=</span><span class="fu">element_blank</span>(),</span>
<span id="cb13-20"><a href="#cb13-20"></a>        <span class="at">axis.ticks.y=</span><span class="fu">element_blank</span>()) <span class="sc">+</span> </span>
<span id="cb13-21"><a href="#cb13-21"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Evoluc√≠on de la tasa de paro en Espa√±a"</span>) <span class="sc">+</span></span>
<span id="cb13-22"><a href="#cb13-22"></a>  <span class="fu">transition_time</span>(fecha) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">'Fecha: {frame_time}'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="./datos/tasa_paro.gif" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Gr√°fico 11: Evoluci√≥n de la tasa de paro en Espa√±a</figcaption><p></p>
</figure>
</div>
<p>Podemos ver c√≥mo ha ido evolucionando la tasa de paro en las regiones de Espa√±a desde el 2019 hasta el 2022. Teniendo en cuenta que el a√±o 2020 es el periodo donde m√°s ha crecido la tasa de paro, especialmente a partir del segundo trimestre del a√±o. Como conocemos, es cuando empieza la √©poca del confinamiento. La situaci√≥n mejora a partir del 2021, gracias a la recuperaci√≥n econ√≥mica.</p>
</section><section id="ranking-de-las-ccaa-seg√∫n-el-pibpc" class="level3"><h3 class="anchored" data-anchor-id="ranking-de-las-ccaa-seg√∫n-el-pibpc">5.2. Ranking de las CCAA seg√∫n el PIBpc</h3>
<p>En primer lugar, vamos a mostrar el ranking de las CCAA de acuerdo con el PIBpc de cada regi√≥n desde el 2016 al 2020. De esta forma, podemos observar qu√© regiones han sido afectadas por el covid-19 en el 2020.</p>
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>df_ok <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(df_1_pib,df_2_demo)</span>
<span id="cb14-2"><a href="#cb14-2"></a>df_ok <span class="ot">&lt;-</span> df_ok <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="fu">select</span>(<span class="st">"periodo"</span> <span class="ot">=</span> <span class="st">"periodo...1"</span>, <span class="st">"ccaa"</span>, <span class="st">"pib"</span>, <span class="st">"pob"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-4"><a href="#cb14-4"></a>  <span class="fu">mutate</span>(<span class="at">pib_pc =</span> (pib<span class="sc">*</span><span class="dv">1000</span>)<span class="sc">/</span>pob) <span class="sc">%&gt;%</span> </span>
<span id="cb14-5"><a href="#cb14-5"></a>  <span class="fu">group_by</span>(periodo) <span class="sc">%&gt;%</span></span>
<span id="cb14-6"><a href="#cb14-6"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(periodo, <span class="fu">desc</span>(pib_pc), ccaa) <span class="sc">%&gt;%</span></span>
<span id="cb14-7"><a href="#cb14-7"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">ranking =</span> dplyr<span class="sc">::</span><span class="fu">row_number</span>(),</span>
<span id="cb14-8"><a href="#cb14-8"></a>         <span class="at">year =</span> <span class="fu">as.numeric</span>(periodo))</span>
<span id="cb14-9"><a href="#cb14-9"></a>  </span>
<span id="cb14-10"><a href="#cb14-10"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> df_ok, <span class="fu">aes</span>(<span class="at">x =</span> periodo, <span class="at">y =</span> ranking, <span class="at">group =</span> ccaa, <span class="at">color =</span> ccaa)) <span class="sc">+</span></span>
<span id="cb14-11"><a href="#cb14-11"></a>  <span class="fu">geom_bump</span>(<span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb14-12"><a href="#cb14-12"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> ccaa, <span class="at">alpha =</span> <span class="dv">1</span>), <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb14-13"><a href="#cb14-13"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"#FFFFFF"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb14-14"><a href="#cb14-14"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> df_ok <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year <span class="sc">==</span> <span class="st">"2016"</span>),</span>
<span id="cb14-15"><a href="#cb14-15"></a>            <span class="fu">aes</span>(<span class="at">label =</span> ccaa, <span class="at">x =</span> .<span class="dv">963</span>) , <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">2.3</span>) <span class="sc">+</span></span>
<span id="cb14-16"><a href="#cb14-16"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> df_ok <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year <span class="sc">==</span> <span class="st">"2020"</span>),</span>
<span id="cb14-17"><a href="#cb14-17"></a>            <span class="fu">aes</span>(<span class="at">label =</span> ccaa, <span class="at">x =</span> <span class="fl">5.03</span>) , <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">2.5</span>) <span class="sc">+</span></span>
<span id="cb14-18"><a href="#cb14-18"></a>  <span class="fu">scale_y_reverse</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(df_ok)) <span class="sc">+</span></span>
<span id="cb14-19"><a href="#cb14-19"></a>  <span class="fu">theme</span>(<span class="at">plot.margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="fl">0.35</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.35</span>), <span class="st">"cm"</span>)) <span class="sc">+</span></span>
<span id="cb14-20"><a href="#cb14-20"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb14-21"><a href="#cb14-21"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#FFCCFF"</span>,<span class="st">"#66CCFF"</span>,<span class="st">"#FFFFCC"</span>,<span class="st">"#99CCFF"</span>,<span class="st">"#99FFCC"</span>,<span class="st">"#FFFF33"</span>,<span class="st">"#FF9933"</span>,<span class="st">"#9999CC"</span>,<span class="st">"#9999FF"</span>,<span class="st">"#CCCCCC"</span>,<span class="st">"#CC9999"</span>,<span class="st">"#CC3333"</span>,<span class="st">"#CCFFCC"</span>,<span class="st">"#9966FF"</span>,<span class="st">"#66CCFF"</span>,<span class="st">"#CCFF66"</span>,<span class="st">"#FFCC66"</span>,<span class="st">"#FF9966"</span>,<span class="st">"#99FF66"</span>)) <span class="sc">+</span></span>
<span id="cb14-22"><a href="#cb14-22"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 12:Posici√≥n de las CCAA seg√∫n el PIBpc"</span>,</span>
<span id="cb14-23"><a href="#cb14-23"></a>       <span class="at">subtitle =</span> <span class="st">"siendo 2020 el a√±o del comienzo de la pandemia"</span>) <span class="sc">+</span></span>
<span id="cb14-24"><a href="#cb14-24"></a>  <span class="fu">theme</span>(<span class="at">plot.title       =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">"#22211d"</span>, <span class="at">size=</span><span class="dv">20</span>, <span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span></span>
<span id="cb14-25"><a href="#cb14-25"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x     =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>, <span class="at">color=</span><span class="st">"black"</span>, <span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span></span>
<span id="cb14-26"><a href="#cb14-26"></a>  <span class="fu">theme</span>(<span class="at">axis.title.y     =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>, <span class="at">color=</span><span class="st">"black"</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">vjust=</span><span class="fl">1.25</span>)) <span class="sc">+</span></span>
<span id="cb14-27"><a href="#cb14-27"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x      =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>, <span class="at">vjust=</span><span class="fl">0.5</span>, <span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">"#22211d"</span>)) <span class="sc">+</span></span>
<span id="cb14-28"><a href="#cb14-28"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y      =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>, <span class="at">color =</span> <span class="st">"#22211d"</span>)) <span class="sc">+</span></span>
<span id="cb14-29"><a href="#cb14-29"></a>  <span class="fu">theme</span>(<span class="at">strip.text       =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span></span>
<span id="cb14-30"><a href="#cb14-30"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb14-31"><a href="#cb14-31"></a></span>
<span id="cb14-32"><a href="#cb14-32"></a>p</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
<p>Obviamente, del 2019 al 2020 es el per√≠odo que m√°s cambios de posiciones ha generado, y es el periodo que nos interesa m√°s.</p>
<ul>
<li>Si nos fijamos, las 4 mejores regiones no han experimentado cambios desde el 2016, siguen siendo Comunidad de Madrid, Pa√≠s Vasco, Comunidad Floral de Navarra y Catalu√±a.</li>
<li>Las comunidades aut√≥nomas que siguen en el mismo puesto del 2019 al 2020 son los cuatro primeros que hemos mencionado anteriormente, sumando a Cantabria, Gal√≠cia, Principado de Ast√∫rias, Comunidad Valenciana, Catilla-la Mancha y Melilla.</li>
<li>Las regiones que han mejorado en un posici√≥n del 2019 al 2020 son Arag√≥n, La Rioja, Castilla y Le√≥n, Regi√≥n de M√∫rcia, Ceuta y Extremadura.</li>
<li>Por √∫ltimo, Islas Baleares, Canarias y Andal√∫cia han empeorado su puesto respecto a otras comunidades. - - -</li>
</ul>
<p>No obstante, el ranking anterior no contiene datos significativos, ya que utiliza valores absolutos en lugar de tasas de variaciones relativos. En este caso, observamos que sorprendentemente, si calculamos la tasa de crecimiento del PIB del 2020 respecto al 2019, aunque en el 2020 todas las tasas son negativas, pero las regiones menos afectadas no son las mismas que las anteriores.</p>
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>df_1 <span class="ot">&lt;-</span> df_px_1 <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2"></a>  <span class="fu">select</span>(<span class="st">"periodo"</span>,<span class="st">"ccaa"</span><span class="ot">=</span><span class="st">"Comunidades.y.ciudades.aut√≥nomas"</span>,<span class="st">"pib"</span><span class="ot">=</span><span class="st">"value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-3"><a href="#cb15-3"></a>  <span class="fu">filter</span>(ccaa <span class="sc">!=</span> <span class="st">"TOTAL NACIONAL"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-4"><a href="#cb15-4"></a>  <span class="fu">filter</span>(periodo <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"2018"</span>,<span class="st">"2019"</span>,<span class="st">"2020"</span>))</span>
<span id="cb15-5"><a href="#cb15-5"></a>df_2 <span class="ot">&lt;-</span> df_px_3 <span class="sc">%&gt;%</span> </span>
<span id="cb15-6"><a href="#cb15-6"></a>  <span class="fu">select</span>(<span class="st">"periodo"</span>,<span class="st">"ccaa"</span><span class="ot">=</span><span class="st">"Comunidades.y.ciudades.aut√≥nomas"</span>,<span class="st">"pib_en_tasas"</span><span class="ot">=</span><span class="st">"value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-7"><a href="#cb15-7"></a>  <span class="fu">filter</span>(ccaa <span class="sc">!=</span> <span class="st">"TOTAL NACIONAL"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-8"><a href="#cb15-8"></a>  <span class="fu">filter</span>(periodo <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"2018"</span>,<span class="st">"2019"</span>,<span class="st">"2020"</span>))</span>
<span id="cb15-9"><a href="#cb15-9"></a></span>
<span id="cb15-10"><a href="#cb15-10"></a>aa <span class="ot">&lt;-</span> <span class="fu">full_join</span>(df_1,df_2) <span class="sc">%&gt;%</span> </span>
<span id="cb15-11"><a href="#cb15-11"></a>  <span class="fu">mutate</span>(<span class="at">pib =</span> <span class="fu">as.numeric</span>(pib)) <span class="sc">%&gt;%</span> </span>
<span id="cb15-12"><a href="#cb15-12"></a>  <span class="fu">mutate</span>(<span class="at">pib_en_tasas =</span> <span class="fu">as.numeric</span>(pib_en_tasas))</span>
<span id="cb15-13"><a href="#cb15-13"></a></span>
<span id="cb15-14"><a href="#cb15-14"></a>ranking_en_tasas <span class="ot">&lt;-</span> aa <span class="sc">%&gt;%</span> </span>
<span id="cb15-15"><a href="#cb15-15"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"pib"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb15-16"><a href="#cb15-16"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> periodo, <span class="at">values_from =</span> pib_en_tasas) <span class="sc">%&gt;%</span> </span>
<span id="cb15-17"><a href="#cb15-17"></a>  <span class="fu">select</span>(<span class="st">"ccaa"</span>,<span class="st">"2020"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-18"><a href="#cb15-18"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">2020</span><span class="st">`</span>))</span>
<span id="cb15-19"><a href="#cb15-19"></a></span>
<span id="cb15-20"><a href="#cb15-20"></a>tabla_tasas <span class="ot">&lt;-</span> ranking_en_tasas <span class="sc">%&gt;%</span> </span>
<span id="cb15-21"><a href="#cb15-21"></a>  <span class="fu">gt</span>(<span class="at">rowname_col =</span> <span class="st">"ccaa"</span>)<span class="sc">%&gt;%</span> </span>
<span id="cb15-22"><a href="#cb15-22"></a>  <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Tabla 2: Ranking seg√∫n tasas de variaciones de crecimiento del PIB "</span>,</span>
<span id="cb15-23"><a href="#cb15-23"></a>             <span class="at">subtitle =</span> <span class="fu">md</span>(<span class="st">"(**de las CCAA**) de mayor a menor"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb15-24"><a href="#cb15-24"></a>  <span class="fu">tab_source_note</span>(<span class="fu">md</span>(<span class="st">"Fuente: datos de [INE](https://www.ine.es/jaxi/Datos.htm?path=/t35/p010/rev19/l0/&amp;file=01001.px)"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb15-25"><a href="#cb15-25"></a>  <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-26"><a href="#cb15-26"></a>  <span class="fu">opt_row_striping</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb15-27"><a href="#cb15-27"></a>  <span class="fu">opt_table_font</span>(<span class="at">font =</span> <span class="fu">google_font</span>(<span class="st">"Fira Mono"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb15-28"><a href="#cb15-28"></a>  <span class="fu">tab_options</span>(<span class="at">column_labels.border.bottom.color =</span> <span class="st">"black"</span>,</span>
<span id="cb15-29"><a href="#cb15-29"></a>              <span class="at">table_body.border.bottom.color =</span> <span class="st">"black"</span>,</span>
<span id="cb15-30"><a href="#cb15-30"></a>              <span class="at">table_body.hlines.color =</span> <span class="st">"black"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-31"><a href="#cb15-31"></a>  <span class="fu">opt_align_table_header</span>(<span class="at">align =</span> <span class="st">"left"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-32"><a href="#cb15-32"></a>  <span class="fu">data_color</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="st">`</span><span class="at">2020</span><span class="st">`</span>),</span>
<span id="cb15-33"><a href="#cb15-33"></a>             <span class="at">colors =</span> scales<span class="sc">::</span><span class="fu">col_numeric</span>(<span class="at">palette =</span> <span class="fu">c</span>(<span class="st">"lightblue"</span>), <span class="at">domain =</span> <span class="cn">NULL</span>,<span class="at">alpha =</span> .<span class="dv">5</span>) )</span>
<span id="cb15-34"><a href="#cb15-34"></a>tabla_tasas <span class="sc">%&gt;%</span> gtExtras<span class="sc">::</span><span class="fu">gt_theme_guardian</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<div id="mahglkbwhm" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Fira+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
html {
  font-family: 'Noto Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif, 'Fira Mono';
}

:where(#mahglkbwhm) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #F6F6F6;
  width: auto;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #40C5FF;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#mahglkbwhm) .gt_heading {
  background-color: #F6F6F6;
  text-align: left;
  border-bottom-color: #F6F6F6;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#mahglkbwhm) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #F6F6F6;
  border-bottom-width: 0;
}

:where(#mahglkbwhm) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #F6F6F6;
  border-top-width: 0;
}

:where(#mahglkbwhm) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 0px;
  border-bottom-color: #D3D3D3;
}

:where(#mahglkbwhm) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #ECECEC;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #ECECEC;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#mahglkbwhm) .gt_col_heading {
  color: #333333;
  background-color: #F6F6F6;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#mahglkbwhm) .gt_column_spanner_outer {
  color: #333333;
  background-color: #F6F6F6;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#mahglkbwhm) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#mahglkbwhm) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#mahglkbwhm) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #ECECEC;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#mahglkbwhm) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #F6F6F6;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #BEBEBE;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #BEBEBE;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#mahglkbwhm) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #F6F6F6;
  font-size: 100%;
  font-weight: bold;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #BEBEBE;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #BEBEBE;
  vertical-align: middle;
}

:where(#mahglkbwhm) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#mahglkbwhm) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#mahglkbwhm) .gt_row {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: white;
  border-top-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#mahglkbwhm) .gt_stub {
  color: #333333;
  background-color: #F6F6F6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#mahglkbwhm) .gt_stub_row_group {
  color: #333333;
  background-color: #F6F6F6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#mahglkbwhm) .gt_row_group_first td {
  border-top-width: 1px;
}

:where(#mahglkbwhm) .gt_summary_row {
  color: #333333;
  background-color: #F6F6F6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#mahglkbwhm) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#mahglkbwhm) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#mahglkbwhm) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#mahglkbwhm) .gt_grand_summary_row {
  color: #333333;
  background-color: #F6F6F6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#mahglkbwhm) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#mahglkbwhm) .gt_striped {
  background-color: #ECECEC;
}

:where(#mahglkbwhm) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
}

:where(#mahglkbwhm) .gt_footnotes {
  color: #333333;
  background-color: #F6F6F6;
  border-bottom-style: none;
  border-bottom-width: 0px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#mahglkbwhm) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#mahglkbwhm) .gt_sourcenotes {
  color: #333333;
  background-color: #F6F6F6;
  border-bottom-style: none;
  border-bottom-width: 0px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#mahglkbwhm) .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#mahglkbwhm) .gt_left {
  text-align: left;
}

:where(#mahglkbwhm) .gt_center {
  text-align: center;
}

:where(#mahglkbwhm) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#mahglkbwhm) .gt_font_normal {
  font-weight: normal;
}

:where(#mahglkbwhm) .gt_font_bold {
  font-weight: bold;
}

:where(#mahglkbwhm) .gt_font_italic {
  font-style: italic;
}

:where(#mahglkbwhm) .gt_super {
  font-size: 65%;
}

:where(#mahglkbwhm) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#mahglkbwhm) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#mahglkbwhm) .gt_indent_1 {
  text-indent: 5px;
}

:where(#mahglkbwhm) .gt_indent_2 {
  text-indent: 10px;
}

:where(#mahglkbwhm) .gt_indent_3 {
  text-indent: 15px;
}

:where(#mahglkbwhm) .gt_indent_4 {
  text-indent: 20px;
}

:where(#mahglkbwhm) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
<thead class="gt_header">
<tr>
<td colspan="2" class="gt_heading gt_title gt_font_normal" style="color: #005689; font-size: 22px; font-weight: 700;">Tabla 2: Ranking seg√∫n tasas de variaciones de crecimiento del PIB </td>
    </tr>
<tr>
<td colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="color: #005689; font-size: 16px; font-weight: 700;">(<strong>de las CCAA</strong>) de mayor a menor</td>
    </tr>
</thead>
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col">2020</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Extremadura</th>
<td class="gt_row gt_center" style="background-color: #ADD8E6; color: #000000; border-top-width: 0px; border-top-style: solid; border-top-color: white;">-5.5</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Castilla - La Mancha</th>
<td class="gt_row gt_center gt_striped" style="background-color: #ADD8E6; color: #000000;">-6.9</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Melilla</th>
<td class="gt_row gt_center" style="background-color: #ADD8E6; color: #000000;">-7.0</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Ceuta</th>
<td class="gt_row gt_center gt_striped" style="background-color: #ADD8E6; color: #000000;">-7.2</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Arag√≥n</th>
<td class="gt_row gt_center" style="background-color: #ADD8E6; color: #000000;">-7.3</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Murcia, Regi√≥n de</th>
<td class="gt_row gt_center gt_striped" style="background-color: #ADD8E6; color: #000000;">-7.3</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Castilla y Le√≥n</th>
<td class="gt_row gt_center" style="background-color: #ADD8E6; color: #000000;">-7.4</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Navarra, Comunidad Foral de</th>
<td class="gt_row gt_center gt_striped" style="background-color: #ADD8E6; color: #000000;">-7.8</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Galicia</th>
<td class="gt_row gt_center" style="background-color: #ADD8E6; color: #000000;">-8.1</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Rioja, La</th>
<td class="gt_row gt_center gt_striped" style="background-color: #ADD8E6; color: #000000;">-8.1</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Andaluc√≠a</th>
<td class="gt_row gt_center" style="background-color: #ADD8E6; color: #000000;">-8.8</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Cantabria</th>
<td class="gt_row gt_center gt_striped" style="background-color: #ADD8E6; color: #000000;">-9.2</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Comunitat Valenciana</th>
<td class="gt_row gt_center" style="background-color: #ADD8E6; color: #000000;">-9.3</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Asturias, Principado de</th>
<td class="gt_row gt_center gt_striped" style="background-color: #ADD8E6; color: #000000;">-9.4</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Pa√≠s Vasco</th>
<td class="gt_row gt_center" style="background-color: #ADD8E6; color: #000000;">-10.1</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Madrid, Comunidad de</th>
<td class="gt_row gt_center gt_striped" style="background-color: #ADD8E6; color: #000000;">-10.2</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Catalu√±a</th>
<td class="gt_row gt_center" style="background-color: #ADD8E6; color: #000000;">-10.3</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Canarias</th>
<td class="gt_row gt_center gt_striped" style="background-color: #ADD8E6; color: #000000;">-17.5</td>
</tr>
<tr>
<th scope="row" class="gt_row gt_left gt_stub">Balears, Illes</th>
<td class="gt_row gt_center" style="background-color: #ADD8E6; color: #000000;">-21.6</td>
</tr>
</tbody>
<tfoot class="gt_sourcenotes"><tr>
<td class="gt_sourcenote" colspan="2">Fuente: datos de <a href="https://www.ine.es/jaxi/Datos.htm?path=/t35/p010/rev19/l0/&amp;file=01001.px">INE</a>
</td>
    </tr></tfoot>
</table>
</div>
</div>
</div>
<p>Al parecer, Extremadura es la comunidad menos afectada e Islas Baleares la m√°s perjudicada entre todas. Sin embargo, las cuatro regiones que parec√≠an no ser afectadas, Madrid y Pa√≠s Vasco est√°n entre las peores tasas de crecimiento.</p>
</section><section id="c√≥mo-ha-afectado-a-los-sectores-econ√≥micos" class="level3"><h3 class="anchored" data-anchor-id="c√≥mo-ha-afectado-a-los-sectores-econ√≥micos">5.3. ¬øC√≥mo ha afectado a los sectores econ√≥micos?</h3>
<p>En este apartado, analizaremos las consecuencias econ√≥micas en t√©rminos de producci√≥n sobre cada sector econ√≥mico:</p>
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>df_px <span class="ot">&lt;-</span> pxR<span class="sc">::</span><span class="fu">read.px</span>(<span class="st">"./datos/ramas_act.px"</span>) <span class="sc">%&gt;%</span> <span class="fu">as.data.frame</span>()</span>
<span id="cb16-2"><a href="#cb16-2"></a></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="co"># ramas de actividad: grafico de barras horizontales animado con plotly </span></span>
<span id="cb16-4"><a href="#cb16-4"></a></span>
<span id="cb16-5"><a href="#cb16-5"></a>df_ramas_original <span class="ot">&lt;-</span> df_px <span class="sc">%&gt;%</span> </span>
<span id="cb16-6"><a href="#cb16-6"></a>  <span class="fu">select</span>(<span class="st">"periodo"</span> <span class="ot">=</span> <span class="st">"Periodo"</span>, <span class="st">"ramas_act"</span> <span class="ot">=</span> <span class="st">"Ramas.de.actividad"</span>, <span class="st">"produccion"</span> <span class="ot">=</span> <span class="st">"value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-7"><a href="#cb16-7"></a>  <span class="fu">mutate</span>(<span class="at">ramas_act =</span> <span class="fu">as.character</span>(ramas_act)) <span class="sc">%&gt;%</span> </span>
<span id="cb16-8"><a href="#cb16-8"></a>  <span class="fu">mutate</span>(<span class="at">ramas_act =</span> <span class="fu">ifelse</span>(ramas_act <span class="sc">==</span> <span class="st">"Total CNAE"</span>,</span>
<span id="cb16-9"><a href="#cb16-9"></a>                            <span class="fu">paste</span>(<span class="st">"Z"</span>, ramas_act),</span>
<span id="cb16-10"><a href="#cb16-10"></a>                            ramas_act)) <span class="sc">%&gt;%</span> </span>
<span id="cb16-11"><a href="#cb16-11"></a>  tidyr<span class="sc">::</span><span class="fu">separate</span>(ramas_act, <span class="at">sep =</span> <span class="st">" "</span>, </span>
<span id="cb16-12"><a href="#cb16-12"></a>                  <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"ramas_act_code"</span>, <span class="st">"ramas_act"</span>), <span class="at">extra =</span> <span class="st">"merge"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-13"><a href="#cb16-13"></a>  <span class="fu">select</span>(<span class="sc">-</span>ramas_act_code)</span>
<span id="cb16-14"><a href="#cb16-14"></a></span>
<span id="cb16-15"><a href="#cb16-15"></a>df_sec <span class="ot">&lt;-</span> df_ramas_original <span class="sc">%&gt;%</span> </span>
<span id="cb16-16"><a href="#cb16-16"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> ramas_act, <span class="at">values_from =</span> produccion) <span class="sc">%&gt;%</span> </span>
<span id="cb16-17"><a href="#cb16-17"></a>  <span class="fu">mutate</span>(<span class="at">sec_primario =</span> <span class="st">`</span><span class="at">Agricultura, ganader√≠a, silvicultura y pesca</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-18"><a href="#cb16-18"></a>  <span class="fu">mutate</span>(<span class="at">sec_secundario =</span> <span class="st">`</span><span class="at">Industrias extractivas</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">Industria manufacturera</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">Suministro de energ√≠a el√©ctrica, gas, vapor y aire acondicionado</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">Suministro de agua, actividades de saneamiento, gesti√≥n de residuos y descontaminaci√≥n</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-19"><a href="#cb16-19"></a>  <span class="fu">mutate</span>(<span class="at">sec_construccion =</span> <span class="st">`</span><span class="at">Construcci√≥n</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-20"><a href="#cb16-20"></a>  <span class="fu">mutate</span>(<span class="at">sec_terciario =</span> <span class="st">`</span><span class="at">Total CNAE</span><span class="st">`</span><span class="sc">-</span><span class="st">`</span><span class="at">sec_primario</span><span class="st">`</span><span class="sc">-</span><span class="st">`</span><span class="at">sec_secundario</span><span class="st">`</span><span class="sc">-</span><span class="st">`</span><span class="at">sec_construccion</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-21"><a href="#cb16-21"></a>  <span class="fu">select</span>(<span class="st">"periodo"</span>, <span class="st">"total"</span> <span class="ot">=</span> <span class="st">"Total CNAE"</span>, <span class="st">"sec_primario"</span>, <span class="st">"sec_secundario"</span>, <span class="st">"sec_construccion"</span>, <span class="st">"sec_terciario"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-22"><a href="#cb16-22"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">names_to =</span> <span class="st">"sectores"</span>, <span class="at">values_to =</span> <span class="st">"produccion"</span>) </span>
<span id="cb16-23"><a href="#cb16-23"></a></span>
<span id="cb16-24"><a href="#cb16-24"></a>df_2019 <span class="ot">&lt;-</span> df_sec <span class="sc">%&gt;%</span> </span>
<span id="cb16-25"><a href="#cb16-25"></a>  <span class="fu">filter</span>(periodo <span class="sc">==</span> <span class="st">"2019"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-26"><a href="#cb16-26"></a>  <span class="fu">filter</span>(sectores <span class="sc">!=</span> <span class="st">"total"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-27"><a href="#cb16-27"></a>  <span class="fu">mutate</span>(<span class="at">porcentaje =</span> (produccion<span class="sc">*</span><span class="dv">100</span>)<span class="sc">/</span><span class="fu">sum</span>(produccion),</span>
<span id="cb16-28"><a href="#cb16-28"></a>         <span class="at">percent =</span> <span class="fu">round</span>(porcentaje, <span class="dv">2</span>),</span>
<span id="cb16-29"><a href="#cb16-29"></a>         <span class="at">csum =</span> <span class="fu">rev</span>(<span class="fu">cumsum</span>(<span class="fu">rev</span>(percent))),</span>
<span id="cb16-30"><a href="#cb16-30"></a>         <span class="at">posicion =</span> percent<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">lead</span>(csum, <span class="dv">1</span>))</span>
<span id="cb16-31"><a href="#cb16-31"></a></span>
<span id="cb16-32"><a href="#cb16-32"></a>df_2019 <span class="ot">&lt;-</span> df_2019 <span class="sc">%&gt;%</span> </span>
<span id="cb16-33"><a href="#cb16-33"></a>  <span class="fu">mutate</span>(<span class="at">posicion =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(posicion), percent<span class="sc">/</span><span class="dv">2</span>, posicion))</span>
<span id="cb16-34"><a href="#cb16-34"></a></span>
<span id="cb16-35"><a href="#cb16-35"></a>p_2019 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_2019, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span> , <span class="at">y =</span> percent, <span class="at">fill =</span> <span class="fu">fct_inorder</span>(sectores))) <span class="sc">+</span></span>
<span id="cb16-36"><a href="#cb16-36"></a>  <span class="fu">geom_col</span>(<span class="at">width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb16-37"><a href="#cb16-37"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb16-38"><a href="#cb16-38"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Pastel1"</span>) <span class="sc">+</span></span>
<span id="cb16-39"><a href="#cb16-39"></a>  <span class="fu">geom_label_repel</span>(<span class="at">data =</span> df_2019,</span>
<span id="cb16-40"><a href="#cb16-40"></a>                   <span class="fu">aes</span>(<span class="at">y =</span> posicion, <span class="at">label =</span> <span class="fu">paste0</span>(percent, <span class="st">"%"</span>)),</span>
<span id="cb16-41"><a href="#cb16-41"></a>                   <span class="at">size =</span> <span class="fl">4.5</span>, <span class="at">nudge_x =</span> <span class="dv">1</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb16-42"><a href="#cb16-42"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Sector"</span>)) <span class="sc">+</span></span>
<span id="cb16-43"><a href="#cb16-43"></a>  <span class="fu">theme_void</span>() </span>
<span id="cb16-44"><a href="#cb16-44"></a></span>
<span id="cb16-45"><a href="#cb16-45"></a>df_2020 <span class="ot">&lt;-</span> df_sec <span class="sc">%&gt;%</span> </span>
<span id="cb16-46"><a href="#cb16-46"></a>  <span class="fu">filter</span>(periodo <span class="sc">==</span> <span class="st">"2020"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-47"><a href="#cb16-47"></a>  <span class="fu">filter</span>(sectores <span class="sc">!=</span> <span class="st">"total"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-48"><a href="#cb16-48"></a>  <span class="fu">mutate</span>(<span class="at">porcentaje =</span> (produccion<span class="sc">*</span><span class="dv">100</span>)<span class="sc">/</span><span class="fu">sum</span>(produccion),</span>
<span id="cb16-49"><a href="#cb16-49"></a>         <span class="at">percent =</span> <span class="fu">round</span>(porcentaje, <span class="dv">2</span>),</span>
<span id="cb16-50"><a href="#cb16-50"></a>         <span class="at">csum =</span> <span class="fu">rev</span>(<span class="fu">cumsum</span>(<span class="fu">rev</span>(percent))),</span>
<span id="cb16-51"><a href="#cb16-51"></a>         <span class="at">posicion =</span> percent<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">lead</span>(csum, <span class="dv">1</span>))</span>
<span id="cb16-52"><a href="#cb16-52"></a></span>
<span id="cb16-53"><a href="#cb16-53"></a>df_2020 <span class="ot">&lt;-</span> df_2020 <span class="sc">%&gt;%</span> </span>
<span id="cb16-54"><a href="#cb16-54"></a>  <span class="fu">mutate</span>(<span class="at">posicion =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(posicion), percent<span class="sc">/</span><span class="dv">2</span>, posicion))</span>
<span id="cb16-55"><a href="#cb16-55"></a></span>
<span id="cb16-56"><a href="#cb16-56"></a>p_2020 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_2020, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span> , <span class="at">y =</span> percent, <span class="at">fill =</span> <span class="fu">fct_inorder</span>(sectores))) <span class="sc">+</span></span>
<span id="cb16-57"><a href="#cb16-57"></a>  <span class="fu">geom_col</span>(<span class="at">width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb16-58"><a href="#cb16-58"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb16-59"><a href="#cb16-59"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Pastel1"</span>) <span class="sc">+</span></span>
<span id="cb16-60"><a href="#cb16-60"></a>  <span class="fu">geom_label_repel</span>(<span class="at">data =</span> df_2020,</span>
<span id="cb16-61"><a href="#cb16-61"></a>                   <span class="fu">aes</span>(<span class="at">y =</span> posicion, <span class="at">label =</span> <span class="fu">paste0</span>(percent, <span class="st">"%"</span>)),</span>
<span id="cb16-62"><a href="#cb16-62"></a>                   <span class="at">size =</span> <span class="fl">4.5</span>, <span class="at">nudge_x =</span> <span class="dv">1</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb16-63"><a href="#cb16-63"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Sector"</span>)) <span class="sc">+</span></span>
<span id="cb16-64"><a href="#cb16-64"></a>  <span class="fu">theme_void</span>() </span>
<span id="cb16-65"><a href="#cb16-65"></a></span>
<span id="cb16-66"><a href="#cb16-66"></a>df_2021 <span class="ot">&lt;-</span> df_sec <span class="sc">%&gt;%</span> </span>
<span id="cb16-67"><a href="#cb16-67"></a>  <span class="fu">filter</span>(periodo <span class="sc">==</span> <span class="st">"2021"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-68"><a href="#cb16-68"></a>  <span class="fu">filter</span>(sectores <span class="sc">!=</span> <span class="st">"total"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-69"><a href="#cb16-69"></a>  <span class="fu">mutate</span>(<span class="at">porcentaje =</span> (produccion<span class="sc">*</span><span class="dv">100</span>)<span class="sc">/</span><span class="fu">sum</span>(produccion),</span>
<span id="cb16-70"><a href="#cb16-70"></a>         <span class="at">percent =</span> <span class="fu">round</span>(porcentaje, <span class="dv">2</span>),</span>
<span id="cb16-71"><a href="#cb16-71"></a>         <span class="at">csum =</span> <span class="fu">rev</span>(<span class="fu">cumsum</span>(<span class="fu">rev</span>(percent))),</span>
<span id="cb16-72"><a href="#cb16-72"></a>         <span class="at">posicion =</span> percent<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">lead</span>(csum, <span class="dv">1</span>))</span>
<span id="cb16-73"><a href="#cb16-73"></a></span>
<span id="cb16-74"><a href="#cb16-74"></a>df_2021 <span class="ot">&lt;-</span> df_2021 <span class="sc">%&gt;%</span> </span>
<span id="cb16-75"><a href="#cb16-75"></a>  <span class="fu">mutate</span>(<span class="at">posicion =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(posicion), percent<span class="sc">/</span><span class="dv">2</span>, posicion))</span>
<span id="cb16-76"><a href="#cb16-76"></a></span>
<span id="cb16-77"><a href="#cb16-77"></a>p_2021 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_2021, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span> , <span class="at">y =</span> percent, <span class="at">fill =</span> <span class="fu">fct_inorder</span>(sectores))) <span class="sc">+</span></span>
<span id="cb16-78"><a href="#cb16-78"></a>  <span class="fu">geom_col</span>(<span class="at">width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb16-79"><a href="#cb16-79"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb16-80"><a href="#cb16-80"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Pastel1"</span>) <span class="sc">+</span></span>
<span id="cb16-81"><a href="#cb16-81"></a>  <span class="fu">geom_label_repel</span>(<span class="at">data =</span> df_2021,</span>
<span id="cb16-82"><a href="#cb16-82"></a>                   <span class="fu">aes</span>(<span class="at">y =</span> posicion, <span class="at">label =</span> <span class="fu">paste0</span>(percent, <span class="st">"%"</span>)),</span>
<span id="cb16-83"><a href="#cb16-83"></a>                   <span class="at">size =</span> <span class="fl">4.5</span>, <span class="at">nudge_x =</span> <span class="dv">1</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb16-84"><a href="#cb16-84"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Sector"</span>)) <span class="sc">+</span></span>
<span id="cb16-85"><a href="#cb16-85"></a>  <span class="fu">theme_void</span>() </span>
<span id="cb16-86"><a href="#cb16-86"></a></span>
<span id="cb16-87"><a href="#cb16-87"></a>df_2018 <span class="ot">&lt;-</span> df_sec <span class="sc">%&gt;%</span> </span>
<span id="cb16-88"><a href="#cb16-88"></a>  <span class="fu">filter</span>(periodo <span class="sc">==</span> <span class="st">"2018"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-89"><a href="#cb16-89"></a>  <span class="fu">filter</span>(sectores <span class="sc">!=</span> <span class="st">"total"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-90"><a href="#cb16-90"></a>  <span class="fu">mutate</span>(<span class="at">porcentaje =</span> (produccion<span class="sc">*</span><span class="dv">100</span>)<span class="sc">/</span><span class="fu">sum</span>(produccion),</span>
<span id="cb16-91"><a href="#cb16-91"></a>         <span class="at">percent =</span> <span class="fu">round</span>(porcentaje, <span class="dv">2</span>),</span>
<span id="cb16-92"><a href="#cb16-92"></a>         <span class="at">csum =</span> <span class="fu">rev</span>(<span class="fu">cumsum</span>(<span class="fu">rev</span>(percent))),</span>
<span id="cb16-93"><a href="#cb16-93"></a>         <span class="at">posicion =</span> percent<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">lead</span>(csum, <span class="dv">1</span>))</span>
<span id="cb16-94"><a href="#cb16-94"></a></span>
<span id="cb16-95"><a href="#cb16-95"></a>df_2018 <span class="ot">&lt;-</span> df_2018 <span class="sc">%&gt;%</span> </span>
<span id="cb16-96"><a href="#cb16-96"></a>  <span class="fu">mutate</span>(<span class="at">posicion =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(posicion), percent<span class="sc">/</span><span class="dv">2</span>, posicion))</span>
<span id="cb16-97"><a href="#cb16-97"></a></span>
<span id="cb16-98"><a href="#cb16-98"></a>p_2018 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_2018, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span> , <span class="at">y =</span> percent, <span class="at">fill =</span> <span class="fu">fct_inorder</span>(sectores))) <span class="sc">+</span></span>
<span id="cb16-99"><a href="#cb16-99"></a>  <span class="fu">geom_col</span>(<span class="at">width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb16-100"><a href="#cb16-100"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb16-101"><a href="#cb16-101"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Pastel1"</span>) <span class="sc">+</span></span>
<span id="cb16-102"><a href="#cb16-102"></a>  <span class="fu">geom_label_repel</span>(<span class="at">data =</span> df_2021,</span>
<span id="cb16-103"><a href="#cb16-103"></a>                   <span class="fu">aes</span>(<span class="at">y =</span> posicion, <span class="at">label =</span> <span class="fu">paste0</span>(percent, <span class="st">"%"</span>)),</span>
<span id="cb16-104"><a href="#cb16-104"></a>                   <span class="at">size =</span> <span class="fl">4.5</span>, <span class="at">nudge_x =</span> <span class="dv">1</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb16-105"><a href="#cb16-105"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Sector"</span>)) <span class="sc">+</span></span>
<span id="cb16-106"><a href="#cb16-106"></a>  <span class="fu">theme_void</span>() </span>
<span id="cb16-107"><a href="#cb16-107"></a></span>
<span id="cb16-108"><a href="#cb16-108"></a><span class="fu">wrap_plots</span>(p_2018, p_2019, p_2020, p_2021, </span>
<span id="cb16-109"><a href="#cb16-109"></a>           <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">nrow =</span> <span class="dv">2</span>,</span>
<span id="cb16-110"><a href="#cb16-110"></a>           <span class="at">widths =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>), <span class="at">heights =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb16-111"><a href="#cb16-111"></a>  <span class="fu">plot_annotation</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 13: Proporci√≥n seg√∫n producci√≥n de las actividades econ√≥micas en Espa√±a"</span>,</span>
<span id="cb16-112"><a href="#cb16-112"></a>                  <span class="at">subtitle =</span> <span class="st">"(de los a√±os 2018,2019,2020 y 2021)"</span>,</span>
<span id="cb16-113"><a href="#cb16-113"></a>                  <span class="at">caption =</span> <span class="st">"Elaboraci√≥n propia con datos de la INE"</span>)</span>
<span id="cb16-114"><a href="#cb16-114"></a> </span>
<span id="cb16-115"><a href="#cb16-115"></a> </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
<p>Observamos que, respecto a los diagramas sectoriales, las diferencias porcentuales entre los cuatro a√±os no son grandes.</p>
<p>Sin embargo, un an√°lisis m√°s detallado dentro de los sectores, s√≠ que existen diferencias en las producciones. En este caso, solo hemos cogido las ramas de actividad con 1 d√≠gito mayores de 100.000 u.m.</p>
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>df_px <span class="ot">&lt;-</span> pxR<span class="sc">::</span><span class="fu">read.px</span>(<span class="st">"./datos/ramas_act.px"</span>) <span class="sc">%&gt;%</span> <span class="fu">as.data.frame</span>()</span>
<span id="cb17-2"><a href="#cb17-2"></a></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="co"># ramas de actividad: grafico de barras horizontales animado con plotly </span></span>
<span id="cb17-4"><a href="#cb17-4"></a></span>
<span id="cb17-5"><a href="#cb17-5"></a>df_ramas_original <span class="ot">&lt;-</span> df_px <span class="sc">%&gt;%</span> </span>
<span id="cb17-6"><a href="#cb17-6"></a>  <span class="fu">select</span>(<span class="st">"periodo"</span> <span class="ot">=</span> <span class="st">"Periodo"</span>, <span class="st">"ramas_act"</span> <span class="ot">=</span> <span class="st">"Ramas.de.actividad"</span>, <span class="st">"produccion"</span> <span class="ot">=</span> <span class="st">"value"</span>)<span class="sc">%&gt;%</span> </span>
<span id="cb17-7"><a href="#cb17-7"></a>  <span class="fu">mutate</span>(<span class="at">ramas_act =</span> <span class="fu">as.character</span>(ramas_act)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-8"><a href="#cb17-8"></a>  <span class="fu">mutate</span>(<span class="at">ramas_act =</span> <span class="fu">ifelse</span>(ramas_act <span class="sc">==</span> <span class="st">"Total CNAE"</span>,</span>
<span id="cb17-9"><a href="#cb17-9"></a>                            <span class="fu">paste</span>(<span class="st">"Z"</span>, ramas_act),</span>
<span id="cb17-10"><a href="#cb17-10"></a>                            ramas_act)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-11"><a href="#cb17-11"></a>  tidyr<span class="sc">::</span><span class="fu">separate</span>(ramas_act, <span class="at">sep =</span> <span class="st">" "</span>, </span>
<span id="cb17-12"><a href="#cb17-12"></a>                  <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"ramas_act_code"</span>, <span class="st">"ramas_act"</span>), <span class="at">extra =</span> <span class="st">"merge"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-13"><a href="#cb17-13"></a>  <span class="fu">select</span>(<span class="sc">-</span>ramas_act_code)</span>
<span id="cb17-14"><a href="#cb17-14"></a></span>
<span id="cb17-15"><a href="#cb17-15"></a>df_ramas_mayor <span class="ot">&lt;-</span> df_ramas_original <span class="sc">%&gt;%</span> </span>
<span id="cb17-16"><a href="#cb17-16"></a>  <span class="fu">filter</span>(ramas_act <span class="sc">!=</span> <span class="st">"Total CNAE"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-17"><a href="#cb17-17"></a>  <span class="fu">mutate</span>(<span class="at">ramas_act =</span> forcats<span class="sc">::</span><span class="fu">as_factor</span>(ramas_act)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-18"><a href="#cb17-18"></a>  <span class="fu">mutate</span>(<span class="at">ramas_act =</span> forcats<span class="sc">::</span><span class="fu">fct_infreq</span>(ramas_act)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-19"><a href="#cb17-19"></a>  <span class="fu">mutate</span>(<span class="at">periodo =</span> <span class="fu">as.character</span>(periodo)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-20"><a href="#cb17-20"></a>  <span class="fu">group_by</span>(periodo) <span class="sc">%&gt;%</span></span>
<span id="cb17-21"><a href="#cb17-21"></a>  <span class="fu">arrange</span>(periodo, <span class="fu">desc</span>(produccion), ramas_act) <span class="sc">%&gt;%</span> </span>
<span id="cb17-22"><a href="#cb17-22"></a>  <span class="fu">mutate</span>(<span class="at">periodo =</span> <span class="fu">as.factor</span>(periodo)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-23"><a href="#cb17-23"></a>  <span class="fu">filter</span>(produccion <span class="sc">&gt;=</span> <span class="dv">100000</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-24"><a href="#cb17-24"></a>  <span class="fu">mutate</span>(<span class="at">ramas_act =</span> <span class="fu">case_when</span>(</span>
<span id="cb17-25"><a href="#cb17-25"></a>    ramas_act <span class="sc">==</span> <span class="st">"Comercio al por mayor y al por menor; reparaci√≥n de veh√≠culos de motor y motocicletas"</span> <span class="sc">~</span> <span class="st">"Comercio y reparaci√≥n"</span>,</span>
<span id="cb17-26"><a href="#cb17-26"></a>    ramas_act <span class="sc">==</span> <span class="st">"Actividades sanitarias y de servicios sociales"</span> <span class="sc">~</span> <span class="st">"Act. sanitarias y de servicios sociales"</span>,</span>
<span id="cb17-27"><a href="#cb17-27"></a>    ramas_act <span class="sc">==</span> <span class="st">"Actividades profesionales, cient√≠ficas y t√©cnicas"</span> <span class="sc">~</span> <span class="st">"Act. profesionales,cient√ßificas y t√©cnicas"</span>,</span>
<span id="cb17-28"><a href="#cb17-28"></a>    ramas_act <span class="sc">==</span> <span class="st">"Industria manufacturera"</span> <span class="sc">~</span> <span class="st">"Industria manufacturera"</span>,</span>
<span id="cb17-29"><a href="#cb17-29"></a>    ramas_act <span class="sc">==</span> <span class="st">"Construcci√≥n"</span> <span class="sc">~</span> <span class="st">"Construcci√≥n"</span>,</span>
<span id="cb17-30"><a href="#cb17-30"></a>    ramas_act <span class="sc">==</span> <span class="st">"Actividades inmobiliarias"</span> <span class="sc">~</span> <span class="st">"Actividades inmobiliarias"</span>,</span>
<span id="cb17-31"><a href="#cb17-31"></a>    ramas_act <span class="sc">==</span> <span class="st">"Hosteler√≠a"</span> <span class="sc">~</span> <span class="st">"Hosteler√≠a"</span>,</span>
<span id="cb17-32"><a href="#cb17-32"></a>    ramas_act <span class="sc">==</span> <span class="st">"Transporte y almacenamiento"</span> <span class="sc">~</span> <span class="st">"Transporte y almacenamiento"</span>))</span>
<span id="cb17-33"><a href="#cb17-33"></a></span>
<span id="cb17-34"><a href="#cb17-34"></a></span>
<span id="cb17-35"><a href="#cb17-35"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_ramas_mayor)</span>
<span id="cb17-36"><a href="#cb17-36"></a></span>
<span id="cb17-37"><a href="#cb17-37"></a>p <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(ramas_act, produccion), <span class="at">y =</span> produccion, <span class="at">fill =</span> ramas_act)) <span class="sc">+</span> </span>
<span id="cb17-38"><a href="#cb17-38"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span>                  </span>
<span id="cb17-39"><a href="#cb17-39"></a>  <span class="fu">transition_states</span>(periodo,                    </span>
<span id="cb17-40"><a href="#cb17-40"></a>                    <span class="at">transition_length =</span> <span class="dv">1</span>,      </span>
<span id="cb17-41"><a href="#cb17-41"></a>                    <span class="at">state_length =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb17-42"><a href="#cb17-42"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span>  </span>
<span id="cb17-43"><a href="#cb17-43"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 14: Producci√≥n en {closest_state}"</span>,</span>
<span id="cb17-44"><a href="#cb17-44"></a>       <span class="at">subtitle =</span> <span class="st">"diferenciado por ramas de actividad mayores de 100.000 u.m."</span>,</span>
<span id="cb17-45"><a href="#cb17-45"></a>       <span class="at">caption =</span> <span class="st">"Elaboraci√≥n propia con datos de la INE"</span>) <span class="sc">+</span></span>
<span id="cb17-46"><a href="#cb17-46"></a>  <span class="fu">theme</span>(<span class="at">plot.caption.position =</span> <span class="st">"panel"</span>) <span class="sc">+</span></span>
<span id="cb17-47"><a href="#cb17-47"></a>  <span class="fu">xlab</span>(<span class="st">''</span>) <span class="sc">+</span> </span>
<span id="cb17-48"><a href="#cb17-48"></a>  <span class="fu">ylab</span>(<span class="st">'produccion'</span>) <span class="sc">+</span></span>
<span id="cb17-49"><a href="#cb17-49"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-17-1.gif" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
<p>En general, del 2019 al 2020, encontramos un descenso de producci√≥n muy evidente de todas las actividades:</p>
<ul>
<li>La ind√∫stria manufacturera sigue ocupando el puesto de mayor producci√≥n, alcanza su m√°ximo valor en el 2019, reduce su producci√≥n en el 2020, en el 2021 consigue incrementar pero sin alcanzar el valor del 2019.</li>
<li>Comercio y reparaci√≥n, construcci√≥n y las actividades inmobiliarias siguen las mismas tendencias que la ind√∫stria manufacturera.</li>
<li>En hosteler√≠a hay un aspecto interesante, debido al covid, su producci√≥n cae profundamente sin llegar a 100.000.</li>
<li>Las actividades sanitarias y de servicios sociales es la √∫nica rama con distinta evoluci√≥n, del 2018 al 2021 ha estado siempre creciendo.</li>
<li>Transporte y almacenamiento y actividades profesionales, cient√≠ficas y t√©cnicas tamb√≠en se han observado reducciones, pero no son enormes.</li>
</ul></section><section id="consecuencias-sobre-el-turismo-en-la-comunidad-valenciana" class="level3"><h3 class="anchored" data-anchor-id="consecuencias-sobre-el-turismo-en-la-comunidad-valenciana">5.4. Consecuencias sobre el turismo en la Comunidad Valenciana</h3>
<p>Finalmente, acabamos la investigaci√≥n en el territorio espa√±ol con un an√°lisis del sector turismo en la Comunidad Valenciana.</p>
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>df_px <span class="ot">&lt;-</span> pxR<span class="sc">::</span><span class="fu">read.px</span>(<span class="st">"./datos/10823.px"</span>) <span class="sc">%&gt;%</span> as.data.frame</span>
<span id="cb18-2"><a href="#cb18-2"></a></span>
<span id="cb18-3"><a href="#cb18-3"></a>df <span class="ot">&lt;-</span> df_px <span class="sc">%&gt;%</span> </span>
<span id="cb18-4"><a href="#cb18-4"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb18-5"><a href="#cb18-5"></a>  <span class="fu">mutate</span>(<span class="at">fecha =</span> lubridate<span class="sc">::</span><span class="fu">ym</span>(periodo)) <span class="sc">%&gt;%</span> </span>
<span id="cb18-6"><a href="#cb18-6"></a>  <span class="fu">mutate</span>(<span class="at">anyo =</span> lubridate<span class="sc">::</span><span class="fu">year</span>(fecha)) <span class="sc">%&gt;%</span> </span>
<span id="cb18-7"><a href="#cb18-7"></a>  <span class="fu">mutate</span>(<span class="at">mes =</span> lubridate<span class="sc">::</span><span class="fu">month</span>(fecha))  <span class="sc">%&gt;%</span> </span>
<span id="cb18-8"><a href="#cb18-8"></a>  <span class="fu">select</span>(<span class="sc">-</span>periodo) <span class="sc">%&gt;%</span> </span>
<span id="cb18-9"><a href="#cb18-9"></a>  <span class="fu">mutate</span>(<span class="at">comunidades_autonomas =</span> <span class="fu">as.character</span>(comunidades_autonomas),</span>
<span id="cb18-10"><a href="#cb18-10"></a>         <span class="at">ccaa =</span> <span class="fu">ifelse</span>(comunidades_autonomas <span class="sc">==</span> <span class="st">"Total"</span>,</span>
<span id="cb18-11"><a href="#cb18-11"></a>                       <span class="fu">paste</span>(<span class="st">"00"</span>, comunidades_autonomas),</span>
<span id="cb18-12"><a href="#cb18-12"></a>                       comunidades_autonomas)) <span class="sc">%&gt;%</span>  </span>
<span id="cb18-13"><a href="#cb18-13"></a>  tidyr<span class="sc">::</span><span class="fu">separate</span>(ccaa, <span class="at">sep =</span> <span class="st">" "</span>, </span>
<span id="cb18-14"><a href="#cb18-14"></a>                  <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"ine_ccaa"</span>, <span class="st">"ine_ccaa.n"</span>), <span class="at">extra =</span> <span class="st">"merge"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-15"><a href="#cb18-15"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">"tipo_de_dato"</span>, <span class="at">values_from =</span> <span class="st">"value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-16"><a href="#cb18-16"></a>  <span class="fu">select</span>(<span class="st">"fecha"</span>, <span class="st">"anyo"</span>, <span class="st">"mes"</span>, <span class="st">"ine_ccaa"</span>, <span class="st">"ine_ccaa.n"</span>, <span class="st">"Dato base"</span>, <span class="st">"Tasa de variaci√≥n acumulada"</span>)</span>
<span id="cb18-17"><a href="#cb18-17"></a></span>
<span id="cb18-18"><a href="#cb18-18"></a>zz <span class="ot">&lt;-</span> naniar<span class="sc">::</span><span class="fu">gg_miss_var</span>(df, <span class="at">show_pct =</span> <span class="cn">TRUE</span>)</span>
<span id="cb18-19"><a href="#cb18-19"></a></span>
<span id="cb18-20"><a href="#cb18-20"></a>df_original <span class="ot">&lt;-</span> df</span>
<span id="cb18-21"><a href="#cb18-21"></a></span>
<span id="cb18-22"><a href="#cb18-22"></a>df_CV <span class="ot">&lt;-</span> df_original <span class="sc">%&gt;%</span> </span>
<span id="cb18-23"><a href="#cb18-23"></a>  <span class="fu">filter</span>(ine_ccaa.n <span class="sc">==</span><span class="st">"Comunitat Valenciana"</span>)</span>
<span id="cb18-24"><a href="#cb18-24"></a></span>
<span id="cb18-25"><a href="#cb18-25"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb18-26"><a href="#cb18-26"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> df_CV, <span class="fu">aes</span>(<span class="at">x =</span> fecha,</span>
<span id="cb18-27"><a href="#cb18-27"></a>                              <span class="at">y =</span> <span class="st">`</span><span class="at">Dato base</span><span class="st">`</span>,</span>
<span id="cb18-28"><a href="#cb18-28"></a>                              <span class="at">color =</span> ine_ccaa.n)) <span class="sc">+</span> </span>
<span id="cb18-29"><a href="#cb18-29"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb18-30"><a href="#cb18-30"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 15:Evoluci√≥n de turistas siendo la Comunidad Valenciana el destino principal"</span>,</span>
<span id="cb18-31"><a href="#cb18-31"></a>       <span class="at">subtitle =</span> <span class="st">"(de enero 2019 hasta octubre 2022)"</span>,</span>
<span id="cb18-32"><a href="#cb18-32"></a>       <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb18-33"><a href="#cb18-33"></a>       <span class="at">y =</span> <span class="st">"N√∫mero de turistas"</span>) <span class="sc">+</span></span>
<span id="cb18-34"><a href="#cb18-34"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb18-35"><a href="#cb18-35"></a>  </span>
<span id="cb18-36"><a href="#cb18-36"></a><span class="fu">ggplotly</span>(p1)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="htmlwidget-f57585fd83fe43bd9e96" style="width:95%;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-f57585fd83fe43bd9e96">{"x":{"data":[{"x":[17897,17928,17956,17987,18017,18048,18078,18109,18140,18170,18201,18231,18262,18293,18322,18353,18383,18414,18444,18475,18506,18536,18567,18597,18628,18659,18687,18718,18748,18779,18809,18840,18871,18901,18932,18962,18993,19024,19052,19083,19113,19144,19174,19205,19236,19266],"y":[413553,459309,648462,826158,857711,938591,1243375,1270706,1011901,870088,541121,454520,433023,528712,248509,0,0,31385,383051,429850,185154,177332,53870,71873,49970,28152,46945,71493,141587,271231,607165,754050,641919,641582,384253,381422,281261,393280,490751,783987,791683,834998,1125829,1058896,945556,865908],"text":["fecha: 2019-01-01<br />Dato base:  413553<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2019-02-01<br />Dato base:  459309<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2019-03-01<br />Dato base:  648462<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2019-04-01<br />Dato base:  826158<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2019-05-01<br />Dato base:  857711<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2019-06-01<br />Dato base:  938591<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2019-07-01<br />Dato base: 1243375<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2019-08-01<br />Dato base: 1270706<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2019-09-01<br />Dato base: 1011901<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2019-10-01<br />Dato base:  870088<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2019-11-01<br />Dato base:  541121<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2019-12-01<br />Dato base:  454520<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2020-01-01<br />Dato base:  433023<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2020-02-01<br />Dato base:  528712<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2020-03-01<br />Dato base:  248509<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2020-04-01<br />Dato base:       0<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2020-05-01<br />Dato base:       0<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2020-06-01<br />Dato base:   31385<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2020-07-01<br />Dato base:  383051<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2020-08-01<br />Dato base:  429850<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2020-09-01<br />Dato base:  185154<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2020-10-01<br />Dato base:  177332<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2020-11-01<br />Dato base:   53870<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2020-12-01<br />Dato base:   71873<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2021-01-01<br />Dato base:   49970<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2021-02-01<br />Dato base:   28152<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2021-03-01<br />Dato base:   46945<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2021-04-01<br />Dato base:   71493<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2021-05-01<br />Dato base:  141587<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2021-06-01<br />Dato base:  271231<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2021-07-01<br />Dato base:  607165<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2021-08-01<br />Dato base:  754050<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2021-09-01<br />Dato base:  641919<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2021-10-01<br />Dato base:  641582<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2021-11-01<br />Dato base:  384253<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2021-12-01<br />Dato base:  381422<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2022-01-01<br />Dato base:  281261<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2022-02-01<br />Dato base:  393280<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2022-03-01<br />Dato base:  490751<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2022-04-01<br />Dato base:  783987<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2022-05-01<br />Dato base:  791683<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2022-06-01<br />Dato base:  834998<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2022-07-01<br />Dato base: 1125829<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2022-08-01<br />Dato base: 1058896<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2022-09-01<br />Dato base:  945556<br />ine_ccaa.n: Comunitat Valenciana","fecha: 2022-10-01<br />Dato base:  865908<br />ine_ccaa.n: Comunitat Valenciana"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"Comunitat Valenciana","legendgroup":"Comunitat Valenciana","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":25.5707762557078,"l":66.4840182648402},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Gr√°fico 15:Evoluci√≥n de turistas siendo la Comunidad Valenciana el destino principal","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[17828.55,19334.45],"tickmode":"array","ticktext":["2019","2020","2021","2022"],"tickvals":[17897,18262,18628,18993],"categoryorder":"array","categoryarray":["2019","2020","2021","2022"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-63535.3,1334241.3],"tickmode":"array","ticktext":["0","500000","1000000"],"tickvals":[0,500000,1000000],"categoryorder":"array","categoryarray":["0","500000","1000000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"N√∫mero de turistas","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"28101e45695f":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"28101e45695f","visdat":{"28101e45695f":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a></span>
<span id="cb19-2"><a href="#cb19-2"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> df_CV, <span class="fu">aes</span>(<span class="at">x =</span> fecha,</span>
<span id="cb19-4"><a href="#cb19-4"></a>                              <span class="at">y =</span> <span class="st">`</span><span class="at">Tasa de variaci√≥n acumulada</span><span class="st">`</span>), <span class="at">color =</span> <span class="st">"Blue"</span>) <span class="sc">+</span></span>
<span id="cb19-5"><a href="#cb19-5"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb19-6"><a href="#cb19-6"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 16:Evoluci√≥n de la tasa de variaci√≥n acumulada siendo la Comunidad Valenciana el destino principal"</span>,</span>
<span id="cb19-7"><a href="#cb19-7"></a>       <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb19-8"><a href="#cb19-8"></a>       <span class="at">y =</span> <span class="st">"Tasa de variaci√≥n acumulada"</span>) <span class="sc">+</span></span>
<span id="cb19-9"><a href="#cb19-9"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb19-10"><a href="#cb19-10"></a></span>
<span id="cb19-11"><a href="#cb19-11"></a><span class="fu">ggplotly</span>(p2)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="htmlwidget-56582389fe29816d0349" style="width:95%;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-56582389fe29816d0349">{"x":{"data":[{"x":[17897,17928,17956,17987,18017,18048,18078,18109,18140,18170,18201,18231,18262,18293,18322,18353,18383,18414,18444,18475,18506,18536,18567,18597,18628,18659,18687,18718,18748,18779,18809,18840,18871,18901,18932,18962,18993,19024,19052,19083,19113,19144,19174,19205,19236,19266],"y":[-8.28,-3.06,-0.3,2.27,-0.03,0.89,2.82,3.78,3.35,3.11,3.44,3.57,4.71,10.18,-20.45,-48.45,-62.24,-70.04,-69.84,-69.14,-70.8,-71.7,-72.79,-73.33,-88.46,-91.88,-89.67,-83.76,-72.06,-50.92,-25.12,-4.09,16.65,34.63,47.25,58.09,462.86,763.45,831.74,891.7,710.59,486.82,286.49,192.33,156.7,132.7],"text":["fecha: 2019-01-01<br />Tasa de variaci√≥n acumulada:  -8.28","fecha: 2019-02-01<br />Tasa de variaci√≥n acumulada:  -3.06","fecha: 2019-03-01<br />Tasa de variaci√≥n acumulada:  -0.30","fecha: 2019-04-01<br />Tasa de variaci√≥n acumulada:   2.27","fecha: 2019-05-01<br />Tasa de variaci√≥n acumulada:  -0.03","fecha: 2019-06-01<br />Tasa de variaci√≥n acumulada:   0.89","fecha: 2019-07-01<br />Tasa de variaci√≥n acumulada:   2.82","fecha: 2019-08-01<br />Tasa de variaci√≥n acumulada:   3.78","fecha: 2019-09-01<br />Tasa de variaci√≥n acumulada:   3.35","fecha: 2019-10-01<br />Tasa de variaci√≥n acumulada:   3.11","fecha: 2019-11-01<br />Tasa de variaci√≥n acumulada:   3.44","fecha: 2019-12-01<br />Tasa de variaci√≥n acumulada:   3.57","fecha: 2020-01-01<br />Tasa de variaci√≥n acumulada:   4.71","fecha: 2020-02-01<br />Tasa de variaci√≥n acumulada:  10.18","fecha: 2020-03-01<br />Tasa de variaci√≥n acumulada: -20.45","fecha: 2020-04-01<br />Tasa de variaci√≥n acumulada: -48.45","fecha: 2020-05-01<br />Tasa de variaci√≥n acumulada: -62.24","fecha: 2020-06-01<br />Tasa de variaci√≥n acumulada: -70.04","fecha: 2020-07-01<br />Tasa de variaci√≥n acumulada: -69.84","fecha: 2020-08-01<br />Tasa de variaci√≥n acumulada: -69.14","fecha: 2020-09-01<br />Tasa de variaci√≥n acumulada: -70.80","fecha: 2020-10-01<br />Tasa de variaci√≥n acumulada: -71.70","fecha: 2020-11-01<br />Tasa de variaci√≥n acumulada: -72.79","fecha: 2020-12-01<br />Tasa de variaci√≥n acumulada: -73.33","fecha: 2021-01-01<br />Tasa de variaci√≥n acumulada: -88.46","fecha: 2021-02-01<br />Tasa de variaci√≥n acumulada: -91.88","fecha: 2021-03-01<br />Tasa de variaci√≥n acumulada: -89.67","fecha: 2021-04-01<br />Tasa de variaci√≥n acumulada: -83.76","fecha: 2021-05-01<br />Tasa de variaci√≥n acumulada: -72.06","fecha: 2021-06-01<br />Tasa de variaci√≥n acumulada: -50.92","fecha: 2021-07-01<br />Tasa de variaci√≥n acumulada: -25.12","fecha: 2021-08-01<br />Tasa de variaci√≥n acumulada:  -4.09","fecha: 2021-09-01<br />Tasa de variaci√≥n acumulada:  16.65","fecha: 2021-10-01<br />Tasa de variaci√≥n acumulada:  34.63","fecha: 2021-11-01<br />Tasa de variaci√≥n acumulada:  47.25","fecha: 2021-12-01<br />Tasa de variaci√≥n acumulada:  58.09","fecha: 2022-01-01<br />Tasa de variaci√≥n acumulada: 462.86","fecha: 2022-02-01<br />Tasa de variaci√≥n acumulada: 763.45","fecha: 2022-03-01<br />Tasa de variaci√≥n acumulada: 831.74","fecha: 2022-04-01<br />Tasa de variaci√≥n acumulada: 891.70","fecha: 2022-05-01<br />Tasa de variaci√≥n acumulada: 710.59","fecha: 2022-06-01<br />Tasa de variaci√≥n acumulada: 486.82","fecha: 2022-07-01<br />Tasa de variaci√≥n acumulada: 286.49","fecha: 2022-08-01<br />Tasa de variaci√≥n acumulada: 192.33","fecha: 2022-09-01<br />Tasa de variaci√≥n acumulada: 156.70","fecha: 2022-10-01<br />Tasa de variaci√≥n acumulada: 132.70"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":25.5707762557078,"l":43.1050228310502},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Gr√°fico 16:Evoluci√≥n de la tasa de variaci√≥n acumulada siendo la Comunidad Valenciana el destino principal","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[17828.55,19334.45],"tickmode":"array","ticktext":["2019","2020","2021","2022"],"tickvals":[17897,18262,18628,18993],"categoryorder":"array","categoryarray":["2019","2020","2021","2022"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-141.059,940.879],"tickmode":"array","ticktext":["0","250","500","750"],"tickvals":[-2.8421709430404e-14,250,500,750],"categoryorder":"array","categoryarray":["0","250","500","750"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Tasa de variaci√≥n acumulada","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"281023b8af":{"x":{},"y":{},"type":"scatter"}},"cur_data":"281023b8af","visdat":{"281023b8af":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>El primer gr√°fico nos muestra la evoluci√≥n del n√∫mero de turistas que provienen de otros sitios que eligen a la Comunidad Valenciana como destino de viaje. En el mes de agosto del 2019 consigue el mayor n√∫mero de turistas. A partir de all√≠ empieza a caer llegando al m√≠nimo en abril y mayo del 2020, cuando empez√≥ el confinamiento y el Estado de alarma. Podemos observar que, aunque el covid es el motivo principal de la ca√≠da del turismo, tambi√©n hay otros factores que influyen a las fluctuaciones. Debido a que la Comunidad Valenciana est√° cerca del mar Mediterr√°neo y tiene un clima favorable, los viajeros comienzan a incrementar en temporadas de verano, y disminuyen en temporadas de invierno.</p>
<p>El segundo gr√°fico nos muestra lo mismo pero medido por la tasa de variaci√≥n acumulada.</p>
<hr></section></section><section id="la-crisis-energ√©tica-y-el-futuro" class="level2"><h2 class="anchored" data-anchor-id="la-crisis-energ√©tica-y-el-futuro">6. LA CRISIS ENERG√âTICA Y EL FUTURO</h2>
<p>Terminamos nuestro trabajo con un apartado adicional sobre la crisis en√©rgetica actual que estamos viviendo ahora mismo. Dar un poco de informaci√≥n sobre ad√≥nde nos llevar√° esta crisis, y c√≥mo puede ser nuestro furturo.</p>
<section id="la-crisis-energ√©tica" class="level3"><h3 class="anchored" data-anchor-id="la-crisis-energ√©tica">6.1. La crisis energ√©tica</h3>
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="fu">embed_url</span>(<span class="st">"https://www.youtube.com/watch?v=sC0SsZnegBQ"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/sC0SsZnegBQ" width="533" height="300" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
</div>
</div>
</section><section id="el-futuro" class="level3"><h3 class="anchored" data-anchor-id="el-futuro">6.2. El futuro</h3>
<ul>
<li>De la crisis energ√©tica:</li>
</ul>
<div class="cell" data-layout-align="center">
<details><summary>C√≥digo</summary><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">embed_url</span>(<span class="st">"https://www.youtube.com/watch?v=0LG_eEqdcLs"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/0LG_eEqdcLs" width="533" height="300" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
</div>
</div>
<ul>
<li><p>Del sector turismo: en la Comunidad Valenciana, la Generalitat plantea lanzar bonos tur√≠stimos para viajar en temporadas bajas, de esta forma conseguir incentivar el turismo. Para m√°s informaci√≥n, <a href="https://www.elmundo.es/comunidad-valenciana/2022/12/16/639c0fc7e4d4d89a2a8b4594.html">aqu√≠</a></p></li>
<li><p><a href="https://www.barymont.com/pepepromedio/blog/futuro-de-la-economia-espanola/">De la econom√≠a espa√±ola</a></p></li>
</ul>
<hr></section></section><section id="conclusi√≥n" class="level1"><h1>7. CONCLUSI√ìN</h1>
<p>En conclusi√≥n, R es un instrumento muy √∫til para elaborar gr√°ficos, mapas y tablas. El trabajo ha empezado desde 0, tanto la b√∫squeda de datos, la transformaci√≥n de datos a lo que llamamos ‚Äútidy‚Äù, y la realizaci√≥n final de los plots se ha basado principalmente a partir de RStudio. Adem√°s con la ayuda de, Quarto, sistema de publicaci√≥n cient√≠fica y t√©cnica de c√≥digo abierto, hemos conseguido presentar este trabajo de una forma m√°s ‚Äúcool‚Äùüíª. Pero desde luego, hace falta un conocimiento previo, y pensamos que al finalizar este trabajo, hemos podido profundizar estos conocimientos. Aunque no podemos asegurarnos de que en el futuro nos va a servir R, pero sin duda, en el desarrollo del trabajo hemos aprendido cosas de programaci√≥n.</p>
<hr></section><section id="referencias" class="level1"><h1>8. REFERENCIAS</h1>
<p>Para la realizaci√≥n de los gr√°ficos y los comentarios pertinentes nos hemos basado en la informaci√≥n que vamos a exponer en los siguientes p√°rrafos.</p>
<p>Para poder realizar los comentarios, nos hemos formado con art√≠culos como los siguientes:</p>
<ul>
<li><p><a href="https://www.barymont.com/pepepromedio/blog/futuro-de-la-economia-espanola/">El futuro de la econom√≠a espa√±ola</a></p></li>
<li><p><a href="https://www.bde.es/f/webbde/GAP/Secciones/SalaPrensa/IntervencionesPublicas/DirectoresGenerales/economia/Arc/Fic/arce260521.pdf">La econom√≠a espa√±ola durante la pandemia</a></p></li>
<li><p>La econom√≠a europea durante la pandemia: nos hemos basado en los temarios de la asignatura <strong>Econom√≠a de la Uni√≥n Europea</strong> impartida por el Grado de Econom√≠a de la UV.</p></li>
<li><p>La econom√≠a mundial durante la pandemia: nos hemos basado en los temarios de la asignatura <strong>Econom√≠a internacional</strong> impartida por el Grado de Econom√≠a de la UV.</p></li>
</ul>
<p>Para poder realizar gr√°ficos animados, nos hemos basado en las explicaciones de como implementar el paquete gganimate en nuestro proyecto.</p>
<p>Con el paquete plotly, hemos conseguido realizar gr√°ficos interactivos.</p>
<p>Para realizar el gr√°fico bump-chart nos hemos basado en el siguiente <a href="https://dominikkoch.github.io/Bump-Chart/">blog</a> utilizando el paquete ggbump.</p>
<p>Adem√°s, para la elaboraci√≥n de gr√°ficos que nos parec√≠an √∫tiles para implementar en el trabajo, hemos consultado informaci√≥n sobre diferentes ejemplos de gr√°ficos. La p√°gina lo podemos encontrar <a href="https://r-charts.com/es/ggplot2/">aqu√≠</a></p>
<p>Por √∫ltimo, destacar como tambi√©m hemos consultado trabajos realizados por nuestros compa√±eros el a√±o anterior. Estos √∫ltimos los podemos encontrar <a href="https://perezp44.github.io/intro-ds-22-23-web/07-trabajos_2022-23.html" target="_blank">aquI</a></p>
<hr>
<p><br></p>
<p>Con esto acabo mi trabajo para BigData!!ü•≥üéâüëèüëè</p>
<p><br></p>
<p>Abajo muestro mi entorno de trabajo y paquetes utilizados</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<details closed=""><summary><span title="Click to Expand"> current session info </span>
</summary><div class="sourceCode" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a></span>
<span id="cb22-2"><a href="#cb22-2"></a>‚îÄ Session info ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</span>
<span id="cb22-3"><a href="#cb22-3"></a> setting  value</span>
<span id="cb22-4"><a href="#cb22-4"></a> version  R version <span class="dv">4</span>.<span class="fl">2.1</span> (<span class="dv">2022-06-23</span> ucrt)</span>
<span id="cb22-5"><a href="#cb22-5"></a> os       Windows <span class="dv">10</span> <span class="fu">x64</span> (build <span class="dv">22000</span>)</span>
<span id="cb22-6"><a href="#cb22-6"></a> system   x86_64, mingw32</span>
<span id="cb22-7"><a href="#cb22-7"></a> ui       RTerm</span>
<span id="cb22-8"><a href="#cb22-8"></a> <span class="fu">language</span> (EN)</span>
<span id="cb22-9"><a href="#cb22-9"></a> collate  Spanish_Spain.utf8</span>
<span id="cb22-10"><a href="#cb22-10"></a> ctype    Spanish_Spain.utf8</span>
<span id="cb22-11"><a href="#cb22-11"></a> tz       Europe<span class="sc">/</span>Paris</span>
<span id="cb22-12"><a href="#cb22-12"></a> date     <span class="dv">2022-12-23</span></span>
<span id="cb22-13"><a href="#cb22-13"></a> pandoc   <span class="fl">2.18</span> <span class="sc">@</span> C<span class="sc">:</span><span class="er">/</span>Ê°åÈù¢<span class="sc">/</span>RStudio<span class="sc">/</span>bin<span class="sc">/</span>quarto<span class="sc">/</span>bin<span class="sc">/</span>tools<span class="sc">/</span> (via rmarkdown)</span>
<span id="cb22-14"><a href="#cb22-14"></a></span>
<span id="cb22-15"><a href="#cb22-15"></a>‚îÄ Packages ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</span>
<span id="cb22-16"><a href="#cb22-16"></a> package           <span class="sc">*</span> version   <span class="fu">date</span> (UTC) lib source</span>
<span id="cb22-17"><a href="#cb22-17"></a> abind               <span class="fl">1.4</span><span class="dv">-5</span>     <span class="dv">2016-07-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.0</span>)</span>
<span id="cb22-18"><a href="#cb22-18"></a> assertthat          <span class="dv">0</span>.<span class="fl">2.1</span>     <span class="dv">2019-03-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-19"><a href="#cb22-19"></a> backports           <span class="dv">1</span>.<span class="fl">4.1</span>     <span class="dv">2021-12-13</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.0</span>)</span>
<span id="cb22-20"><a href="#cb22-20"></a> base64enc           <span class="fl">0.1</span><span class="dv">-3</span>     <span class="dv">2015-07-28</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.0</span>)</span>
<span id="cb22-21"><a href="#cb22-21"></a> bit                 <span class="dv">4</span>.<span class="fl">0.4</span>     <span class="dv">2020-08-04</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-22"><a href="#cb22-22"></a> bit64               <span class="dv">4</span>.<span class="fl">0.5</span>     <span class="dv">2020-08-30</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-23"><a href="#cb22-23"></a> broom               <span class="dv">1</span>.<span class="fl">0.1</span>     <span class="dv">2022-08-29</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-24"><a href="#cb22-24"></a> bslib               <span class="dv">0</span>.<span class="fl">4.0</span>     <span class="dv">2022-07-16</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-25"><a href="#cb22-25"></a> cachem              <span class="dv">1</span>.<span class="fl">0.6</span>     <span class="dv">2021-08-19</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-26"><a href="#cb22-26"></a> cellranger          <span class="dv">1</span>.<span class="fl">1.0</span>     <span class="dv">2016-07-27</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-27"><a href="#cb22-27"></a> class               <span class="fl">7.3</span><span class="dv">-20</span>    <span class="dv">2022-01-16</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-28"><a href="#cb22-28"></a> classInt            <span class="fl">0.4</span><span class="dv">-7</span>     <span class="dv">2022-06-10</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-29"><a href="#cb22-29"></a> cli                 <span class="dv">3</span>.<span class="fl">4.0</span>     <span class="dv">2022-09-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-30"><a href="#cb22-30"></a> clipr               <span class="dv">0</span>.<span class="fl">8.0</span>     <span class="dv">2022-02-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-31"><a href="#cb22-31"></a> codetools           <span class="fl">0.2</span><span class="dv">-18</span>    <span class="dv">2020-11-04</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-32"><a href="#cb22-32"></a> colorspace          <span class="fl">2.0</span><span class="dv">-3</span>     <span class="dv">2022-02-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-33"><a href="#cb22-33"></a> commonmark          <span class="dv">1</span>.<span class="fl">8.0</span>     <span class="dv">2022-03-09</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-34"><a href="#cb22-34"></a> conflicted        <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">1.0</span>     <span class="dv">2021-11-26</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.2</span>)</span>
<span id="cb22-35"><a href="#cb22-35"></a> countrycode         <span class="dv">1</span>.<span class="fl">4.0</span>     <span class="dv">2022-05-04</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-36"><a href="#cb22-36"></a> crayon              <span class="dv">1</span>.<span class="fl">5.1</span>     <span class="dv">2022-03-26</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-37"><a href="#cb22-37"></a> crosstalk           <span class="dv">1</span>.<span class="fl">2.0</span>     <span class="dv">2021-11-04</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-38"><a href="#cb22-38"></a> curl                <span class="dv">4</span>.<span class="fl">3.2</span>     <span class="dv">2021-06-23</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-39"><a href="#cb22-39"></a> data.table          <span class="dv">1</span>.<span class="fl">14.2</span>    <span class="dv">2021-09-27</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-40"><a href="#cb22-40"></a> DBI                 <span class="dv">1</span>.<span class="fl">1.3</span>     <span class="dv">2022-06-18</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-41"><a href="#cb22-41"></a> dbplyr              <span class="dv">2</span>.<span class="fl">2.1</span>     <span class="dv">2022-06-27</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-42"><a href="#cb22-42"></a> desc                <span class="dv">1</span>.<span class="fl">4.2</span>     <span class="dv">2022-09-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-43"><a href="#cb22-43"></a> details             <span class="dv">0</span>.<span class="fl">3.0</span>     <span class="dv">2022-03-27</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.2</span>)</span>
<span id="cb22-44"><a href="#cb22-44"></a> dichromat           <span class="fl">2.0-0.1</span>   <span class="dv">2022-05-02</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.0</span>)</span>
<span id="cb22-45"><a href="#cb22-45"></a> digest              <span class="dv">0</span>.<span class="fl">6.29</span>    <span class="dv">2021-12-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-46"><a href="#cb22-46"></a> dplyr             <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">0.10</span>    <span class="dv">2022-09-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-47"><a href="#cb22-47"></a> DT                  <span class="fl">0.25</span>      <span class="dv">2022-09-12</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-48"><a href="#cb22-48"></a> e1071               <span class="fl">1.7</span><span class="dv">-11</span>    <span class="dv">2022-06-07</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-49"><a href="#cb22-49"></a> ellipsis            <span class="dv">0</span>.<span class="fl">3.2</span>     <span class="dv">2021-04-29</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-50"><a href="#cb22-50"></a> eurostat          <span class="sc">*</span> <span class="dv">3</span>.<span class="fl">7.10</span>    <span class="dv">2022-02-09</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-51"><a href="#cb22-51"></a> evaluate            <span class="fl">0.16</span>      <span class="dv">2022-08-09</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-52"><a href="#cb22-52"></a> fansi               <span class="dv">1</span>.<span class="fl">0.3</span>     <span class="dv">2022-03-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-53"><a href="#cb22-53"></a> farver              <span class="dv">2</span>.<span class="fl">1.1</span>     <span class="dv">2022-07-06</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-54"><a href="#cb22-54"></a> fastmap             <span class="dv">1</span>.<span class="fl">1.0</span>     <span class="dv">2021-01-25</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-55"><a href="#cb22-55"></a> fontawesome         <span class="dv">0</span>.<span class="fl">3.0</span>     <span class="dv">2022-07-20</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-56"><a href="#cb22-56"></a> forcats           <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">5.2</span>     <span class="dv">2022-08-19</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-57"><a href="#cb22-57"></a> fs                  <span class="dv">1</span>.<span class="fl">5.2</span>     <span class="dv">2021-12-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-58"><a href="#cb22-58"></a> gapminder         <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">3.0</span>     <span class="dv">2017-10-31</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-59"><a href="#cb22-59"></a> gargle              <span class="dv">1</span>.<span class="fl">2.1</span>     <span class="dv">2022-09-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-60"><a href="#cb22-60"></a> generics            <span class="dv">0</span>.<span class="fl">1.3</span>     <span class="dv">2022-07-05</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-61"><a href="#cb22-61"></a> gganimate         <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">0.8</span>     <span class="dv">2022-09-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-62"><a href="#cb22-62"></a> ggbump            <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">1.0</span>     <span class="dv">2020-04-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.2</span>)</span>
<span id="cb22-63"><a href="#cb22-63"></a> ggplot2           <span class="sc">*</span> <span class="dv">3</span>.<span class="fl">3.6</span>     <span class="dv">2022-05-03</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-64"><a href="#cb22-64"></a> ggrepel           <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">9.2</span>     <span class="dv">2022-11-06</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.2</span>)</span>
<span id="cb22-65"><a href="#cb22-65"></a> ggspatial         <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">1.7</span>     <span class="dv">2022-11-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.2</span>)</span>
<span id="cb22-66"><a href="#cb22-66"></a> ggthemes          <span class="sc">*</span> <span class="dv">4</span>.<span class="fl">2.4</span>     <span class="dv">2021-01-20</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-67"><a href="#cb22-67"></a> gifski              <span class="dv">1</span>.<span class="fl">6.6</span><span class="dv">-1</span>   <span class="dv">2022-04-05</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-68"><a href="#cb22-68"></a> glue                <span class="dv">1</span>.<span class="fl">6.2</span>     <span class="dv">2022-02-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-69"><a href="#cb22-69"></a> googledrive         <span class="dv">2</span>.<span class="fl">0.0</span>     <span class="dv">2021-07-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-70"><a href="#cb22-70"></a> googlesheets4       <span class="dv">1</span>.<span class="fl">0.1</span>     <span class="dv">2022-08-13</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-71"><a href="#cb22-71"></a> gt                <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">7.0</span>     <span class="dv">2022-08-25</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-72"><a href="#cb22-72"></a> gtable              <span class="dv">0</span>.<span class="fl">3.1</span>     <span class="dv">2022-09-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-73"><a href="#cb22-73"></a> gtExtras            <span class="dv">0</span>.<span class="fl">4.3</span>     <span class="dv">2022-11-05</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.2</span>)</span>
<span id="cb22-74"><a href="#cb22-74"></a> haven               <span class="dv">2</span>.<span class="fl">5.1</span>     <span class="dv">2022-08-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-75"><a href="#cb22-75"></a> here              <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">0.1</span>     <span class="dv">2020-12-13</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-76"><a href="#cb22-76"></a> hms                 <span class="dv">1</span>.<span class="fl">1.2</span>     <span class="dv">2022-08-19</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-77"><a href="#cb22-77"></a> htmltools           <span class="dv">0</span>.<span class="fl">5.3</span>     <span class="dv">2022-07-18</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-78"><a href="#cb22-78"></a> htmlwidgets         <span class="dv">1</span>.<span class="fl">5.4</span>     <span class="dv">2021-09-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-79"><a href="#cb22-79"></a> httr                <span class="dv">1</span>.<span class="fl">4.4</span>     <span class="dv">2022-08-17</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-80"><a href="#cb22-80"></a> janitor             <span class="dv">2</span>.<span class="fl">1.0</span>     <span class="dv">2021-01-05</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-81"><a href="#cb22-81"></a> jquerylib           <span class="dv">0</span>.<span class="fl">1.4</span>     <span class="dv">2021-04-26</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-82"><a href="#cb22-82"></a> jsonlite            <span class="dv">1</span>.<span class="fl">8.0</span>     <span class="dv">2022-02-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-83"><a href="#cb22-83"></a> KernSmooth          <span class="fl">2.23</span><span class="dv">-20</span>   <span class="dv">2021-05-03</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-84"><a href="#cb22-84"></a> knitr             <span class="sc">*</span> <span class="fl">1.40</span>      <span class="dv">2022-08-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-85"><a href="#cb22-85"></a> labeling            <span class="dv">0</span>.<span class="fl">4.2</span>     <span class="dv">2020-10-20</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.0</span>)</span>
<span id="cb22-86"><a href="#cb22-86"></a> lattice             <span class="fl">0.20</span><span class="dv">-45</span>   <span class="dv">2021-09-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-87"><a href="#cb22-87"></a> lazyeval            <span class="dv">0</span>.<span class="fl">2.2</span>     <span class="dv">2019-03-15</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-88"><a href="#cb22-88"></a> leafem            <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">2.0</span>     <span class="dv">2022-04-16</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-89"><a href="#cb22-89"></a> leaflet           <span class="sc">*</span> <span class="dv">2</span>.<span class="fl">1.1</span>     <span class="dv">2022-03-23</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-90"><a href="#cb22-90"></a> leaflet.providers   <span class="dv">1</span>.<span class="fl">9.0</span>     <span class="dv">2019-11-09</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-91"><a href="#cb22-91"></a> leafsync            <span class="dv">0</span>.<span class="fl">1.0</span>     <span class="dv">2019-03-05</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-92"><a href="#cb22-92"></a> lifecycle           <span class="dv">1</span>.<span class="fl">0.3</span>     <span class="dv">2022-10-07</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.2</span>)</span>
<span id="cb22-93"><a href="#cb22-93"></a> lubridate           <span class="dv">1</span>.<span class="fl">8.0</span>     <span class="dv">2021-10-07</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-94"><a href="#cb22-94"></a> lwgeom              <span class="fl">0.2</span><span class="dv">-8</span>     <span class="dv">2021-10-06</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-95"><a href="#cb22-95"></a> magrittr            <span class="dv">2</span>.<span class="fl">0.3</span>     <span class="dv">2022-03-30</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-96"><a href="#cb22-96"></a> mapview           <span class="sc">*</span> <span class="dv">2</span>.<span class="fl">11.0</span>    <span class="dv">2022-04-16</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.2</span>)</span>
<span id="cb22-97"><a href="#cb22-97"></a> memoise             <span class="dv">2</span>.<span class="fl">0.1</span>     <span class="dv">2021-11-26</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-98"><a href="#cb22-98"></a> mime                <span class="fl">0.12</span>      <span class="dv">2021-09-28</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.0</span>)</span>
<span id="cb22-99"><a href="#cb22-99"></a> modelr              <span class="dv">0</span>.<span class="fl">1.9</span>     <span class="dv">2022-08-19</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-100"><a href="#cb22-100"></a> munsell             <span class="dv">0</span>.<span class="fl">5.0</span>     <span class="dv">2018-06-12</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-101"><a href="#cb22-101"></a> naniar            <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">6.1</span>     <span class="dv">2021-05-14</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.2</span>)</span>
<span id="cb22-102"><a href="#cb22-102"></a> pacman              <span class="dv">0</span>.<span class="fl">5.1</span>     <span class="dv">2019-03-11</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-103"><a href="#cb22-103"></a> paletteer           <span class="dv">1</span>.<span class="fl">5.0</span>     <span class="dv">2022-10-19</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-104"><a href="#cb22-104"></a> patchwork         <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">1.2</span>     <span class="dv">2022-08-19</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-105"><a href="#cb22-105"></a> pillar              <span class="dv">1</span>.<span class="fl">8.1</span>     <span class="dv">2022-08-19</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-106"><a href="#cb22-106"></a> pkgconfig           <span class="dv">2</span>.<span class="fl">0.3</span>     <span class="dv">2019-09-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-107"><a href="#cb22-107"></a> plotly            <span class="sc">*</span> <span class="dv">4</span>.<span class="fl">10.0</span>    <span class="dv">2021-10-09</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-108"><a href="#cb22-108"></a> plyr              <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">8.7</span>     <span class="dv">2022-03-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-109"><a href="#cb22-109"></a> png                 <span class="fl">0.1</span><span class="dv">-7</span>     <span class="dv">2013-12-03</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.0</span>)</span>
<span id="cb22-110"><a href="#cb22-110"></a> prettyunits         <span class="dv">1</span>.<span class="fl">1.1</span>     <span class="dv">2020-01-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-111"><a href="#cb22-111"></a> progress            <span class="dv">1</span>.<span class="fl">2.2</span>     <span class="dv">2019-05-16</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-112"><a href="#cb22-112"></a> proxy               <span class="fl">0.4</span><span class="dv">-27</span>    <span class="dv">2022-06-09</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-113"><a href="#cb22-113"></a> purrr             <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">3.4</span>     <span class="dv">2020-04-17</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-114"><a href="#cb22-114"></a> pxR               <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">42.7</span>    <span class="dv">2022-11-23</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-115"><a href="#cb22-115"></a> R6                  <span class="dv">2</span>.<span class="fl">5.1</span>     <span class="dv">2021-08-19</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-116"><a href="#cb22-116"></a> rappdirs            <span class="dv">0</span>.<span class="fl">3.3</span>     <span class="dv">2021-01-31</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-117"><a href="#cb22-117"></a> raster              <span class="fl">3.5</span><span class="dv">-29</span>    <span class="dv">2022-08-14</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-118"><a href="#cb22-118"></a> RColorBrewer        <span class="fl">1.1</span><span class="dv">-3</span>     <span class="dv">2022-04-03</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.0</span>)</span>
<span id="cb22-119"><a href="#cb22-119"></a> Rcpp                <span class="dv">1</span>.<span class="fl">0.9</span>     <span class="dv">2022-07-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-120"><a href="#cb22-120"></a> readr             <span class="sc">*</span> <span class="dv">2</span>.<span class="fl">1.2</span>     <span class="dv">2022-01-30</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-121"><a href="#cb22-121"></a> readxl            <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">4.1</span>     <span class="dv">2022-08-17</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-122"><a href="#cb22-122"></a> RefManageR          <span class="dv">1</span>.<span class="fl">3.0</span>     <span class="dv">2020-11-13</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-123"><a href="#cb22-123"></a> regions             <span class="dv">0</span>.<span class="fl">1.8</span>     <span class="dv">2021-06-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-124"><a href="#cb22-124"></a> rematch2            <span class="dv">2</span>.<span class="fl">1.2</span>     <span class="dv">2020-05-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-125"><a href="#cb22-125"></a> reprex              <span class="dv">2</span>.<span class="fl">0.2</span>     <span class="dv">2022-08-17</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-126"><a href="#cb22-126"></a> reshape2          <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">4.4</span>     <span class="dv">2020-04-09</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-127"><a href="#cb22-127"></a> RJSONIO           <span class="sc">*</span> <span class="fl">1.3-1.6</span>   <span class="dv">2021-09-16</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.0</span>)</span>
<span id="cb22-128"><a href="#cb22-128"></a> rlang               <span class="dv">1</span>.<span class="fl">0.6</span>     <span class="dv">2022-09-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.2</span>)</span>
<span id="cb22-129"><a href="#cb22-129"></a> rmarkdown           <span class="fl">2.16</span>      <span class="dv">2022-08-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-130"><a href="#cb22-130"></a> rnaturalearth     <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">1.0</span>     <span class="dv">2017-03-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.2</span>)</span>
<span id="cb22-131"><a href="#cb22-131"></a> rnaturalearthdata <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">1.0</span>     <span class="dv">2017-02-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.2</span>)</span>
<span id="cb22-132"><a href="#cb22-132"></a> rprojroot           <span class="dv">2</span>.<span class="fl">0.3</span>     <span class="dv">2022-04-02</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-133"><a href="#cb22-133"></a> rstudioapi          <span class="fl">0.14</span>      <span class="dv">2022-08-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-134"><a href="#cb22-134"></a> rvest               <span class="dv">1</span>.<span class="fl">0.3</span>     <span class="dv">2022-08-19</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-135"><a href="#cb22-135"></a> s2                  <span class="dv">1</span>.<span class="fl">1.0</span>     <span class="dv">2022-07-18</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-136"><a href="#cb22-136"></a> sass                <span class="dv">0</span>.<span class="fl">4.2</span>     <span class="dv">2022-07-16</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-137"><a href="#cb22-137"></a> satellite           <span class="dv">1</span>.<span class="fl">0.4</span>     <span class="dv">2021-10-12</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.2</span>)</span>
<span id="cb22-138"><a href="#cb22-138"></a> scales              <span class="dv">1</span>.<span class="fl">2.1</span>     <span class="dv">2022-08-20</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-139"><a href="#cb22-139"></a> sessioninfo         <span class="dv">1</span>.<span class="fl">2.2</span>     <span class="dv">2021-12-06</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-140"><a href="#cb22-140"></a> sf                <span class="sc">*</span> <span class="fl">1.0</span><span class="dv">-8</span>     <span class="dv">2022-07-14</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-141"><a href="#cb22-141"></a> snakecase           <span class="dv">0</span>.<span class="fl">11.0</span>    <span class="dv">2019-05-25</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-142"><a href="#cb22-142"></a> sp                  <span class="fl">1.5</span><span class="dv">-0</span>     <span class="dv">2022-06-05</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-143"><a href="#cb22-143"></a> stars               <span class="fl">0.5</span><span class="dv">-6</span>     <span class="dv">2022-07-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-144"><a href="#cb22-144"></a> stringi             <span class="dv">1</span>.<span class="fl">7.8</span>     <span class="dv">2022-07-11</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-145"><a href="#cb22-145"></a> stringr           <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">4.1</span>     <span class="dv">2022-08-20</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-146"><a href="#cb22-146"></a> terra               <span class="fl">1.6</span><span class="dv">-17</span>    <span class="dv">2022-09-10</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-147"><a href="#cb22-147"></a> tibble            <span class="sc">*</span> <span class="dv">3</span>.<span class="fl">1.8</span>     <span class="dv">2022-07-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-148"><a href="#cb22-148"></a> tidyr             <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">2.1</span>     <span class="dv">2022-09-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-149"><a href="#cb22-149"></a> tidyselect          <span class="dv">1</span>.<span class="fl">1.2</span>     <span class="dv">2022-02-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-150"><a href="#cb22-150"></a> tidyverse         <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">3.2</span>     <span class="dv">2022-07-18</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-151"><a href="#cb22-151"></a> tmap              <span class="sc">*</span> <span class="fl">3.3</span><span class="dv">-3</span>     <span class="dv">2022-03-02</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-152"><a href="#cb22-152"></a> tmaptools           <span class="fl">3.1</span><span class="dv">-1</span>     <span class="dv">2021-01-19</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-153"><a href="#cb22-153"></a> tweenr              <span class="dv">2</span>.<span class="fl">0.2</span>     <span class="dv">2022-09-06</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-154"><a href="#cb22-154"></a> tzdb                <span class="dv">0</span>.<span class="fl">3.0</span>     <span class="dv">2022-03-28</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-155"><a href="#cb22-155"></a> units               <span class="fl">0.8</span><span class="dv">-0</span>     <span class="dv">2022-02-05</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-156"><a href="#cb22-156"></a> utf8                <span class="dv">1</span>.<span class="fl">2.2</span>     <span class="dv">2021-07-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-157"><a href="#cb22-157"></a> vctrs               <span class="dv">0</span>.<span class="fl">4.1</span>     <span class="dv">2022-04-13</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-158"><a href="#cb22-158"></a> vembedr           <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">1.5</span>     <span class="dv">2021-12-11</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.2</span>)</span>
<span id="cb22-159"><a href="#cb22-159"></a> viridisLite         <span class="dv">0</span>.<span class="fl">4.1</span>     <span class="dv">2022-08-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-160"><a href="#cb22-160"></a> visdat              <span class="dv">0</span>.<span class="fl">5.3</span>     <span class="dv">2019-02-15</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-161"><a href="#cb22-161"></a> vroom               <span class="dv">1</span>.<span class="fl">5.7</span>     <span class="dv">2021-11-30</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-162"><a href="#cb22-162"></a> webshot             <span class="dv">0</span>.<span class="fl">5.3</span>     <span class="dv">2022-04-14</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-163"><a href="#cb22-163"></a> withr               <span class="dv">2</span>.<span class="fl">5.0</span>     <span class="dv">2022-03-03</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-164"><a href="#cb22-164"></a> wk                  <span class="dv">0</span>.<span class="fl">6.0</span>     <span class="dv">2022-01-03</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-165"><a href="#cb22-165"></a> xfun                <span class="fl">0.33</span>      <span class="dv">2022-09-12</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-166"><a href="#cb22-166"></a> XML                 <span class="fl">3.99-0.10</span> <span class="dv">2022-06-09</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-167"><a href="#cb22-167"></a> xml2                <span class="dv">1</span>.<span class="fl">3.3</span>     <span class="dv">2021-11-30</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-168"><a href="#cb22-168"></a> yaml                <span class="dv">2</span>.<span class="fl">3.5</span>     <span class="dv">2022-02-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">2.1</span>)</span>
<span id="cb22-169"><a href="#cb22-169"></a></span>
<span id="cb22-170"><a href="#cb22-170"></a> [<span class="dv">1</span>] C<span class="sc">:</span><span class="er">/</span>Download<span class="sc">/</span>R<span class="dv">-4</span>.<span class="fl">2.1</span><span class="sc">/</span>library</span>
<span id="cb22-171"><a href="#cb22-171"></a></span>
<span id="cb22-172"><a href="#cb22-172"></a>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><p><br></p>
</div>
</div>


<!-- -->

</section><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Reutilizaci√≥n</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.es">https://creativecommons.org/licenses/by/4.0/deed.es</a></div></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Ejecutar el c√≥digo</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb23" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb23-1"><a href="#cb23-1"></a><span class="co">---</span></span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="an">title:</span><span class="co"> "AN√ÅLISIS ECON√ìMICO SOBRE LA CRISIS DE LA PANDEMIA"</span></span>
<span id="cb23-3"><a href="#cb23-3"></a><span class="an">description:</span><span class="co"> |</span></span>
<span id="cb23-4"><a href="#cb23-4"></a><span class="co">  Estudiando las consecuencias que ha causado la crisis sobre el contexto mundial, europeo y espa√±ol</span></span>
<span id="cb23-5"><a href="#cb23-5"></a><span class="an">author:</span></span>
<span id="cb23-6"><a href="#cb23-6"></a><span class="co">- name: Yi Zhang(yiz3@alumni.uv.es)</span></span>
<span id="cb23-7"><a href="#cb23-7"></a><span class="co">- name: Rapha√´lle Bastien(rapbas@alumni.uv.es)</span></span>
<span id="cb23-8"><a href="#cb23-8"></a><span class="co">- name: Kaikai Qiu(kaiqiu@alumni.uv.es)</span></span>
<span id="cb23-9"><a href="#cb23-9"></a><span class="an">date:</span><span class="co"> 2022-12-23</span></span>
<span id="cb23-10"><a href="#cb23-10"></a><span class="an">categories:</span><span class="co"> [trabajo BigData equipo]</span></span>
<span id="cb23-11"><a href="#cb23-11"></a><span class="an">image:</span><span class="co"> "./posts/imagenes/imagen_01.png"</span></span>
<span id="cb23-12"><a href="#cb23-12"></a><span class="an">title-block-banner:</span><span class="co"> true #- {true, false }</span></span>
<span id="cb23-13"><a href="#cb23-13"></a><span class="an">toc:</span><span class="co"> true</span></span>
<span id="cb23-14"><a href="#cb23-14"></a><span class="an">toc-location:</span><span class="co"> left</span></span>
<span id="cb23-15"><a href="#cb23-15"></a><span class="an">toc-depth:</span><span class="co"> 3</span></span>
<span id="cb23-16"><a href="#cb23-16"></a><span class="an">smooth-scroll:</span><span class="co"> true</span></span>
<span id="cb23-17"><a href="#cb23-17"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb23-18"><a href="#cb23-18"></a><span class="co">  html: </span></span>
<span id="cb23-19"><a href="#cb23-19"></a><span class="co">    mainfont: serif</span></span>
<span id="cb23-20"><a href="#cb23-20"></a><span class="co">    backgroundcolor: "#edf9fc"</span></span>
<span id="cb23-21"><a href="#cb23-21"></a><span class="co">    #embed-resources: true</span></span>
<span id="cb23-22"><a href="#cb23-22"></a><span class="co">    link-external-newwindow: true</span></span>
<span id="cb23-23"><a href="#cb23-23"></a><span class="co">    css: ./assets/my_css_file.css   #- CUIDADO!!!!</span></span>
<span id="cb23-24"><a href="#cb23-24"></a><span class="an">code-tools:</span><span class="co"> true</span></span>
<span id="cb23-25"><a href="#cb23-25"></a><span class="an">code-link:</span><span class="co"> true</span></span>
<span id="cb23-26"><a href="#cb23-26"></a><span class="co">---</span></span>
<span id="cb23-27"><a href="#cb23-27"></a></span>
<span id="cb23-28"><a href="#cb23-28"></a><span class="fu">## 1. INTRODUCCI√ìN</span></span>
<span id="cb23-29"><a href="#cb23-29"></a></span>
<span id="cb23-30"><a href="#cb23-30"></a>El impacto econ√≥mico de la pandemia de COVID-19 es una grave crisis mundial que inici√≥ a principios del a√±o 2020, primeramente en China, y luego en todo el mundo. Diferente a las crisis anteriores, esta ha sido causada principalmente por la expansi√≥n de la enfermedad COVID-19.</span>
<span id="cb23-31"><a href="#cb23-31"></a></span>
<span id="cb23-32"><a href="#cb23-32"></a>Dicho lo anterior, nuestro objetivo del trabajo es estudiar las consecuencias econ√≥micas que ha causado la crisis sobre distintos entornos:</span>
<span id="cb23-33"><a href="#cb23-33"></a></span>
<span id="cb23-34"><a href="#cb23-34"></a><span class="ss">- </span>Primero, haremos un an√°lisis con variables macroecon√≥micos sobre los pa√≠ses de **Europa**, as√≠ observamos c√≥mo de diferentes se han comportado y las similitudes que hay entre ellos</span>
<span id="cb23-35"><a href="#cb23-35"></a><span class="ss">- </span>Seguidamente, el estudio se ampl√≠a hacia **todos los pa√≠ses del mundo**. En este caso, podemos ver las similitudes y las diferencias no solo entre cada pa√≠s, tambi√©n entre cada continente. Adem√°s, </span>
<span id="cb23-36"><a href="#cb23-36"></a><span class="ss">- </span>Finalmente, nos enfocaremos en los impactos causados dentro de **Espa√±a**ü§©. Analizaremos los efectos para cada Comunidad y ciudad aut√≥noma, los efectos dentro de cada sector de actividad, y c√≥mo ha quedado el turismo en la Comunidad Valenciana.</span>
<span id="cb23-37"><a href="#cb23-37"></a></span>
<span id="cb23-38"><a href="#cb23-38"></a>Adicionalmente, hemos a√±adido un apartado que se trata sobre la actual crisis energ√©tica. Ofreceremos alguna informaci√≥n de lo que est√° pasando ahora y las medidas que se pretenden tomar las autoridades estatales.</span>
<span id="cb23-39"><a href="#cb23-39"></a></span>
<span id="cb23-40"><a href="#cb23-40"></a><span class="at">&gt; ‚ÄúHi ha una coalici√≥ d‚Äôinteressos per a l‚Äôacceleraci√≥ de les energies renovables. L‚Äôobjectiu √©s que els 64 expedients pendents est√©n resolts abans del 25 de gener. Es disposar√† del personal i mitjans necessaris‚Äù @ximopuig</span></span>
<span id="cb23-41"><a href="#cb23-41"></a></span>
<span id="cb23-42"><a href="#cb23-42"></a>- - -</span>
<span id="cb23-43"><a href="#cb23-43"></a></span>
<span id="cb23-44"><a href="#cb23-44"></a><span class="fu">## 2. DATOS</span></span>
<span id="cb23-45"><a href="#cb23-45"></a></span>
<span id="cb23-46"><a href="#cb23-46"></a>::: {.panel-tabset}</span>
<span id="cb23-47"><a href="#cb23-47"></a></span>
<span id="cb23-48"><a href="#cb23-48"></a><span class="fu">### DATOS</span></span>
<span id="cb23-49"><a href="#cb23-49"></a></span>
<span id="cb23-50"><a href="#cb23-50"></a>Hemos utilizado varias fuentes para buscar datos: los datos de Espa√±a provienen del <span class="co">[</span><span class="ot">INE</span><span class="co">](https://www.ine.es/)</span>; los datos de Europa provienen de <span class="co">[</span><span class="ot">eurostat</span><span class="co">](https://ec.europa.eu/eurostat)</span> y los datos internacionales provienen de <span class="co">[</span><span class="ot">FMI</span><span class="co">](https://www.imf.org/es/Home)</span>.</span>
<span id="cb23-51"><a href="#cb23-51"></a></span>
<span id="cb23-52"><a href="#cb23-52"></a><span class="ss">- </span>INE: <span class="co">[</span><span class="ot">Tasa de paro</span><span class="co">](https://www.ine.es/jaxiT3/Datos.htm?t=4247)</span>, <span class="co">[</span><span class="ot">PIB</span><span class="co">](https://www.ine.es/jaxi/Tabla.htm?path=/t35/p010/rev19/l0/&amp;file=01001.px&amp;L=0)</span>, <span class="co">[</span><span class="ot">Ramas de actividad</span><span class="co">](https://www.ine.es/jaxiT3/Tabla.htm?t=32449)</span>, <span class="co">[</span><span class="ot">Poblaci√≥n</span><span class="co">](https://www.ine.es/jaxiT3/Tabla.htm?t=31304)</span> y <span class="co">[</span><span class="ot">Turismo</span><span class="co">](https://www.ine.es/jaxiT3/Tabla.htm?t=10823)</span></span>
<span id="cb23-53"><a href="#cb23-53"></a></span>
<span id="cb23-54"><a href="#cb23-54"></a><span class="ss">- </span>eurostat: <span class="co">[</span><span class="ot">Real GDP per capita</span><span class="co">](https://ec.europa.eu/eurostat/web/products-datasets/-/sdg_08_10)</span>, <span class="co">[</span><span class="ot">tasa de desempleo</span><span class="co">](https://ec.europa.eu/eurostat/web/main/search/-/search/estatsearchportlet_WAR_estatsearchportlet_INSTANCE_bHVzuvn1SZ8J?p_auth=S4Y1nqcx&amp;text=ei_lmhr_m)</span> y <span class="co">[</span><span class="ot">inflation rate</span><span class="co">](https://ec.europa.eu/eurostat/web/products-datasets/-/tec00118)</span></span>
<span id="cb23-55"><a href="#cb23-55"></a></span>
<span id="cb23-56"><a href="#cb23-56"></a><span class="ss">- </span>FMI: <span class="co">[</span><span class="ot">exportaci√≥n</span><span class="co">](https://www.imf.org/en/Publications/WEO/weo-database/2022/October/weo-report?c=193,924,132,134,158,922,184,111,&amp;s=TX_RPCH,&amp;sy=2019&amp;ey=2021&amp;ssm=0&amp;scsm=1&amp;scc=0&amp;ssd=1&amp;ssc=0&amp;sic=0&amp;sort=country&amp;ds=.&amp;br=0)</span>, <span class="co">[</span><span class="ot">importaci√≥n</span><span class="co">](https://www.imf.org/en/Publications/WEO/weo-database/2022/October/weo-report?c=193,924,132,134,158,922,184,111,&amp;s=TM_RPCH,&amp;sy=2019&amp;ey=2021&amp;ssm=0&amp;scsm=1&amp;scc=0&amp;ssd=1&amp;ssc=0&amp;sic=0&amp;sort=country&amp;ds=.&amp;br=0)</span>, <span class="co">[</span><span class="ot">PIB per capita current price</span><span class="co">](https://www.imf.org/en/Publications/WEO/weo-database/2022/October/weo-report?c=512,914,612,171,614,311,213,911,314,193,122,912,313,419,513,316,913,124,339,638,514,218,963,616,223,516,918,748,618,624,522,622,156,626,628,228,924,233,632,636,634,238,662,960,423,935,128,611,321,243,248,469,253,642,643,939,734,644,819,172,132,646,648,915,134,652,174,328,258,656,654,336,263,268,532,944,176,534,536,429,433,178,436,136,343,158,439,916,664,826,542,967,443,917,544,941,446,666,668,672,946,137,546,674,676,548,556,678,181,867,682,684,273,868,921,948,943,686,688,518,728,836,558,138,196,278,692,694,962,142,449,564,565,283,853,288,293,566,964,182,359,453,968,922,714,862,135,716,456,722,942,718,724,576,936,961,813,726,199,733,184,524,361,362,364,732,366,144,146,463,528,923,738,578,537,742,866,369,744,186,925,869,746,926,466,112,111,298,927,846,299,582,487,474,754,698,&amp;s=NGDPDPC,&amp;sy=2019&amp;ey=2021&amp;ssm=0&amp;scsm=1&amp;scc=0&amp;ssd=1&amp;ssc=0&amp;sic=0&amp;sort=country&amp;ds=.&amp;br=0)</span> y <span class="co">[</span><span class="ot">unployement rate</span><span class="co">](https://www.imf.org/en/Publications/WEO/weo-database/2022/October/weo-report?c=171,193,122,124,156,423,935,128,939,172,132,134,174,532,176,178,436,136,158,542,941,946,137,546,181,138,196,142,182,359,135,576,936,961,184,144,146,528,112,111,&amp;s=LUR,&amp;sy=2019&amp;ey=2021&amp;ssm=0&amp;scsm=1&amp;scc=0&amp;ssd=1&amp;ssc=0&amp;sic=0&amp;sort=country&amp;ds=.&amp;br=0)</span></span>
<span id="cb23-57"><a href="#cb23-57"></a></span>
<span id="cb23-58"><a href="#cb23-58"></a>::: {layout-ncol=3}</span>
<span id="cb23-59"><a href="#cb23-59"></a></span>
<span id="cb23-60"><a href="#cb23-60"></a><span class="al">![INE](https://www.ine.es/infografias/calidadvida/img/logoinecaja.jpg)</span>{#fig-3.1}</span>
<span id="cb23-61"><a href="#cb23-61"></a></span>
<span id="cb23-62"><a href="#cb23-62"></a><span class="al">![eurostat](https://i0.wp.com/europaerestu.eu/wp-content/uploads/2016/03/Eurostat.png?fit=825%2C418&amp;ssl=1)</span>{#fig-3.2}</span>
<span id="cb23-63"><a href="#cb23-63"></a></span>
<span id="cb23-64"><a href="#cb23-64"></a><span class="al">![FMI](https://www.imf.org/-/media/Images/IMF/News/twitter-seal.ashx)</span>{#fig-3.3}</span>
<span id="cb23-65"><a href="#cb23-65"></a></span>
<span id="cb23-66"><a href="#cb23-66"></a>:::</span>
<span id="cb23-67"><a href="#cb23-67"></a></span>
<span id="cb23-68"><a href="#cb23-68"></a><span class="fu">### C√ìDIGOS</span></span>
<span id="cb23-69"><a href="#cb23-69"></a></span>
<span id="cb23-72"><a href="#cb23-72"></a><span class="in">```{r}</span></span>
<span id="cb23-73"><a href="#cb23-73"></a><span class="co"># Ejecutamos los paquetes utilizados</span></span>
<span id="cb23-74"><a href="#cb23-74"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb23-75"><a href="#cb23-75"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb23-76"><a href="#cb23-76"></a><span class="fu">library</span>(eurostat)</span>
<span id="cb23-77"><a href="#cb23-77"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb23-78"><a href="#cb23-78"></a><span class="fu">library</span>(plotly)</span>
<span id="cb23-79"><a href="#cb23-79"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb23-80"><a href="#cb23-80"></a><span class="fu">library</span>(gt)</span>
<span id="cb23-81"><a href="#cb23-81"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb23-82"><a href="#cb23-82"></a><span class="fu">library</span>(readxl)</span>
<span id="cb23-83"><a href="#cb23-83"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb23-84"><a href="#cb23-84"></a><span class="fu">library</span>(pxR)</span>
<span id="cb23-85"><a href="#cb23-85"></a><span class="fu">library</span>(ggbump)</span>
<span id="cb23-86"><a href="#cb23-86"></a><span class="fu">library</span>(plyr)</span>
<span id="cb23-87"><a href="#cb23-87"></a><span class="fu">library</span>(sf)</span>
<span id="cb23-88"><a href="#cb23-88"></a><span class="fu">library</span>(naniar)</span>
<span id="cb23-89"><a href="#cb23-89"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb23-90"><a href="#cb23-90"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb23-91"><a href="#cb23-91"></a><span class="fu">library</span>(vembedr)</span>
<span id="cb23-92"><a href="#cb23-92"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb23-93"><a href="#cb23-93"></a><span class="fu">library</span>(conflicted)</span>
<span id="cb23-94"><a href="#cb23-94"></a></span>
<span id="cb23-95"><a href="#cb23-95"></a><span class="fu">conflict_prefer</span>(<span class="st">"filter"</span>,<span class="st">"dplyr"</span>)</span>
<span id="cb23-96"><a href="#cb23-96"></a><span class="fu">conflict_prefer</span>(<span class="st">"mutate"</span>,<span class="st">"dplyr"</span>)</span>
<span id="cb23-97"><a href="#cb23-97"></a><span class="fu">conflict_prefer</span>(<span class="st">"rename"</span>,<span class="st">"dplyr"</span>)</span>
<span id="cb23-98"><a href="#cb23-98"></a><span class="fu">conflict_prefer</span>(<span class="st">"arrange"</span>,<span class="st">"dplyr"</span>)</span>
<span id="cb23-99"><a href="#cb23-99"></a></span>
<span id="cb23-100"><a href="#cb23-100"></a><span class="co"># Importaci√≥n de datos</span></span>
<span id="cb23-101"><a href="#cb23-101"></a></span>
<span id="cb23-102"><a href="#cb23-102"></a><span class="co">#PIBpcEuropa</span></span>
<span id="cb23-103"><a href="#cb23-103"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>) <span class="co">#- para quitar la notaci√≥n cient√≠fica</span></span>
<span id="cb23-104"><a href="#cb23-104"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(knitr, here, tidyverse, patchwork, ggrepel)</span>
<span id="cb23-105"><a href="#cb23-105"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(sf, rnaturalearth, rnaturalearthdata, ggspatial, mapview, leafem, leaflet, tmap)</span>
<span id="cb23-106"><a href="#cb23-106"></a>aa <span class="ot">&lt;-</span> <span class="fu">search_eurostat</span>(<span class="st">"GDP per capita"</span>, <span class="at">type =</span> <span class="st">"all"</span>)</span>
<span id="cb23-107"><a href="#cb23-107"></a>my_table <span class="ot">&lt;-</span> <span class="st">"sdg_08_10"</span></span>
<span id="cb23-108"><a href="#cb23-108"></a>df <span class="ot">&lt;-</span> <span class="fu">get_eurostat</span>(my_table, <span class="at">time_format =</span> <span class="st">'raw'</span>, <span class="at">keepFlags =</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-109"><a href="#cb23-109"></a>zz <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">iso3c =</span> countrycode<span class="sc">::</span><span class="fu">countrycode</span>(geo, <span class="at">origin =</span> <span class="st">"iso2c"</span>, <span class="at">destination =</span> <span class="st">"iso3c"</span>), <span class="at">.after =</span> geo)</span>
<span id="cb23-110"><a href="#cb23-110"></a></span>
<span id="cb23-111"><a href="#cb23-111"></a><span class="co">#Inflacion Europa</span></span>
<span id="cb23-112"><a href="#cb23-112"></a>bb <span class="ot">&lt;-</span> <span class="fu">search_eurostat</span>(<span class="st">"inflation"</span>, <span class="at">type =</span> <span class="st">"all"</span>)</span>
<span id="cb23-113"><a href="#cb23-113"></a>my_table1 <span class="ot">&lt;-</span> <span class="st">"tec00118"</span></span>
<span id="cb23-114"><a href="#cb23-114"></a>dfinflation <span class="ot">&lt;-</span> <span class="fu">get_eurostat</span>(my_table1, <span class="at">time_format =</span> <span class="st">'raw'</span>, <span class="at">keepFlags =</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-115"><a href="#cb23-115"></a>zzinflation <span class="ot">&lt;-</span> dfinflation <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">iso3c =</span> countrycode<span class="sc">::</span><span class="fu">countrycode</span>(geo, <span class="at">origin =</span> <span class="st">"iso2c"</span>, <span class="at">destination =</span> <span class="st">"iso3c"</span>), <span class="at">.after =</span> geo)</span>
<span id="cb23-116"><a href="#cb23-116"></a></span>
<span id="cb23-117"><a href="#cb23-117"></a><span class="co">#Tasa de paro Europa</span></span>
<span id="cb23-118"><a href="#cb23-118"></a>cc <span class="ot">&lt;-</span> <span class="fu">search_eurostat</span>(<span class="st">"Unemployment"</span>, <span class="at">type =</span> <span class="st">"all"</span>)</span>
<span id="cb23-119"><a href="#cb23-119"></a>ccc <span class="ot">&lt;-</span> <span class="fu">search_eurostat</span>(<span class="st">"unemployment"</span>, <span class="at">type =</span> <span class="st">"all"</span>)</span>
<span id="cb23-120"><a href="#cb23-120"></a>my_table2 <span class="ot">&lt;-</span> <span class="st">"ei_lmhr_m"</span></span>
<span id="cb23-121"><a href="#cb23-121"></a>dfparo <span class="ot">&lt;-</span> <span class="fu">get_eurostat</span>(my_table2, <span class="at">time_format =</span> <span class="st">'raw'</span>, <span class="at">keepFlags =</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-122"><a href="#cb23-122"></a></span>
<span id="cb23-123"><a href="#cb23-123"></a><span class="co"># PIGS</span></span>
<span id="cb23-124"><a href="#cb23-124"></a></span>
<span id="cb23-125"><a href="#cb23-125"></a><span class="co"># Importaciones y exportaciones</span></span>
<span id="cb23-126"><a href="#cb23-126"></a>df_export <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"./datos/WEO_Data-4_export.xls"</span>, </span>
<span id="cb23-127"><a href="#cb23-127"></a>                        <span class="at">col_types =</span> <span class="fu">c</span>(<span class="st">"text"</span>, <span class="st">"numeric"</span>, <span class="st">"numeric"</span>))</span>
<span id="cb23-128"><a href="#cb23-128"></a>df_export <span class="ot">&lt;-</span> df_export <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Tasa_de_exportacion =</span> Value)</span>
<span id="cb23-129"><a href="#cb23-129"></a></span>
<span id="cb23-130"><a href="#cb23-130"></a>df_import <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"./datos/WEO_Data-5_import.xls"</span>, </span>
<span id="cb23-131"><a href="#cb23-131"></a>                        <span class="at">col_types =</span> <span class="fu">c</span>(<span class="st">"text"</span>, <span class="st">"numeric"</span>, <span class="st">"numeric"</span>))</span>
<span id="cb23-132"><a href="#cb23-132"></a>df_import <span class="ot">&lt;-</span> df_import <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Tasa_de_importacion =</span> Value)</span>
<span id="cb23-133"><a href="#cb23-133"></a></span>
<span id="cb23-134"><a href="#cb23-134"></a><span class="co"># PIB internacional</span></span>
<span id="cb23-135"><a href="#cb23-135"></a>df_PIB <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"./datos/WEO_data-7.xls"</span>) </span>
<span id="cb23-136"><a href="#cb23-136"></a>df_PIB <span class="ot">&lt;-</span> df_PIB <span class="sc">%&gt;%</span> </span>
<span id="cb23-137"><a href="#cb23-137"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">names_to =</span> <span class="st">"Year"</span>, <span class="at">values_to =</span> <span class="st">"Value"</span>)</span>
<span id="cb23-138"><a href="#cb23-138"></a>df_1 <span class="ot">&lt;-</span> df_PIB</span>
<span id="cb23-139"><a href="#cb23-139"></a></span>
<span id="cb23-140"><a href="#cb23-140"></a><span class="co">#Tasa de desempleo internacional</span></span>
<span id="cb23-141"><a href="#cb23-141"></a>Tasa_de_desempleo <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"./datos/Tasa_de_desempleo.xls"</span>, </span>
<span id="cb23-142"><a href="#cb23-142"></a>                                <span class="at">col_types =</span> <span class="fu">c</span>(<span class="st">"text"</span>, <span class="st">"text"</span>, <span class="st">"text"</span>, </span>
<span id="cb23-143"><a href="#cb23-143"></a>                                              <span class="st">"numeric"</span>, <span class="st">"numeric"</span>, <span class="st">"numeric"</span>))</span>
<span id="cb23-144"><a href="#cb23-144"></a></span>
<span id="cb23-145"><a href="#cb23-145"></a><span class="co">#Tasa de paro Espa√±a</span></span>
<span id="cb23-146"><a href="#cb23-146"></a>df_px <span class="ot">&lt;-</span> pxR<span class="sc">::</span><span class="fu">read.px</span>(<span class="st">"./datos/4247.px"</span>) <span class="sc">%&gt;%</span> as.data.frame</span>
<span id="cb23-147"><a href="#cb23-147"></a></span>
<span id="cb23-148"><a href="#cb23-148"></a><span class="co">#PIBpc Espa√±a</span></span>
<span id="cb23-149"><a href="#cb23-149"></a>df_px_1 <span class="ot">&lt;-</span> pxR<span class="sc">::</span><span class="fu">read.px</span>(<span class="st">"./datos/pib_ccaa_valor.px"</span>) <span class="sc">%&gt;%</span> as.data.frame</span>
<span id="cb23-150"><a href="#cb23-150"></a>df_px_2 <span class="ot">&lt;-</span> pxR<span class="sc">::</span><span class="fu">read.px</span>(<span class="st">"./datos/demografia.px"</span>) <span class="sc">%&gt;%</span> as.data.frame</span>
<span id="cb23-151"><a href="#cb23-151"></a>df_px_3<span class="ot">&lt;-</span> pxR<span class="sc">::</span><span class="fu">read.px</span>(<span class="st">"./datos/pib_ccaa_tasas.px"</span>) <span class="sc">%&gt;%</span> as.data.frame</span>
<span id="cb23-152"><a href="#cb23-152"></a></span>
<span id="cb23-153"><a href="#cb23-153"></a>df_px_1 <span class="ot">&lt;-</span> df_px_1 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">periodo =</span> stringr<span class="sc">::</span><span class="fu">str_extract</span>(periodo, <span class="st">"...."</span>))</span>
<span id="cb23-154"><a href="#cb23-154"></a>df_px_3 <span class="ot">&lt;-</span> df_px_3 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">periodo =</span> stringr<span class="sc">::</span><span class="fu">str_extract</span>(periodo, <span class="st">"...."</span>))</span>
<span id="cb23-155"><a href="#cb23-155"></a></span>
<span id="cb23-156"><a href="#cb23-156"></a></span>
<span id="cb23-157"><a href="#cb23-157"></a></span>
<span id="cb23-158"><a href="#cb23-158"></a></span>
<span id="cb23-159"><a href="#cb23-159"></a></span>
<span id="cb23-160"><a href="#cb23-160"></a></span>
<span id="cb23-161"><a href="#cb23-161"></a></span>
<span id="cb23-162"><a href="#cb23-162"></a><span class="co"># Transformaci√≥n de datos</span></span>
<span id="cb23-163"><a href="#cb23-163"></a></span>
<span id="cb23-164"><a href="#cb23-164"></a><span class="co"># PIBpcEuropa</span></span>
<span id="cb23-165"><a href="#cb23-165"></a>zz1 <span class="ot">&lt;-</span> zz <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">iso3c1 =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"EL"</span>,<span class="st">"GRC"</span>,iso3c)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">iso3c1 =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"UK"</span>,<span class="st">"GBR"</span>,iso3c)) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(unit <span class="sc">==</span> <span class="st">"CLV10_EUR_HAB"</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">nombre =</span> countrycode<span class="sc">::</span><span class="fu">countrycode</span>(iso3c1, <span class="at">origin =</span> <span class="st">"iso3c"</span>, <span class="at">destination =</span> <span class="st">"un.name.en"</span>), <span class="at">.after =</span> geo) </span>
<span id="cb23-166"><a href="#cb23-166"></a>zz2 <span class="ot">&lt;-</span> zz1 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"EL"</span>,<span class="st">"Greece"</span>,nombre)) <span class="sc">%&gt;%</span>                 </span>
<span id="cb23-167"><a href="#cb23-167"></a>               <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"UK"</span>,<span class="st">"UK"</span>,nombre)) <span class="sc">%&gt;%</span></span>
<span id="cb23-168"><a href="#cb23-168"></a>               <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"EA19"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"EU28"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"UK"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-169"><a href="#cb23-169"></a>               <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"EU27_2020"</span>,<span class="st">"EU27_2020"</span>,nombre)) <span class="sc">%&gt;%</span></span>
<span id="cb23-170"><a href="#cb23-170"></a>               <span class="fu">select</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>,<span class="dv">7</span><span class="sc">:</span><span class="dv">8</span>)  <span class="sc">%&gt;%</span> </span>
<span id="cb23-171"><a href="#cb23-171"></a>               <span class="fu">filter</span>(time <span class="sc">&gt;=</span> <span class="dv">2019</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-172"><a href="#cb23-172"></a>               dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">year=</span>time) <span class="sc">%&gt;%</span> </span>
<span id="cb23-173"><a href="#cb23-173"></a>               dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">PIB_per_capita=</span>values) </span>
<span id="cb23-174"><a href="#cb23-174"></a>zz3 <span class="ot">&lt;-</span> zz2 <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">"year"</span>,<span class="at">values_from =</span> <span class="st">"PIB_per_capita"</span> )<span class="sc">%&gt;%</span> </span>
<span id="cb23-175"><a href="#cb23-175"></a>  <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">anyo2019 =</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">anyo2020 =</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">anyo2021 =</span> <span class="dv">5</span>)<span class="sc">%&gt;%</span></span>
<span id="cb23-176"><a href="#cb23-176"></a>  <span class="fu">mutate</span>(<span class="at">variacion_1920_por=</span> (anyo2020<span class="sc">-</span>anyo2019)<span class="sc">*</span><span class="dv">100</span><span class="sc">/</span>anyo2019) <span class="sc">%&gt;%</span> </span>
<span id="cb23-177"><a href="#cb23-177"></a>  <span class="fu">mutate</span>(<span class="at">variacion_quan=</span><span class="fu">cut_to_classes</span>(variacion_1920_por,<span class="at">n=</span><span class="dv">4</span>,<span class="at">decimals =</span> <span class="dv">2</span>,<span class="at">style =</span> <span class="st">"quantile"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb23-178"><a href="#cb23-178"></a>  <span class="fu">mutate</span>(<span class="at">variacion.f=</span><span class="fu">as.factor</span>(<span class="fu">ntile</span>(variacion_1920_por,<span class="dv">4</span>)))<span class="sc">%&gt;%</span>   </span>
<span id="cb23-179"><a href="#cb23-179"></a>  <span class="fu">mutate</span>(<span class="at">my_comentario =</span> <span class="fu">case_when</span> (</span>
<span id="cb23-180"><a href="#cb23-180"></a>    variacion.f <span class="sc">==</span><span class="st">"4"</span> <span class="sc">~</span> <span class="st">"menos mal"</span>,</span>
<span id="cb23-181"><a href="#cb23-181"></a>    variacion.f <span class="sc">==</span><span class="st">"3"</span> <span class="sc">~</span> <span class="st">"malo"</span>,</span>
<span id="cb23-182"><a href="#cb23-182"></a>    variacion.f <span class="sc">==</span><span class="st">"2"</span> <span class="sc">~</span> <span class="st">"muy malo"</span>,</span>
<span id="cb23-183"><a href="#cb23-183"></a>    variacion.f <span class="sc">==</span><span class="st">"1"</span> <span class="sc">~</span> <span class="st">"horroroso"</span>,</span>
<span id="cb23-184"><a href="#cb23-184"></a>    <span class="cn">TRUE</span>    <span class="sc">~</span> <span class="st">"no lo s√©"</span>))</span>
<span id="cb23-185"><a href="#cb23-185"></a>zz3 <span class="ot">&lt;-</span> zz3 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">porcentaje =</span> <span class="fu">round</span>(variacion_1920_por,<span class="at">digits =</span> <span class="dv">2</span>) )</span>
<span id="cb23-186"><a href="#cb23-186"></a>geometrias <span class="ot">&lt;-</span> <span class="fu">get_eurostat_geospatial</span>(<span class="at">resolution =</span> <span class="st">"10"</span>,<span class="at">nuts_level =</span> <span class="st">"0"</span>)</span>
<span id="cb23-187"><a href="#cb23-187"></a></span>
<span id="cb23-188"><a href="#cb23-188"></a><span class="co"># Inflaci√≥n Europa</span></span>
<span id="cb23-189"><a href="#cb23-189"></a>zzinflation1 <span class="ot">&lt;-</span> zzinflation <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">iso3c1 =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"EL"</span>,<span class="st">"GRC"</span>,iso3c)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">iso3c1 =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"UK"</span>,<span class="st">"GBR"</span>,iso3c)) <span class="sc">%&gt;%</span>  <span class="fu">mutate</span>(<span class="at">nombre =</span> countrycode<span class="sc">::</span><span class="fu">countrycode</span>(iso3c1, <span class="at">origin =</span> <span class="st">"iso3c"</span>, <span class="at">destination =</span> <span class="st">"un.name.en"</span>), <span class="at">.after =</span> geo)</span>
<span id="cb23-190"><a href="#cb23-190"></a></span>
<span id="cb23-191"><a href="#cb23-191"></a><span class="co">#Tasa de paro Europa</span></span>
<span id="cb23-192"><a href="#cb23-192"></a>dfparo1 <span class="ot">&lt;-</span> dfparo <span class="sc">%&gt;%</span>  <span class="fu">mutate</span>(<span class="at">iso3c =</span> countrycode<span class="sc">::</span><span class="fu">countrycode</span>(geo, <span class="at">origin =</span> <span class="st">"iso2c"</span>, <span class="at">destination =</span> <span class="st">"iso3c"</span>), <span class="at">.after =</span> geo) <span class="sc">%&gt;%</span></span>
<span id="cb23-193"><a href="#cb23-193"></a>  <span class="fu">mutate</span>(<span class="at">nombre =</span> countrycode<span class="sc">::</span><span class="fu">countrycode</span>(iso3c, <span class="at">origin =</span> <span class="st">"iso3c"</span>, <span class="at">destination =</span> <span class="st">"un.name.en"</span>), <span class="at">.after =</span> geo) <span class="sc">%&gt;%</span></span>
<span id="cb23-194"><a href="#cb23-194"></a>  <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"EL"</span>,<span class="st">"Greece"</span>,nombre)) <span class="sc">%&gt;%</span></span>
<span id="cb23-195"><a href="#cb23-195"></a>  <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"EU27_2020"</span>,<span class="st">"EU27_2020"</span>,nombre)) <span class="sc">%&gt;%</span></span>
<span id="cb23-196"><a href="#cb23-196"></a>  <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"UK"</span>,<span class="st">"UK"</span>,nombre)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-197"><a href="#cb23-197"></a>  <span class="fu">filter</span>(geo <span class="sc">!=</span><span class="st">"EA19"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(geo <span class="sc">!=</span><span class="st">"US"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-198"><a href="#cb23-198"></a>  tidyr<span class="sc">::</span><span class="fu">separate</span>(indic,<span class="at">sep =</span><span class="st">"-"</span>,<span class="fu">c</span>(<span class="st">"nada1"</span>,<span class="st">"nada2"</span>,<span class="st">"sexo"</span>,<span class="st">"edad"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb23-199"><a href="#cb23-199"></a>  <span class="fu">filter</span>(s_adj<span class="sc">==</span><span class="st">"NSA"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(sexo<span class="sc">==</span><span class="st">"T"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(edad<span class="sc">==</span><span class="st">"TOT"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="dv">7</span><span class="sc">:</span><span class="dv">9</span>,<span class="dv">11</span><span class="sc">:</span><span class="dv">12</span>)</span>
<span id="cb23-200"><a href="#cb23-200"></a></span>
<span id="cb23-201"><a href="#cb23-201"></a><span class="co">#PIGS</span></span>
<span id="cb23-202"><a href="#cb23-202"></a></span>
<span id="cb23-203"><a href="#cb23-203"></a><span class="co">#PIB internacional</span></span>
<span id="cb23-204"><a href="#cb23-204"></a>df_2019<span class="ot">&lt;-</span> df_1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2019</span>) <span class="sc">%&gt;%</span> <span class="fu">slice_max</span>(Value, <span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb23-205"><a href="#cb23-205"></a>df_2020 <span class="ot">&lt;-</span> df_1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2020</span>) <span class="sc">%&gt;%</span> <span class="fu">slice_max</span>(Value, <span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb23-206"><a href="#cb23-206"></a>df_2021 <span class="ot">&lt;-</span> df_1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">%&gt;%</span> <span class="fu">slice_max</span>(Value, <span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb23-207"><a href="#cb23-207"></a></span>
<span id="cb23-208"><a href="#cb23-208"></a><span class="co">#Tasa de desempleo internacional</span></span>
<span id="cb23-209"><a href="#cb23-209"></a>Tasa_de_desempleo <span class="ot">&lt;-</span>Tasa_de_desempleo <span class="sc">%&gt;%</span> </span>
<span id="cb23-210"><a href="#cb23-210"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">names_to =</span> <span class="st">"Year"</span>, <span class="at">values_to =</span> <span class="st">"Value"</span>)</span>
<span id="cb23-211"><a href="#cb23-211"></a>Tasa_de_desempleo <span class="ot">&lt;-</span> Tasa_de_desempleo <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">Percent_of_total_labor_force=</span> Value)</span>
<span id="cb23-212"><a href="#cb23-212"></a></span>
<span id="cb23-213"><a href="#cb23-213"></a><span class="co">#Tasa de paro Espa√±a</span></span>
<span id="cb23-214"><a href="#cb23-214"></a>df <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(df_px) </span>
<span id="cb23-215"><a href="#cb23-215"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb23-216"><a href="#cb23-216"></a>  <span class="fu">mutate</span>(<span class="at">fecha =</span> lubridate<span class="sc">::</span><span class="fu">yq</span>(periodo)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-217"><a href="#cb23-217"></a>  <span class="fu">mutate</span>(<span class="at">anyo =</span> lubridate<span class="sc">::</span><span class="fu">year</span>(fecha)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-218"><a href="#cb23-218"></a>  <span class="fu">mutate</span>(<span class="at">trimestre =</span> lubridate<span class="sc">::</span><span class="fu">quarter</span>(fecha))  <span class="sc">%&gt;%</span> </span>
<span id="cb23-219"><a href="#cb23-219"></a>  <span class="fu">select</span>(<span class="sc">-</span>periodo)</span>
<span id="cb23-220"><a href="#cb23-220"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb23-221"><a href="#cb23-221"></a>  <span class="fu">mutate</span>(<span class="at">comunidades_y_ciudades_autonomas =</span> <span class="fu">as.character</span>(comunidades_y_ciudades_autonomas)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-222"><a href="#cb23-222"></a>  <span class="fu">mutate</span>(<span class="at">comunidades_y_ciudades_autonomas =</span> <span class="fu">ifelse</span>(comunidades_y_ciudades_autonomas <span class="sc">==</span> <span class="st">"Total Nacional"</span>,</span>
<span id="cb23-223"><a href="#cb23-223"></a>                             <span class="fu">paste</span>(<span class="st">"00"</span>, comunidades_y_ciudades_autonomas),</span>
<span id="cb23-224"><a href="#cb23-224"></a>                             comunidades_y_ciudades_autonomas)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-225"><a href="#cb23-225"></a>  tidyr<span class="sc">::</span><span class="fu">separate</span>(comunidades_y_ciudades_autonomas, <span class="at">sep =</span> <span class="st">" "</span>, </span>
<span id="cb23-226"><a href="#cb23-226"></a>                  <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"ine_ccaa"</span>, <span class="st">"ine_ccaa.n"</span>), <span class="at">extra =</span> <span class="st">"merge"</span>)</span>
<span id="cb23-227"><a href="#cb23-227"></a>df_original <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb23-228"><a href="#cb23-228"></a>  <span class="fu">select</span>(<span class="st">"edad"</span>,<span class="st">"sexo"</span>,<span class="st">"fecha"</span>, <span class="st">"anyo"</span>, <span class="st">"trimestre"</span>, <span class="st">"ine_ccaa"</span>, <span class="st">"ine_ccaa.n"</span>, <span class="st">"tasa_paro"</span> <span class="ot">=</span> <span class="st">"value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-229"><a href="#cb23-229"></a>  <span class="fu">filter</span>(ine_ccaa <span class="sc">!=</span> <span class="st">"00"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-230"><a href="#cb23-230"></a>  <span class="fu">filter</span>(edad <span class="sc">==</span> <span class="st">"Total"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-231"><a href="#cb23-231"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"edad"</span>,<span class="st">"sexo"</span>,<span class="st">"trimestre"</span>,<span class="st">"anyo"</span>))</span>
<span id="cb23-232"><a href="#cb23-232"></a></span>
<span id="cb23-233"><a href="#cb23-233"></a><span class="co">#PIBpc Espa√±a</span></span>
<span id="cb23-234"><a href="#cb23-234"></a>df_1_pib <span class="ot">&lt;-</span> df_px_1 <span class="sc">%&gt;%</span></span>
<span id="cb23-235"><a href="#cb23-235"></a>  <span class="fu">select</span>(<span class="st">"periodo"</span>,<span class="st">"ccaa"</span><span class="ot">=</span><span class="st">"Comunidades.y.ciudades.aut√≥nomas"</span>,<span class="st">"pib"</span><span class="ot">=</span><span class="st">"value"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-236"><a href="#cb23-236"></a>  <span class="fu">filter</span>(ccaa <span class="sc">!=</span><span class="st">"TOTAL NACIONAL"</span>)</span>
<span id="cb23-237"><a href="#cb23-237"></a></span>
<span id="cb23-238"><a href="#cb23-238"></a>df_2_demo <span class="ot">&lt;-</span> df_px_2 <span class="sc">%&gt;%</span> </span>
<span id="cb23-239"><a href="#cb23-239"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb23-240"><a href="#cb23-240"></a>  <span class="fu">select</span>(<span class="sc">-</span>sexo) <span class="sc">%&gt;%</span> </span>
<span id="cb23-241"><a href="#cb23-241"></a>  <span class="fu">filter</span>(comunidades_y_ciudades_autonomas <span class="sc">!=</span> <span class="st">"Total"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-242"><a href="#cb23-242"></a>  <span class="fu">mutate</span>(<span class="at">comunidades_y_ciudades_autonomas =</span> <span class="fu">as.character</span>(comunidades_y_ciudades_autonomas)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-243"><a href="#cb23-243"></a>  tidyr<span class="sc">::</span><span class="fu">separate</span>(comunidades_y_ciudades_autonomas, <span class="at">sep =</span> <span class="st">" "</span>, </span>
<span id="cb23-244"><a href="#cb23-244"></a>                  <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"ine_ccaa"</span>, <span class="st">"ine_ccaa.n"</span>), <span class="at">extra =</span> <span class="st">"merge"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-245"><a href="#cb23-245"></a>  <span class="fu">select</span>(<span class="st">"periodo"</span>,<span class="st">"ine_ccaa.n"</span>,<span class="st">"pob"</span> <span class="ot">=</span> <span class="st">"value"</span>)</span>
<span id="cb23-246"><a href="#cb23-246"></a></span>
<span id="cb23-247"><a href="#cb23-247"></a></span>
<span id="cb23-248"><a href="#cb23-248"></a><span class="in">```</span></span>
<span id="cb23-249"><a href="#cb23-249"></a></span>
<span id="cb23-250"><a href="#cb23-250"></a>:::</span>
<span id="cb23-251"><a href="#cb23-251"></a></span>
<span id="cb23-252"><a href="#cb23-252"></a>- - -</span>
<span id="cb23-253"><a href="#cb23-253"></a></span>
<span id="cb23-254"><a href="#cb23-254"></a><span class="fu">## 3. CONTEXTO EUROPEO</span></span>
<span id="cb23-255"><a href="#cb23-255"></a></span>
<span id="cb23-256"><a href="#cb23-256"></a>En este primer apartado, utilizaremos los 3 indicadores principales macroecon√≥micos para comparar el impacto econ√≥mico del covid en pa√≠ses distintos de Europa. Son la variaci√≥n del PIB per capita, la tasa de inflaci√≥n y la tasa de desempleo. Comenzando por el an√°lisis de la variaci√≥n del PIBpc.</span>
<span id="cb23-257"><a href="#cb23-257"></a></span>
<span id="cb23-258"><a href="#cb23-258"></a><span class="fu">### 3.1. PIBpc</span></span>
<span id="cb23-259"><a href="#cb23-259"></a></span>
<span id="cb23-260"><a href="#cb23-260"></a>En principio, hay una grande divergencia entre la variaci√≥n de PIB. Los datos est√° en el territorio de cada uno. Clasificamos los pa√≠ses en 4 catergor√≠as seg√∫n la variaci√≥n y hacemos un comentario sobre cada categor√≠a: de mejor a peor son: "menos mal", "malo", "muy malo" y "horroroso". Y como el estereotipo, la econom√≠a de los pa√≠ses del norte es en general mejor que la de los pa√≠ses del sur. La √∫nica diferencia es que las econom√≠as y los ingresos de los pa√≠ses del este de Europa se ver√°n menos afectados que los del oeste. </span>
<span id="cb23-261"><a href="#cb23-261"></a>(~~Nuestra Espa√±ita, por supuesto, est√° "horroroso"~~)</span>
<span id="cb23-262"><a href="#cb23-262"></a></span>
<span id="cb23-265"><a href="#cb23-265"></a><span class="in">```{r}</span></span>
<span id="cb23-266"><a href="#cb23-266"></a>mapdata <span class="ot">&lt;-</span> <span class="fu">full_join</span>(geometrias,zz3)</span>
<span id="cb23-267"><a href="#cb23-267"></a></span>
<span id="cb23-268"><a href="#cb23-268"></a>mapdata<span class="sc">$</span>my_comentario <span class="ot">&lt;-</span> <span class="fu">factor</span>(mapdata<span class="sc">$</span>my_comentario, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"menos mal"</span>, <span class="st">"malo"</span>, <span class="st">"muy malo"</span>,<span class="st">"horroroso"</span>))</span>
<span id="cb23-269"><a href="#cb23-269"></a>europe_points <span class="ot">&lt;-</span> <span class="fu">st_centroid</span>(mapdata, <span class="at">of_largest_polygon =</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-270"><a href="#cb23-270"></a>europe_points <span class="ot">&lt;-</span> <span class="fu">cbind</span>(mapdata, <span class="fu">st_coordinates</span>(<span class="fu">st_centroid</span>(mapdata<span class="sc">$</span>geometry, <span class="at">of_largest_polygon =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb23-271"><a href="#cb23-271"></a></span>
<span id="cb23-272"><a href="#cb23-272"></a></span>
<span id="cb23-273"><a href="#cb23-273"></a>p<span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mapdata)<span class="sc">+</span><span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill=</span>my_comentario,<span class="at">geometry=</span> geometry),<span class="at">size=</span>.<span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb23-274"><a href="#cb23-274"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> europe_points, </span>
<span id="cb23-275"><a href="#cb23-275"></a>            <span class="fu">aes</span>(<span class="at">x =</span> X, <span class="at">y =</span> Y,<span class="at">label =</span> porcentaje), </span>
<span id="cb23-276"><a href="#cb23-276"></a>            <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">check_overlap =</span> <span class="cn">TRUE</span>, <span class="at">size =</span> <span class="fl">1.8</span>)<span class="sc">+</span></span>
<span id="cb23-277"><a href="#cb23-277"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 1:Mi comentario sobre el la econom√≠a europea"</span>,</span>
<span id="cb23-278"><a href="#cb23-278"></a>       <span class="at">subtitle =</span> <span class="st">"(basado en la variaci√≥n de PIB per capital entre 2019 y 2020)"</span>,</span>
<span id="cb23-279"><a href="#cb23-279"></a>       <span class="at">caption =</span> <span class="st">"Ca√≠da media de EU27:5.74%"</span>)<span class="sc">+</span> </span>
<span id="cb23-280"><a href="#cb23-280"></a>       <span class="fu">theme_light</span>()<span class="sc">+</span></span>
<span id="cb23-281"><a href="#cb23-281"></a>       <span class="fu">theme</span>(<span class="at">title=</span><span class="fu">element_text</span>(<span class="at">family=</span><span class="st">"myFont"</span>,<span class="at">size=</span><span class="dv">12</span>,<span class="at">color=</span><span class="st">"red"</span>,</span>
<span id="cb23-282"><a href="#cb23-282"></a>                           <span class="at">face=</span><span class="st">"italic"</span>,<span class="at">hjust=</span><span class="fl">0.2</span>,<span class="at">lineheight=</span><span class="fl">0.2</span>),</span>
<span id="cb23-283"><a href="#cb23-283"></a>             <span class="at">plot.subtitle=</span><span class="fu">element_text</span>(<span class="at">family=</span><span class="st">"myFont"</span>,<span class="at">size=</span><span class="dv">8</span>,<span class="at">color=</span><span class="st">"red"</span>,</span>
<span id="cb23-284"><a href="#cb23-284"></a>                              <span class="at">face=</span><span class="st">"italic"</span>,<span class="at">hjust=</span><span class="fl">0.6</span>,<span class="at">lineheight=</span><span class="fl">0.2</span>),</span>
<span id="cb23-285"><a href="#cb23-285"></a>             <span class="at">axis.title.x=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>,<span class="at">face=</span><span class="st">"bold"</span>,<span class="at">color=</span><span class="st">"blue"</span>,<span class="at">hjust=</span><span class="fl">0.5</span>),</span>
<span id="cb23-286"><a href="#cb23-286"></a>             <span class="at">axis.title.y=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>,<span class="at">color=</span><span class="st">"blue"</span>,<span class="at">hjust=</span><span class="fl">0.5</span>),</span>
<span id="cb23-287"><a href="#cb23-287"></a>             <span class="at">legend.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>,<span class="at">color=</span><span class="st">"black"</span>,<span class="at">hjust=</span><span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb23-288"><a href="#cb23-288"></a>       <span class="fu">coord_sf</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">30</span>,<span class="dv">45</span>),<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">25</span>,<span class="dv">72</span>))</span>
<span id="cb23-289"><a href="#cb23-289"></a>p</span>
<span id="cb23-290"><a href="#cb23-290"></a></span>
<span id="cb23-291"><a href="#cb23-291"></a></span>
<span id="cb23-292"><a href="#cb23-292"></a><span class="in">```</span></span>
<span id="cb23-293"><a href="#cb23-293"></a></span>
<span id="cb23-294"><a href="#cb23-294"></a><span class="fu">### 3.2. Inflaci√≥n</span></span>
<span id="cb23-295"><a href="#cb23-295"></a></span>
<span id="cb23-296"><a href="#cb23-296"></a>El segundo indicador, la tasa de inflaci√≥n, tambi√©n  experimenta un gran incremento durante 2018 y 2022, debido a la interrupci√≥n de la cadena de suministro. Adem√°s, en el principio del 2022, a causa del comienzo de la guerra en Ucrania, ha resultado un nuevo aumento de esta.</span>
<span id="cb23-297"><a href="#cb23-297"></a></span>
<span id="cb23-300"><a href="#cb23-300"></a><span class="in">```{r}</span></span>
<span id="cb23-301"><a href="#cb23-301"></a>zzinflation2 <span class="ot">&lt;-</span> zzinflation1 <span class="sc">%&gt;%</span> </span>
<span id="cb23-302"><a href="#cb23-302"></a>  <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"EL"</span>,<span class="st">"Greece"</span>,nombre)) <span class="sc">%&gt;%</span>                 </span>
<span id="cb23-303"><a href="#cb23-303"></a>  <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"UK"</span>,<span class="st">"UK"</span>,nombre)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-304"><a href="#cb23-304"></a>  <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"EA19"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"EU28"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"EU"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-305"><a href="#cb23-305"></a>  <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"EA"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"EA18"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-306"><a href="#cb23-306"></a>  <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">ifelse</span>(geo <span class="sc">==</span> <span class="st">"EU27_2020"</span>,<span class="st">"EU27_2020"</span>,nombre)) <span class="sc">%&gt;%</span></span>
<span id="cb23-307"><a href="#cb23-307"></a>  <span class="fu">select</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>,<span class="dv">7</span><span class="sc">:</span><span class="dv">8</span>) <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span> <span class="fu">filter</span>(time <span class="sc">&gt;=</span> <span class="dv">2018</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-308"><a href="#cb23-308"></a>  <span class="fu">rename</span>(<span class="at">year=</span>time) <span class="sc">%&gt;%</span> </span>
<span id="cb23-309"><a href="#cb23-309"></a>  <span class="fu">rename</span>(<span class="at">tasa_de_inflacion=</span>values) <span class="sc">%&gt;%</span></span>
<span id="cb23-310"><a href="#cb23-310"></a>  <span class="fu">filter</span>(geo <span class="sc">!=</span> <span class="st">"UK"</span>)</span>
<span id="cb23-311"><a href="#cb23-311"></a></span>
<span id="cb23-312"><a href="#cb23-312"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(zzinflation2,</span>
<span id="cb23-313"><a href="#cb23-313"></a>              <span class="at">caption =</span> <span class="st">"Tabla 1:La tasa de inflaci√≥n por cada pa√≠s"</span>,</span>
<span id="cb23-314"><a href="#cb23-314"></a>              <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb23-315"><a href="#cb23-315"></a>                <span class="at">columnDefs =</span> <span class="fu">list</span>(</span>
<span id="cb23-316"><a href="#cb23-316"></a>                  <span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-center'</span>, </span>
<span id="cb23-317"><a href="#cb23-317"></a>                       <span class="at">targets =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>)),</span>
<span id="cb23-318"><a href="#cb23-318"></a>                <span class="at">pageLength=</span><span class="dv">35</span>)) </span>
<span id="cb23-319"><a href="#cb23-319"></a></span>
<span id="cb23-320"><a href="#cb23-320"></a><span class="in">```</span></span>
<span id="cb23-321"><a href="#cb23-321"></a></span>
<span id="cb23-322"><a href="#cb23-322"></a><span class="fu">### 3.3. Tasa de desempleo</span></span>
<span id="cb23-323"><a href="#cb23-323"></a></span>
<span id="cb23-324"><a href="#cb23-324"></a>La interrupci√≥n de la producci√≥n por el confinamiento a principios del 2020, ha provocado que miles de personas pierdan sus trabajos; como se refleja en el siguiente gr√°fico, el n√∫mero exacto cambia cada mes:</span>
<span id="cb23-325"><a href="#cb23-325"></a></span>
<span id="cb23-328"><a href="#cb23-328"></a><span class="in">```{r}</span></span>
<span id="cb23-329"><a href="#cb23-329"></a>dfparo2 <span class="ot">&lt;-</span> dfparo1 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">fecha =</span> lubridate<span class="sc">::</span><span class="fu">ym</span>(time), <span class="at">.after =</span> time)<span class="sc">%&gt;%</span> </span>
<span id="cb23-330"><a href="#cb23-330"></a>           <span class="fu">mutate</span>(<span class="at">anyo =</span> lubridate<span class="sc">::</span><span class="fu">year</span>(fecha), <span class="at">.after =</span> fecha) <span class="sc">%&gt;%</span> </span>
<span id="cb23-331"><a href="#cb23-331"></a>           <span class="fu">mutate</span>(<span class="at">mes =</span> lubridate<span class="sc">::</span><span class="fu">month</span>(fecha), <span class="at">.after =</span> anyo) <span class="sc">%&gt;%</span></span>
<span id="cb23-332"><a href="#cb23-332"></a>           <span class="fu">filter</span>(anyo <span class="sc">&gt;=</span> <span class="dv">2019</span>) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">country=</span>nombre) <span class="sc">%&gt;%</span></span>
<span id="cb23-333"><a href="#cb23-333"></a>           <span class="fu">mutate</span>(<span class="at">country.f =</span> forcats<span class="sc">::</span><span class="fu">as_factor</span>(country)) <span class="sc">%&gt;%</span></span>
<span id="cb23-334"><a href="#cb23-334"></a>           <span class="fu">mutate</span>(<span class="at">country.ff =</span> forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(country, values,<span class="at">.desc =</span> <span class="cn">TRUE</span>))<span class="sc">%&gt;%</span>                   <span class="fu">group_by</span>(time) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">pais=</span> country.ff) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">tasa_de_paro=</span> values)<span class="sc">%&gt;%</span></span>
<span id="cb23-335"><a href="#cb23-335"></a>           <span class="fu">filter</span>(fecha <span class="sc">!=</span> <span class="st">"2022-11-01"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(geo<span class="sc">!=</span> <span class="st">"UK"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(geo<span class="sc">!=</span> <span class="st">"TR"</span>) </span>
<span id="cb23-336"><a href="#cb23-336"></a></span>
<span id="cb23-337"><a href="#cb23-337"></a></span>
<span id="cb23-338"><a href="#cb23-338"></a>pparo <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(dfparo2,<span class="fu">aes</span>(<span class="at">x=</span> country,<span class="at">y=</span> tasa_de_paro,<span class="at">color =</span> country,<span class="at">fill=</span>country)) <span class="sc">+</span> </span>
<span id="cb23-339"><a href="#cb23-339"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">'identity'</span>) <span class="sc">+</span> </span>
<span id="cb23-340"><a href="#cb23-340"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb23-341"><a href="#cb23-341"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label=</span>tasa_de_paro), </span>
<span id="cb23-342"><a href="#cb23-342"></a>                <span class="at">position =</span> <span class="fu">position_dodge2</span>(<span class="at">width =</span> <span class="fl">0.9</span>, <span class="at">preserve =</span> <span class="st">'single'</span>))</span>
<span id="cb23-343"><a href="#cb23-343"></a>pparo <span class="sc">+</span> </span>
<span id="cb23-344"><a href="#cb23-344"></a>  <span class="fu">transition_manual</span>(fecha) <span class="sc">+</span></span>
<span id="cb23-345"><a href="#cb23-345"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 2:Tasa de paro en {current_frame}"</span>) <span class="sc">+</span></span>
<span id="cb23-346"><a href="#cb23-346"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb23-347"><a href="#cb23-347"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb23-348"><a href="#cb23-348"></a></span>
<span id="cb23-349"><a href="#cb23-349"></a><span class="in">```</span></span>
<span id="cb23-350"><a href="#cb23-350"></a></span>
<span id="cb23-351"><a href="#cb23-351"></a><span class="fu">#### A. PIGS</span></span>
<span id="cb23-352"><a href="#cb23-352"></a></span>
<span id="cb23-353"><a href="#cb23-353"></a>En este subapartado, nos enfocaremos en los PIGS. PIGS es un acr√≥nimo peyorativo en ingl√©s con el que medios financieros anglosajones y del norte de Europa se refieren en ocasiones al grupo de cuatro pa√≠ses del sur de Europa conformado por Portugal, Italia, Grecia y Espa√±a. A pesar de todo, como se ve en los gr√°ficos anteriores, la econom√≠a irlandesa comporta de forma distinta al resto. De este modo, realizaremos una compraci√≥n con los datos de los PIGS con Irlanda.</span>
<span id="cb23-354"><a href="#cb23-354"></a></span>
<span id="cb23-355"><a href="#cb23-355"></a></span>
<span id="cb23-358"><a href="#cb23-358"></a><span class="in">```{r}</span></span>
<span id="cb23-359"><a href="#cb23-359"></a>dfparopigs <span class="ot">&lt;-</span> dfparo2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Spain"</span>,<span class="st">"Italy"</span>,<span class="st">"Portugal"</span>,<span class="st">"Ireland"</span>,<span class="st">"Greece"</span>))</span>
<span id="cb23-360"><a href="#cb23-360"></a></span>
<span id="cb23-361"><a href="#cb23-361"></a><span class="fu">ggplot</span>(<span class="at">data=</span> dfparopigs, <span class="fu">aes</span>(<span class="at">x=</span>fecha, <span class="at">y=</span>tasa_de_paro, <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb23-362"><a href="#cb23-362"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> country), <span class="at">linetype=</span> <span class="st">"solid"</span>,<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb23-363"><a href="#cb23-363"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb23-364"><a href="#cb23-364"></a>  <span class="fu">transition_reveal</span>(fecha) <span class="sc">+</span></span>
<span id="cb23-365"><a href="#cb23-365"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 3: La variaci√≥n de tasa de paro de los pa√≠ses de PIGS"</span>,</span>
<span id="cb23-366"><a href="#cb23-366"></a>       <span class="at">subtitle =</span> <span class="st">"(Espa√±a,Irlanda,Portugal,Italia y Grecia)"</span>,</span>
<span id="cb23-367"><a href="#cb23-367"></a>       <span class="at">caption =</span> <span class="st">"Datos provenientes del Eurostat"</span>,</span>
<span id="cb23-368"><a href="#cb23-368"></a>       <span class="at">x =</span> <span class="st">"tiempo"</span>,</span>
<span id="cb23-369"><a href="#cb23-369"></a>       <span class="at">y =</span> <span class="st">" tasa de paro "</span>) <span class="sc">+</span></span>
<span id="cb23-370"><a href="#cb23-370"></a>  <span class="fu">theme_solarized</span>()<span class="sc">+</span></span>
<span id="cb23-371"><a href="#cb23-371"></a>  <span class="fu">theme</span>(<span class="at">title=</span><span class="fu">element_text</span>(<span class="at">family=</span><span class="st">"myFont"</span>,<span class="at">size=</span><span class="dv">14</span>,<span class="at">color=</span><span class="st">"black"</span>,</span>
<span id="cb23-372"><a href="#cb23-372"></a>                           <span class="at">face=</span><span class="st">"italic"</span>,<span class="at">hjust=</span><span class="fl">0.2</span>,<span class="at">lineheight=</span><span class="fl">0.8</span>),</span>
<span id="cb23-373"><a href="#cb23-373"></a>        <span class="at">plot.subtitle=</span><span class="fu">element_text</span>(<span class="at">family=</span><span class="st">"myFont"</span>,<span class="at">size=</span><span class="dv">8</span>,<span class="at">color=</span><span class="st">"black"</span>,</span>
<span id="cb23-374"><a href="#cb23-374"></a>                                   <span class="at">face=</span><span class="st">"italic"</span>,<span class="at">hjust=</span><span class="fl">0.6</span>,<span class="at">lineheight=</span><span class="fl">0.2</span>))<span class="sc">+</span></span>
<span id="cb23-375"><a href="#cb23-375"></a>       <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Dark2"</span>)</span>
<span id="cb23-376"><a href="#cb23-376"></a></span>
<span id="cb23-377"><a href="#cb23-377"></a><span class="in">```</span></span>
<span id="cb23-378"><a href="#cb23-378"></a></span>
<span id="cb23-379"><a href="#cb23-379"></a></span>
<span id="cb23-380"><a href="#cb23-380"></a><span class="fu">## 4. A NIVEL INTERNACIONAL</span></span>
<span id="cb23-381"><a href="#cb23-381"></a></span>
<span id="cb23-382"><a href="#cb23-382"></a>A continuaci√≥n, vamos a hacer un estudio de las consecuencias econ√≥micas que ha provocado la crisis de la pandemia sobre el mundo.</span>
<span id="cb23-383"><a href="#cb23-383"></a></span>
<span id="cb23-384"><a href="#cb23-384"></a><span class="fu">### 4.1. Importaci√≥n y exportaci√≥n entre pa√≠ses elegidos</span></span>
<span id="cb23-385"><a href="#cb23-385"></a></span>
<span id="cb23-386"><a href="#cb23-386"></a>En primer lugar, hemos escogido 8 pa√≠ses del mundo al azar: Australia, China, Francia, Alemania, Jap√≥n, R√∫sia, Espa√±a y Estados Unidos. Nuestra intenci√≥n es comparar tanto la evoluci√≥n de las tasas de exportaciones e importaciones para cada pa√≠s durante la √©poca de la pandemia, y adem√°s una comparaci√≥n entre ellos.</span>
<span id="cb23-387"><a href="#cb23-387"></a></span>
<span id="cb23-388"><a href="#cb23-388"></a>::: {.panel-tabset}</span>
<span id="cb23-389"><a href="#cb23-389"></a></span>
<span id="cb23-390"><a href="#cb23-390"></a><span class="fu">### Exportaci√≥n</span></span>
<span id="cb23-391"><a href="#cb23-391"></a></span>
<span id="cb23-392"><a href="#cb23-392"></a>Comenzando por las exportaciones, nos encontramos que:</span>
<span id="cb23-393"><a href="#cb23-393"></a></span>
<span id="cb23-394"><a href="#cb23-394"></a><span class="ss">- </span>Australia: en el 2019 tiene tasa de exportaci√≥n positiva, pero en el 2020 ha sufrido una ca√≠da brusca, aunque en el 2021 ha mejorado comparado con el a√±o anterior, sigue teniendo una tasa negativa.</span>
<span id="cb23-395"><a href="#cb23-395"></a></span>
<span id="cb23-396"><a href="#cb23-396"></a><span class="ss">- </span>China: su exportaci√≥n ha ido creciendo desde el 2019 al 2021, en el √∫ltimo ha experimentado un incremento disparado.</span>
<span id="cb23-397"><a href="#cb23-397"></a></span>
<span id="cb23-398"><a href="#cb23-398"></a><span class="ss">- </span>Tanto Francia, Alemania, Espa√±a y Estados Unidos han evolucionado de forma similar, en el 2019 tienen tasas positivas, ca√≠das durante el 2020 y en el 2021 han recuperado y han mejorado comparado con el 2019.</span>
<span id="cb23-399"><a href="#cb23-399"></a></span>
<span id="cb23-400"><a href="#cb23-400"></a><span class="ss">- </span>Las tendencias de Jap√≥n y R√∫sia son similares: son los dos √∫nicos pa√≠ses que antes y durante la pandemia generaban tasas de exportaci√≥n negativas, y que luego consiguen expandir sus tasas en el 2021.</span>
<span id="cb23-401"><a href="#cb23-401"></a></span>
<span id="cb23-402"><a href="#cb23-402"></a>Destacamos que, siendo Australia el √∫nico pa√≠s que a√∫n no ha recuperado su tasa de exportaci√≥n a posteriori, pero los dem√°s pa√≠ses han ido recuperado y mejorado, y como caso particular, China ha sido el √∫nico pa√≠s beneficiado en su tasa de exportaci√≥n por la pandemia.</span>
<span id="cb23-405"><a href="#cb23-405"></a><span class="in">```{r}</span></span>
<span id="cb23-406"><a href="#cb23-406"></a><span class="co">#exportacion</span></span>
<span id="cb23-407"><a href="#cb23-407"></a></span>
<span id="cb23-408"><a href="#cb23-408"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_export, <span class="fu">aes</span>(<span class="at">x=</span>Country, <span class="at">y=</span> Tasa_de_exportacion, <span class="at">fill=</span> Country)) <span class="sc">+</span></span>
<span id="cb23-409"><a href="#cb23-409"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 4: Tasas de exportaci√≥n entre 8 pa√≠ses"</span> ,</span>
<span id="cb23-410"><a href="#cb23-410"></a>       <span class="at">subtitle =</span> <span class="st">" Periodo 2019-2021"</span>,</span>
<span id="cb23-411"><a href="#cb23-411"></a>      <span class="at">caption  =</span> <span class="st">"Fuente: FMI"</span>) <span class="sc">+</span></span>
<span id="cb23-412"><a href="#cb23-412"></a>  <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span> (Year))<span class="sc">+</span></span>
<span id="cb23-413"><a href="#cb23-413"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>)<span class="sc">+</span></span>
<span id="cb23-414"><a href="#cb23-414"></a>  <span class="fu">theme_light</span>()<span class="sc">+</span></span>
<span id="cb23-415"><a href="#cb23-415"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb23-416"><a href="#cb23-416"></a>                                   <span class="at">hjust =</span> <span class="dv">1</span>,</span>
<span id="cb23-417"><a href="#cb23-417"></a>                                   <span class="at">vjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb23-418"><a href="#cb23-418"></a></span>
<span id="cb23-419"><a href="#cb23-419"></a></span>
<span id="cb23-420"><a href="#cb23-420"></a>p1</span>
<span id="cb23-421"><a href="#cb23-421"></a><span class="in">```</span></span>
<span id="cb23-422"><a href="#cb23-422"></a></span>
<span id="cb23-423"><a href="#cb23-423"></a><span class="fu">### Importaci√≥n</span></span>
<span id="cb23-424"><a href="#cb23-424"></a></span>
<span id="cb23-425"><a href="#cb23-425"></a>En las importaciones, nos encontramos situaciones parecidas:</span>
<span id="cb23-426"><a href="#cb23-426"></a></span>
<span id="cb23-427"><a href="#cb23-427"></a><span class="ss">- </span>Australia y China son los dos pa√≠ses que en 2019 tienen tasas de importaciones negativas, pero no elevadas. En el 2020, aunque siguen teniendo tasas inferiores, pero China mejora su tasa y Australaia empeora. Luego en el 2021 los dos consiguen tasas positivas.</span>
<span id="cb23-428"><a href="#cb23-428"></a></span>
<span id="cb23-429"><a href="#cb23-429"></a><span class="ss">- </span>Y los  6 dem√°s pa√≠ses siguen una tendencia de +,-,+.</span>
<span id="cb23-432"><a href="#cb23-432"></a><span class="in">```{r}</span></span>
<span id="cb23-433"><a href="#cb23-433"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_import, <span class="fu">aes</span>(<span class="at">x=</span> Country,<span class="at">y=</span> Tasa_de_importacion, <span class="at">fill=</span> Country)) <span class="sc">+</span></span>
<span id="cb23-434"><a href="#cb23-434"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 5: Tasas de importaci√≥n entre 8 pa√≠ses"</span>, </span>
<span id="cb23-435"><a href="#cb23-435"></a>       <span class="at">subtitle =</span> <span class="st">" Periodo 2019-2021"</span>,</span>
<span id="cb23-436"><a href="#cb23-436"></a>      <span class="at">caption  =</span> <span class="st">"Fuente: FMI"</span>)<span class="sc">+</span></span>
<span id="cb23-437"><a href="#cb23-437"></a>  <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span> (Year))<span class="sc">+</span></span>
<span id="cb23-438"><a href="#cb23-438"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>)<span class="sc">+</span> </span>
<span id="cb23-439"><a href="#cb23-439"></a>  <span class="fu">theme_light</span>()<span class="sc">+</span></span>
<span id="cb23-440"><a href="#cb23-440"></a>  <span class="fu">theme</span> (<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb23-441"><a href="#cb23-441"></a>                                   <span class="at">hjust =</span> <span class="dv">1</span>,</span>
<span id="cb23-442"><a href="#cb23-442"></a>                                   <span class="at">vjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb23-443"><a href="#cb23-443"></a></span>
<span id="cb23-444"><a href="#cb23-444"></a>p2</span>
<span id="cb23-445"><a href="#cb23-445"></a><span class="in">```</span></span>
<span id="cb23-446"><a href="#cb23-446"></a></span>
<span id="cb23-447"><a href="#cb23-447"></a>:::</span>
<span id="cb23-448"><a href="#cb23-448"></a></span>
<span id="cb23-449"><a href="#cb23-449"></a><span class="fu">### 4.2. Evoluci√≥n del PIB de los 10 pa√≠ses escogidos durante 2019-2021</span></span>
<span id="cb23-450"><a href="#cb23-450"></a></span>
<span id="cb23-451"><a href="#cb23-451"></a>En segundo lugar, nos encontramos una comparaci√≥n de la evoluci√≥n del PIB de los siguientes pa√≠ses: Australia, Dinamarca, Islanda, Irlanda, Luxemburgo, Macao, Noruega, Qatar, Singapur, Suiza y Estados Unidos.</span>
<span id="cb23-452"><a href="#cb23-452"></a></span>
<span id="cb23-453"><a href="#cb23-453"></a><span class="ss">- </span>Pa√≠ses con movimiento creciente, es decir, el PIB ha ido creciendo de per√≠odo a per√≠odo. Son Dinamarca, Irlanda, Luxemburgo y Suiza.</span>
<span id="cb23-454"><a href="#cb23-454"></a></span>
<span id="cb23-455"><a href="#cb23-455"></a><span class="ss">- </span>Pa√≠ses con decrecimiento en 2020 y expansi√≥n en 2021 son Islanda, Noruega, Qatar, Singapur y Estados Unidos.</span>
<span id="cb23-456"><a href="#cb23-456"></a></span>
<span id="cb23-457"><a href="#cb23-457"></a><span class="ss">- </span>Australia y Macao no tienen datos completos.</span>
<span id="cb23-458"><a href="#cb23-458"></a></span>
<span id="cb23-459"><a href="#cb23-459"></a>En todo caso, ninguno de los 10 pa√≠ses ha tenido grandes fluctuaciones.</span>
<span id="cb23-460"><a href="#cb23-460"></a></span>
<span id="cb23-463"><a href="#cb23-463"></a><span class="in">```{r}</span></span>
<span id="cb23-464"><a href="#cb23-464"></a>df_2 <span class="ot">&lt;-</span> <span class="fu">full_join</span>(df_2019, df_2020)</span>
<span id="cb23-465"><a href="#cb23-465"></a>df_2 <span class="ot">&lt;-</span> <span class="fu">full_join</span>(df_2 , df_2021)</span>
<span id="cb23-466"><a href="#cb23-466"></a></span>
<span id="cb23-467"><a href="#cb23-467"></a>p4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_2, <span class="fu">aes</span>(Year, Value, <span class="at">color =</span> Country)) <span class="sc">+</span> </span>
<span id="cb23-468"><a href="#cb23-468"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(Year, Value, <span class="at">color =</span> Country)) <span class="sc">+</span></span>
<span id="cb23-469"><a href="#cb23-469"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 6: Evoluci√≥n del PIB de los 10 pa√≠ses escogidos "</span>,</span>
<span id="cb23-470"><a href="#cb23-470"></a>       <span class="at">subtitle =</span> <span class="st">"Periodo:2019-2021"</span>,</span>
<span id="cb23-471"><a href="#cb23-471"></a>       <span class="at">caption =</span> <span class="st">"Fuente: FMI"</span>,</span>
<span id="cb23-472"><a href="#cb23-472"></a>       <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb23-473"><a href="#cb23-473"></a>       <span class="at">y =</span> <span class="st">"PIB per capita"</span>,</span>
<span id="cb23-474"><a href="#cb23-474"></a>       <span class="at">color =</span> <span class="st">"Country"</span>)<span class="sc">+</span></span>
<span id="cb23-475"><a href="#cb23-475"></a>  <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span> (Country))<span class="sc">+</span> </span>
<span id="cb23-476"><a href="#cb23-476"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb23-477"><a href="#cb23-477"></a>  <span class="fu">theme</span> (<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb23-478"><a href="#cb23-478"></a>                                    <span class="at">hjust =</span> <span class="dv">1</span>,</span>
<span id="cb23-479"><a href="#cb23-479"></a>                                    <span class="at">vjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb23-480"><a href="#cb23-480"></a></span>
<span id="cb23-481"><a href="#cb23-481"></a><span class="fu">ggplotly</span>(p4)</span>
<span id="cb23-482"><a href="#cb23-482"></a></span>
<span id="cb23-483"><a href="#cb23-483"></a><span class="in">```</span></span>
<span id="cb23-484"><a href="#cb23-484"></a></span>
<span id="cb23-485"><a href="#cb23-485"></a><span class="fu">### 4.3. Consecuencias sobre el empleo de las econom√≠as avanzadas por la crisis</span></span>
<span id="cb23-486"><a href="#cb23-486"></a></span>
<span id="cb23-487"><a href="#cb23-487"></a>Por √∫ltimo, hemos utilizado la fuerza laboral como variable para explicar el impacto de la crisis sobre el √°mbito laboral de las 40 econom√≠as avanzadas.</span>
<span id="cb23-488"><a href="#cb23-488"></a></span>
<span id="cb23-489"><a href="#cb23-489"></a>::: {.panel-tabset}</span>
<span id="cb23-490"><a href="#cb23-490"></a><span class="fu">### 1</span></span>
<span id="cb23-493"><a href="#cb23-493"></a><span class="in">```{r}</span></span>
<span id="cb23-494"><a href="#cb23-494"></a>Tasa_de_desempleo_1 <span class="ot">&lt;-</span>Tasa_de_desempleo <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span> <span class="dv">27</span>)</span>
<span id="cb23-495"><a href="#cb23-495"></a></span>
<span id="cb23-496"><a href="#cb23-496"></a>p4 <span class="ot">&lt;-</span><span class="fu">ggplot</span>(Tasa_de_desempleo_1, <span class="fu">aes</span>(Year, Percent_of_total_labor_force, <span class="at">label =</span> Percent_of_total_labor_force, <span class="at">color=</span> Year)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb23-497"><a href="#cb23-497"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 7: Porcentaje de la fuerza laboral total durante el periodo 2019/2021 "</span> ,</span>
<span id="cb23-498"><a href="#cb23-498"></a>       <span class="at">caption =</span> <span class="st">"Datos provenientes de FMI"</span>,</span>
<span id="cb23-499"><a href="#cb23-499"></a>       <span class="at">y =</span> <span class="st">"Percent_of_total_labor_force"</span>,</span>
<span id="cb23-500"><a href="#cb23-500"></a>       <span class="at">x =</span> <span class="st">"Year"</span>) <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb23-501"><a href="#cb23-501"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Country))<span class="sc">+</span></span>
<span id="cb23-502"><a href="#cb23-502"></a>  <span class="fu">geom_label_repel</span>()<span class="sc">+</span> </span>
<span id="cb23-503"><a href="#cb23-503"></a>  <span class="fu">theme_light</span>()<span class="sc">+</span></span>
<span id="cb23-504"><a href="#cb23-504"></a>  <span class="fu">theme</span> (<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb23-505"><a href="#cb23-505"></a>                                    <span class="at">hjust =</span> <span class="dv">1</span>,</span>
<span id="cb23-506"><a href="#cb23-506"></a>                                    <span class="at">vjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb23-507"><a href="#cb23-507"></a></span>
<span id="cb23-508"><a href="#cb23-508"></a>p4</span>
<span id="cb23-509"><a href="#cb23-509"></a></span>
<span id="cb23-510"><a href="#cb23-510"></a><span class="in">```</span></span>
<span id="cb23-511"><a href="#cb23-511"></a></span>
<span id="cb23-512"><a href="#cb23-512"></a><span class="fu">### 2</span></span>
<span id="cb23-515"><a href="#cb23-515"></a><span class="in">```{r}</span></span>
<span id="cb23-516"><a href="#cb23-516"></a>Tasa_de_desempleo_2 <span class="ot">&lt;-</span> Tasa_de_desempleo <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">28</span><span class="sc">:</span><span class="dv">60</span>)</span>
<span id="cb23-517"><a href="#cb23-517"></a></span>
<span id="cb23-518"><a href="#cb23-518"></a>p5 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(Tasa_de_desempleo_2, <span class="fu">aes</span>(Year, Percent_of_total_labor_force, <span class="at">label =</span> Percent_of_total_labor_force, <span class="at">color=</span> Year)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb23-519"><a href="#cb23-519"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 8: Porcentaje de fuerza laboral total durante el periodo 2019/2021 "</span> ,</span>
<span id="cb23-520"><a href="#cb23-520"></a>       <span class="at">caption =</span> <span class="st">"Datos provenientes de FMI"</span>,</span>
<span id="cb23-521"><a href="#cb23-521"></a>       <span class="at">y =</span> <span class="st">"Percent_of_total_labor_force"</span>,</span>
<span id="cb23-522"><a href="#cb23-522"></a>       <span class="at">x =</span> <span class="st">"Year"</span>) <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb23-523"><a href="#cb23-523"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Country))<span class="sc">+</span></span>
<span id="cb23-524"><a href="#cb23-524"></a>  <span class="fu">geom_label_repel</span>()<span class="sc">+</span> </span>
<span id="cb23-525"><a href="#cb23-525"></a>  <span class="fu">theme_light</span>()<span class="sc">+</span></span>
<span id="cb23-526"><a href="#cb23-526"></a>  <span class="fu">theme</span> (<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb23-527"><a href="#cb23-527"></a>                                    <span class="at">hjust =</span> <span class="dv">1</span>,</span>
<span id="cb23-528"><a href="#cb23-528"></a>                                    <span class="at">vjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb23-529"><a href="#cb23-529"></a>p5</span>
<span id="cb23-530"><a href="#cb23-530"></a></span>
<span id="cb23-531"><a href="#cb23-531"></a><span class="in">```</span></span>
<span id="cb23-532"><a href="#cb23-532"></a></span>
<span id="cb23-533"><a href="#cb23-533"></a><span class="fu">### 3</span></span>
<span id="cb23-536"><a href="#cb23-536"></a><span class="in">```{r}</span></span>
<span id="cb23-537"><a href="#cb23-537"></a>Tasa_de_desempleo_3 <span class="ot">&lt;-</span> Tasa_de_desempleo <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">61</span><span class="sc">:</span><span class="dv">90</span>)</span>
<span id="cb23-538"><a href="#cb23-538"></a></span>
<span id="cb23-539"><a href="#cb23-539"></a>p6 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(Tasa_de_desempleo_3, <span class="fu">aes</span>(Year, Percent_of_total_labor_force, <span class="at">label =</span> Percent_of_total_labor_force, <span class="at">color=</span> Year)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb23-540"><a href="#cb23-540"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 9: Porcentaje de fuerza laboral total durante el periodo 2019/2021 "</span> ,</span>
<span id="cb23-541"><a href="#cb23-541"></a>       <span class="at">caption =</span> <span class="st">"Datos provenientes de FMI"</span>,</span>
<span id="cb23-542"><a href="#cb23-542"></a>       <span class="at">y =</span> <span class="st">"Percent_of_total_labor_force"</span>,</span>
<span id="cb23-543"><a href="#cb23-543"></a>       <span class="at">x =</span> <span class="st">"Year"</span>) <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb23-544"><a href="#cb23-544"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Country))<span class="sc">+</span></span>
<span id="cb23-545"><a href="#cb23-545"></a>  <span class="fu">geom_label_repel</span>()<span class="sc">+</span> </span>
<span id="cb23-546"><a href="#cb23-546"></a>  <span class="fu">theme_light</span>()<span class="sc">+</span></span>
<span id="cb23-547"><a href="#cb23-547"></a>  <span class="fu">theme</span> (<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb23-548"><a href="#cb23-548"></a>                                    <span class="at">hjust =</span> <span class="dv">1</span>,</span>
<span id="cb23-549"><a href="#cb23-549"></a>                                    <span class="at">vjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb23-550"><a href="#cb23-550"></a>p6</span>
<span id="cb23-551"><a href="#cb23-551"></a></span>
<span id="cb23-552"><a href="#cb23-552"></a><span class="in">```</span></span>
<span id="cb23-553"><a href="#cb23-553"></a></span>
<span id="cb23-554"><a href="#cb23-554"></a><span class="fu">### 4</span></span>
<span id="cb23-557"><a href="#cb23-557"></a><span class="in">```{r}</span></span>
<span id="cb23-558"><a href="#cb23-558"></a>Tasa_de_desempleo_4 <span class="ot">&lt;-</span> Tasa_de_desempleo <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">91</span><span class="sc">:</span><span class="dv">120</span>)</span>
<span id="cb23-559"><a href="#cb23-559"></a></span>
<span id="cb23-560"><a href="#cb23-560"></a>p7 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(Tasa_de_desempleo_4, <span class="fu">aes</span>(Year, Percent_of_total_labor_force, <span class="at">label =</span> Percent_of_total_labor_force, <span class="at">color=</span> Year)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb23-561"><a href="#cb23-561"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 10: Porcentaje de fuerza laboral total durante el periodo 2019/2021 "</span> ,</span>
<span id="cb23-562"><a href="#cb23-562"></a>       <span class="at">caption =</span> <span class="st">"Datos provenientes de FMI"</span>,</span>
<span id="cb23-563"><a href="#cb23-563"></a>       <span class="at">y =</span> <span class="st">"Percent_of_total_labor_force"</span>,</span>
<span id="cb23-564"><a href="#cb23-564"></a>       <span class="at">x =</span> <span class="st">"Year"</span>) <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb23-565"><a href="#cb23-565"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Country))<span class="sc">+</span></span>
<span id="cb23-566"><a href="#cb23-566"></a>  <span class="fu">geom_label_repel</span>()<span class="sc">+</span> </span>
<span id="cb23-567"><a href="#cb23-567"></a>  <span class="fu">theme_light</span>()<span class="sc">+</span></span>
<span id="cb23-568"><a href="#cb23-568"></a>  <span class="fu">theme</span> (<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb23-569"><a href="#cb23-569"></a>                                    <span class="at">hjust =</span> <span class="dv">1</span>,</span>
<span id="cb23-570"><a href="#cb23-570"></a>                                    <span class="at">vjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb23-571"><a href="#cb23-571"></a>p7</span>
<span id="cb23-572"><a href="#cb23-572"></a></span>
<span id="cb23-573"><a href="#cb23-573"></a><span class="in">```</span></span>
<span id="cb23-574"><a href="#cb23-574"></a></span>
<span id="cb23-575"><a href="#cb23-575"></a>::: </span>
<span id="cb23-576"><a href="#cb23-576"></a>- - -</span>
<span id="cb23-577"><a href="#cb23-577"></a></span>
<span id="cb23-578"><a href="#cb23-578"></a><span class="fu">## 5. EFECTOS SOBRE LA ECONOM√çA ESPA√ëOLA</span></span>
<span id="cb23-579"><a href="#cb23-579"></a></span>
<span id="cb23-580"><a href="#cb23-580"></a>Una vez analizado el entorno europeo y entorno internacional, es este apartado nos enfocaremos en el contexto espa√±ol. </span>
<span id="cb23-581"><a href="#cb23-581"></a></span>
<span id="cb23-582"><a href="#cb23-582"></a><span class="fu">### 5.1. Evoluci√≥n de la tasa de paro</span></span>
<span id="cb23-583"><a href="#cb23-583"></a></span>
<span id="cb23-586"><a href="#cb23-586"></a><span class="in">```{r}</span></span>
<span id="cb23-587"><a href="#cb23-587"></a>mapa <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(<span class="st">"https://raw.githubusercontent.com/R-CoderDotCom/data/main/shapefile_spain/spain.geojson"</span>)</span>
<span id="cb23-588"><a href="#cb23-588"></a></span>
<span id="cb23-589"><a href="#cb23-589"></a>df_ok <span class="ot">&lt;-</span> <span class="fu">left_join</span>(df_original, mapa, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ine_ccaa"</span> <span class="ot">=</span> <span class="st">"ccaa_id"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-590"><a href="#cb23-590"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(name, unemp_rate))</span>
<span id="cb23-591"><a href="#cb23-591"></a></span>
<span id="cb23-592"><a href="#cb23-592"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb23-593"><a href="#cb23-593"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> df_ok, </span>
<span id="cb23-594"><a href="#cb23-594"></a>          <span class="fu">aes</span>(<span class="at">geometry =</span> geometry, <span class="at">fill =</span> tasa_paro), </span>
<span id="cb23-595"><a href="#cb23-595"></a>          <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="fl">0.09</span>) <span class="sc">+</span> </span>
<span id="cb23-596"><a href="#cb23-596"></a>  <span class="fu">coord_sf</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">10.00</span>, <span class="fl">5.00</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">35</span>, <span class="cn">NA</span>), <span class="at">expand =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb23-597"><a href="#cb23-597"></a>  <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"white"</span>,<span class="at">high=</span><span class="st">"darkred"</span>) <span class="sc">+</span></span>
<span id="cb23-598"><a href="#cb23-598"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb23-599"><a href="#cb23-599"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb23-600"><a href="#cb23-600"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb23-601"><a href="#cb23-601"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x=</span><span class="fu">element_blank</span>(),</span>
<span id="cb23-602"><a href="#cb23-602"></a>        <span class="at">axis.text.x=</span><span class="fu">element_blank</span>(),</span>
<span id="cb23-603"><a href="#cb23-603"></a>        <span class="at">axis.ticks.x=</span><span class="fu">element_blank</span>(),</span>
<span id="cb23-604"><a href="#cb23-604"></a>        <span class="at">axis.title.y=</span><span class="fu">element_blank</span>(),</span>
<span id="cb23-605"><a href="#cb23-605"></a>        <span class="at">axis.text.y=</span><span class="fu">element_blank</span>(),</span>
<span id="cb23-606"><a href="#cb23-606"></a>        <span class="at">axis.ticks.y=</span><span class="fu">element_blank</span>()) <span class="sc">+</span> </span>
<span id="cb23-607"><a href="#cb23-607"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Evoluc√≠on de la tasa de paro en Espa√±a"</span>) <span class="sc">+</span></span>
<span id="cb23-608"><a href="#cb23-608"></a>  <span class="fu">transition_time</span>(fecha) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">'Fecha: {frame_time}'</span>)</span>
<span id="cb23-609"><a href="#cb23-609"></a><span class="in">```</span></span>
<span id="cb23-610"><a href="#cb23-610"></a></span>
<span id="cb23-611"><a href="#cb23-611"></a></span>
<span id="cb23-612"><a href="#cb23-612"></a><span class="al">![Gr√°fico 11: Evoluci√≥n de la tasa de paro en Espa√±a](./datos/tasa_paro.gif)</span></span>
<span id="cb23-613"><a href="#cb23-613"></a></span>
<span id="cb23-614"><a href="#cb23-614"></a>Podemos ver c√≥mo ha ido evolucionando la tasa de paro en las regiones de Espa√±a desde el 2019 hasta el 2022. Teniendo en cuenta que el a√±o 2020 es el periodo donde m√°s ha crecido la tasa de paro, especialmente a partir del segundo trimestre del a√±o. Como conocemos, es cuando empieza la √©poca del confinamiento. La situaci√≥n mejora a partir del 2021, gracias a la recuperaci√≥n econ√≥mica.</span>
<span id="cb23-615"><a href="#cb23-615"></a></span>
<span id="cb23-616"><a href="#cb23-616"></a></span>
<span id="cb23-617"><a href="#cb23-617"></a></span>
<span id="cb23-618"><a href="#cb23-618"></a><span class="fu">### 5.2. Ranking de las CCAA seg√∫n el PIBpc</span></span>
<span id="cb23-619"><a href="#cb23-619"></a></span>
<span id="cb23-620"><a href="#cb23-620"></a>En primer lugar, vamos a mostrar el ranking de las CCAA de acuerdo con el PIBpc de cada regi√≥n desde el 2016 al 2020. De esta forma, podemos observar qu√© regiones han sido afectadas por el covid-19 en el 2020. </span>
<span id="cb23-621"><a href="#cb23-621"></a></span>
<span id="cb23-624"><a href="#cb23-624"></a><span class="in">```{r}</span></span>
<span id="cb23-625"><a href="#cb23-625"></a>df_ok <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(df_1_pib,df_2_demo)</span>
<span id="cb23-626"><a href="#cb23-626"></a>df_ok <span class="ot">&lt;-</span> df_ok <span class="sc">%&gt;%</span> </span>
<span id="cb23-627"><a href="#cb23-627"></a>  <span class="fu">select</span>(<span class="st">"periodo"</span> <span class="ot">=</span> <span class="st">"periodo...1"</span>, <span class="st">"ccaa"</span>, <span class="st">"pib"</span>, <span class="st">"pob"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-628"><a href="#cb23-628"></a>  <span class="fu">mutate</span>(<span class="at">pib_pc =</span> (pib<span class="sc">*</span><span class="dv">1000</span>)<span class="sc">/</span>pob) <span class="sc">%&gt;%</span> </span>
<span id="cb23-629"><a href="#cb23-629"></a>  <span class="fu">group_by</span>(periodo) <span class="sc">%&gt;%</span></span>
<span id="cb23-630"><a href="#cb23-630"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(periodo, <span class="fu">desc</span>(pib_pc), ccaa) <span class="sc">%&gt;%</span></span>
<span id="cb23-631"><a href="#cb23-631"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">ranking =</span> dplyr<span class="sc">::</span><span class="fu">row_number</span>(),</span>
<span id="cb23-632"><a href="#cb23-632"></a>         <span class="at">year =</span> <span class="fu">as.numeric</span>(periodo))</span>
<span id="cb23-633"><a href="#cb23-633"></a>  </span>
<span id="cb23-634"><a href="#cb23-634"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> df_ok, <span class="fu">aes</span>(<span class="at">x =</span> periodo, <span class="at">y =</span> ranking, <span class="at">group =</span> ccaa, <span class="at">color =</span> ccaa)) <span class="sc">+</span></span>
<span id="cb23-635"><a href="#cb23-635"></a>  <span class="fu">geom_bump</span>(<span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb23-636"><a href="#cb23-636"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> ccaa, <span class="at">alpha =</span> <span class="dv">1</span>), <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb23-637"><a href="#cb23-637"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"#FFFFFF"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb23-638"><a href="#cb23-638"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> df_ok <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year <span class="sc">==</span> <span class="st">"2016"</span>),</span>
<span id="cb23-639"><a href="#cb23-639"></a>            <span class="fu">aes</span>(<span class="at">label =</span> ccaa, <span class="at">x =</span> .<span class="dv">963</span>) , <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">2.3</span>) <span class="sc">+</span></span>
<span id="cb23-640"><a href="#cb23-640"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> df_ok <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year <span class="sc">==</span> <span class="st">"2020"</span>),</span>
<span id="cb23-641"><a href="#cb23-641"></a>            <span class="fu">aes</span>(<span class="at">label =</span> ccaa, <span class="at">x =</span> <span class="fl">5.03</span>) , <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">2.5</span>) <span class="sc">+</span></span>
<span id="cb23-642"><a href="#cb23-642"></a>  <span class="fu">scale_y_reverse</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(df_ok)) <span class="sc">+</span></span>
<span id="cb23-643"><a href="#cb23-643"></a>  <span class="fu">theme</span>(<span class="at">plot.margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="fl">0.35</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.35</span>), <span class="st">"cm"</span>)) <span class="sc">+</span></span>
<span id="cb23-644"><a href="#cb23-644"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb23-645"><a href="#cb23-645"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#FFCCFF"</span>,<span class="st">"#66CCFF"</span>,<span class="st">"#FFFFCC"</span>,<span class="st">"#99CCFF"</span>,<span class="st">"#99FFCC"</span>,<span class="st">"#FFFF33"</span>,<span class="st">"#FF9933"</span>,<span class="st">"#9999CC"</span>,<span class="st">"#9999FF"</span>,<span class="st">"#CCCCCC"</span>,<span class="st">"#CC9999"</span>,<span class="st">"#CC3333"</span>,<span class="st">"#CCFFCC"</span>,<span class="st">"#9966FF"</span>,<span class="st">"#66CCFF"</span>,<span class="st">"#CCFF66"</span>,<span class="st">"#FFCC66"</span>,<span class="st">"#FF9966"</span>,<span class="st">"#99FF66"</span>)) <span class="sc">+</span></span>
<span id="cb23-646"><a href="#cb23-646"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 12:Posici√≥n de las CCAA seg√∫n el PIBpc"</span>,</span>
<span id="cb23-647"><a href="#cb23-647"></a>       <span class="at">subtitle =</span> <span class="st">"siendo 2020 el a√±o del comienzo de la pandemia"</span>) <span class="sc">+</span></span>
<span id="cb23-648"><a href="#cb23-648"></a>  <span class="fu">theme</span>(<span class="at">plot.title       =</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">"#22211d"</span>, <span class="at">size=</span><span class="dv">20</span>, <span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span></span>
<span id="cb23-649"><a href="#cb23-649"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x     =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>, <span class="at">color=</span><span class="st">"black"</span>, <span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span></span>
<span id="cb23-650"><a href="#cb23-650"></a>  <span class="fu">theme</span>(<span class="at">axis.title.y     =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>, <span class="at">color=</span><span class="st">"black"</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">vjust=</span><span class="fl">1.25</span>)) <span class="sc">+</span></span>
<span id="cb23-651"><a href="#cb23-651"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x      =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>, <span class="at">vjust=</span><span class="fl">0.5</span>, <span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">"#22211d"</span>)) <span class="sc">+</span></span>
<span id="cb23-652"><a href="#cb23-652"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y      =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>, <span class="at">color =</span> <span class="st">"#22211d"</span>)) <span class="sc">+</span></span>
<span id="cb23-653"><a href="#cb23-653"></a>  <span class="fu">theme</span>(<span class="at">strip.text       =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span></span>
<span id="cb23-654"><a href="#cb23-654"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb23-655"><a href="#cb23-655"></a></span>
<span id="cb23-656"><a href="#cb23-656"></a>p</span>
<span id="cb23-657"><a href="#cb23-657"></a></span>
<span id="cb23-658"><a href="#cb23-658"></a><span class="in">```</span></span>
<span id="cb23-659"><a href="#cb23-659"></a>Obviamente, del 2019 al 2020 es el per√≠odo que m√°s cambios de posiciones ha generado, y es el periodo que nos interesa m√°s. </span>
<span id="cb23-660"><a href="#cb23-660"></a></span>
<span id="cb23-661"><a href="#cb23-661"></a><span class="ss">- </span>Si nos fijamos, las 4 mejores regiones no han experimentado cambios desde el 2016, siguen siendo Comunidad de Madrid, Pa√≠s Vasco, Comunidad Floral de Navarra y Catalu√±a. </span>
<span id="cb23-662"><a href="#cb23-662"></a><span class="ss">- </span>Las comunidades aut√≥nomas que siguen en el mismo puesto del 2019 al 2020 son los cuatro primeros que hemos mencionado anteriormente, sumando a Cantabria, Gal√≠cia, Principado de Ast√∫rias, Comunidad Valenciana, Catilla-la Mancha y Melilla. </span>
<span id="cb23-663"><a href="#cb23-663"></a><span class="ss">- </span>Las regiones que han mejorado en un posici√≥n del 2019 al 2020 son Arag√≥n, La Rioja, Castilla y Le√≥n, Regi√≥n de M√∫rcia, Ceuta y Extremadura.</span>
<span id="cb23-664"><a href="#cb23-664"></a><span class="ss">- </span>Por √∫ltimo, Islas Baleares, Canarias y Andal√∫cia han empeorado su puesto respecto a otras comunidades.</span>
<span id="cb23-665"><a href="#cb23-665"></a>- - -</span>
<span id="cb23-666"><a href="#cb23-666"></a></span>
<span id="cb23-667"><a href="#cb23-667"></a>No obstante, el ranking anterior no contiene datos significativos, ya que utiliza valores absolutos en lugar de tasas de variaciones relativos. En este caso, observamos que sorprendentemente, si calculamos la tasa de crecimiento del PIB del 2020 respecto al 2019, aunque en el 2020 todas las tasas son negativas, pero las regiones menos afectadas no son las mismas que las anteriores.</span>
<span id="cb23-670"><a href="#cb23-670"></a><span class="in">```{r}</span></span>
<span id="cb23-671"><a href="#cb23-671"></a>df_1 <span class="ot">&lt;-</span> df_px_1 <span class="sc">%&gt;%</span> </span>
<span id="cb23-672"><a href="#cb23-672"></a>  <span class="fu">select</span>(<span class="st">"periodo"</span>,<span class="st">"ccaa"</span><span class="ot">=</span><span class="st">"Comunidades.y.ciudades.aut√≥nomas"</span>,<span class="st">"pib"</span><span class="ot">=</span><span class="st">"value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-673"><a href="#cb23-673"></a>  <span class="fu">filter</span>(ccaa <span class="sc">!=</span> <span class="st">"TOTAL NACIONAL"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-674"><a href="#cb23-674"></a>  <span class="fu">filter</span>(periodo <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"2018"</span>,<span class="st">"2019"</span>,<span class="st">"2020"</span>))</span>
<span id="cb23-675"><a href="#cb23-675"></a>df_2 <span class="ot">&lt;-</span> df_px_3 <span class="sc">%&gt;%</span> </span>
<span id="cb23-676"><a href="#cb23-676"></a>  <span class="fu">select</span>(<span class="st">"periodo"</span>,<span class="st">"ccaa"</span><span class="ot">=</span><span class="st">"Comunidades.y.ciudades.aut√≥nomas"</span>,<span class="st">"pib_en_tasas"</span><span class="ot">=</span><span class="st">"value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-677"><a href="#cb23-677"></a>  <span class="fu">filter</span>(ccaa <span class="sc">!=</span> <span class="st">"TOTAL NACIONAL"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-678"><a href="#cb23-678"></a>  <span class="fu">filter</span>(periodo <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"2018"</span>,<span class="st">"2019"</span>,<span class="st">"2020"</span>))</span>
<span id="cb23-679"><a href="#cb23-679"></a></span>
<span id="cb23-680"><a href="#cb23-680"></a>aa <span class="ot">&lt;-</span> <span class="fu">full_join</span>(df_1,df_2) <span class="sc">%&gt;%</span> </span>
<span id="cb23-681"><a href="#cb23-681"></a>  <span class="fu">mutate</span>(<span class="at">pib =</span> <span class="fu">as.numeric</span>(pib)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-682"><a href="#cb23-682"></a>  <span class="fu">mutate</span>(<span class="at">pib_en_tasas =</span> <span class="fu">as.numeric</span>(pib_en_tasas))</span>
<span id="cb23-683"><a href="#cb23-683"></a></span>
<span id="cb23-684"><a href="#cb23-684"></a>ranking_en_tasas <span class="ot">&lt;-</span> aa <span class="sc">%&gt;%</span> </span>
<span id="cb23-685"><a href="#cb23-685"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"pib"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-686"><a href="#cb23-686"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> periodo, <span class="at">values_from =</span> pib_en_tasas) <span class="sc">%&gt;%</span> </span>
<span id="cb23-687"><a href="#cb23-687"></a>  <span class="fu">select</span>(<span class="st">"ccaa"</span>,<span class="st">"2020"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-688"><a href="#cb23-688"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">2020</span><span class="st">`</span>))</span>
<span id="cb23-689"><a href="#cb23-689"></a></span>
<span id="cb23-690"><a href="#cb23-690"></a>tabla_tasas <span class="ot">&lt;-</span> ranking_en_tasas <span class="sc">%&gt;%</span> </span>
<span id="cb23-691"><a href="#cb23-691"></a>  <span class="fu">gt</span>(<span class="at">rowname_col =</span> <span class="st">"ccaa"</span>)<span class="sc">%&gt;%</span> </span>
<span id="cb23-692"><a href="#cb23-692"></a>  <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Tabla 2: Ranking seg√∫n tasas de variaciones de crecimiento del PIB "</span>,</span>
<span id="cb23-693"><a href="#cb23-693"></a>             <span class="at">subtitle =</span> <span class="fu">md</span>(<span class="st">"(**de las CCAA**) de mayor a menor"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-694"><a href="#cb23-694"></a>  <span class="fu">tab_source_note</span>(<span class="fu">md</span>(<span class="st">"Fuente: datos de [INE](https://www.ine.es/jaxi/Datos.htm?path=/t35/p010/rev19/l0/&amp;file=01001.px)"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-695"><a href="#cb23-695"></a>  <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-696"><a href="#cb23-696"></a>  <span class="fu">opt_row_striping</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb23-697"><a href="#cb23-697"></a>  <span class="fu">opt_table_font</span>(<span class="at">font =</span> <span class="fu">google_font</span>(<span class="st">"Fira Mono"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-698"><a href="#cb23-698"></a>  <span class="fu">tab_options</span>(<span class="at">column_labels.border.bottom.color =</span> <span class="st">"black"</span>,</span>
<span id="cb23-699"><a href="#cb23-699"></a>              <span class="at">table_body.border.bottom.color =</span> <span class="st">"black"</span>,</span>
<span id="cb23-700"><a href="#cb23-700"></a>              <span class="at">table_body.hlines.color =</span> <span class="st">"black"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-701"><a href="#cb23-701"></a>  <span class="fu">opt_align_table_header</span>(<span class="at">align =</span> <span class="st">"left"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-702"><a href="#cb23-702"></a>  <span class="fu">data_color</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="st">`</span><span class="at">2020</span><span class="st">`</span>),</span>
<span id="cb23-703"><a href="#cb23-703"></a>             <span class="at">colors =</span> scales<span class="sc">::</span><span class="fu">col_numeric</span>(<span class="at">palette =</span> <span class="fu">c</span>(<span class="st">"lightblue"</span>), <span class="at">domain =</span> <span class="cn">NULL</span>,<span class="at">alpha =</span> .<span class="dv">5</span>) )</span>
<span id="cb23-704"><a href="#cb23-704"></a>tabla_tasas <span class="sc">%&gt;%</span> gtExtras<span class="sc">::</span><span class="fu">gt_theme_guardian</span>()</span>
<span id="cb23-705"><a href="#cb23-705"></a></span>
<span id="cb23-706"><a href="#cb23-706"></a><span class="in">```</span></span>
<span id="cb23-707"><a href="#cb23-707"></a>Al parecer, Extremadura es la comunidad menos afectada e Islas Baleares la m√°s perjudicada entre todas. Sin embargo, las cuatro regiones que parec√≠an no ser afectadas, Madrid y Pa√≠s Vasco est√°n entre las peores tasas de crecimiento.</span>
<span id="cb23-708"><a href="#cb23-708"></a></span>
<span id="cb23-709"><a href="#cb23-709"></a></span>
<span id="cb23-710"><a href="#cb23-710"></a><span class="fu">### 5.3. ¬øC√≥mo ha afectado a los sectores econ√≥micos?</span></span>
<span id="cb23-711"><a href="#cb23-711"></a></span>
<span id="cb23-712"><a href="#cb23-712"></a>En este apartado, analizaremos las consecuencias econ√≥micas en t√©rminos de producci√≥n sobre cada sector econ√≥mico:</span>
<span id="cb23-713"><a href="#cb23-713"></a></span>
<span id="cb23-716"><a href="#cb23-716"></a><span class="in">```{r}</span></span>
<span id="cb23-717"><a href="#cb23-717"></a>df_px <span class="ot">&lt;-</span> pxR<span class="sc">::</span><span class="fu">read.px</span>(<span class="st">"./datos/ramas_act.px"</span>) <span class="sc">%&gt;%</span> <span class="fu">as.data.frame</span>()</span>
<span id="cb23-718"><a href="#cb23-718"></a></span>
<span id="cb23-719"><a href="#cb23-719"></a><span class="co"># ramas de actividad: grafico de barras horizontales animado con plotly </span></span>
<span id="cb23-720"><a href="#cb23-720"></a></span>
<span id="cb23-721"><a href="#cb23-721"></a>df_ramas_original <span class="ot">&lt;-</span> df_px <span class="sc">%&gt;%</span> </span>
<span id="cb23-722"><a href="#cb23-722"></a>  <span class="fu">select</span>(<span class="st">"periodo"</span> <span class="ot">=</span> <span class="st">"Periodo"</span>, <span class="st">"ramas_act"</span> <span class="ot">=</span> <span class="st">"Ramas.de.actividad"</span>, <span class="st">"produccion"</span> <span class="ot">=</span> <span class="st">"value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-723"><a href="#cb23-723"></a>  <span class="fu">mutate</span>(<span class="at">ramas_act =</span> <span class="fu">as.character</span>(ramas_act)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-724"><a href="#cb23-724"></a>  <span class="fu">mutate</span>(<span class="at">ramas_act =</span> <span class="fu">ifelse</span>(ramas_act <span class="sc">==</span> <span class="st">"Total CNAE"</span>,</span>
<span id="cb23-725"><a href="#cb23-725"></a>                            <span class="fu">paste</span>(<span class="st">"Z"</span>, ramas_act),</span>
<span id="cb23-726"><a href="#cb23-726"></a>                            ramas_act)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-727"><a href="#cb23-727"></a>  tidyr<span class="sc">::</span><span class="fu">separate</span>(ramas_act, <span class="at">sep =</span> <span class="st">" "</span>, </span>
<span id="cb23-728"><a href="#cb23-728"></a>                  <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"ramas_act_code"</span>, <span class="st">"ramas_act"</span>), <span class="at">extra =</span> <span class="st">"merge"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-729"><a href="#cb23-729"></a>  <span class="fu">select</span>(<span class="sc">-</span>ramas_act_code)</span>
<span id="cb23-730"><a href="#cb23-730"></a></span>
<span id="cb23-731"><a href="#cb23-731"></a>df_sec <span class="ot">&lt;-</span> df_ramas_original <span class="sc">%&gt;%</span> </span>
<span id="cb23-732"><a href="#cb23-732"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> ramas_act, <span class="at">values_from =</span> produccion) <span class="sc">%&gt;%</span> </span>
<span id="cb23-733"><a href="#cb23-733"></a>  <span class="fu">mutate</span>(<span class="at">sec_primario =</span> <span class="st">`</span><span class="at">Agricultura, ganader√≠a, silvicultura y pesca</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-734"><a href="#cb23-734"></a>  <span class="fu">mutate</span>(<span class="at">sec_secundario =</span> <span class="st">`</span><span class="at">Industrias extractivas</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">Industria manufacturera</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">Suministro de energ√≠a el√©ctrica, gas, vapor y aire acondicionado</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">Suministro de agua, actividades de saneamiento, gesti√≥n de residuos y descontaminaci√≥n</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-735"><a href="#cb23-735"></a>  <span class="fu">mutate</span>(<span class="at">sec_construccion =</span> <span class="st">`</span><span class="at">Construcci√≥n</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-736"><a href="#cb23-736"></a>  <span class="fu">mutate</span>(<span class="at">sec_terciario =</span> <span class="st">`</span><span class="at">Total CNAE</span><span class="st">`</span><span class="sc">-</span><span class="st">`</span><span class="at">sec_primario</span><span class="st">`</span><span class="sc">-</span><span class="st">`</span><span class="at">sec_secundario</span><span class="st">`</span><span class="sc">-</span><span class="st">`</span><span class="at">sec_construccion</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-737"><a href="#cb23-737"></a>  <span class="fu">select</span>(<span class="st">"periodo"</span>, <span class="st">"total"</span> <span class="ot">=</span> <span class="st">"Total CNAE"</span>, <span class="st">"sec_primario"</span>, <span class="st">"sec_secundario"</span>, <span class="st">"sec_construccion"</span>, <span class="st">"sec_terciario"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-738"><a href="#cb23-738"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">names_to =</span> <span class="st">"sectores"</span>, <span class="at">values_to =</span> <span class="st">"produccion"</span>) </span>
<span id="cb23-739"><a href="#cb23-739"></a></span>
<span id="cb23-740"><a href="#cb23-740"></a>df_2019 <span class="ot">&lt;-</span> df_sec <span class="sc">%&gt;%</span> </span>
<span id="cb23-741"><a href="#cb23-741"></a>  <span class="fu">filter</span>(periodo <span class="sc">==</span> <span class="st">"2019"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-742"><a href="#cb23-742"></a>  <span class="fu">filter</span>(sectores <span class="sc">!=</span> <span class="st">"total"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-743"><a href="#cb23-743"></a>  <span class="fu">mutate</span>(<span class="at">porcentaje =</span> (produccion<span class="sc">*</span><span class="dv">100</span>)<span class="sc">/</span><span class="fu">sum</span>(produccion),</span>
<span id="cb23-744"><a href="#cb23-744"></a>         <span class="at">percent =</span> <span class="fu">round</span>(porcentaje, <span class="dv">2</span>),</span>
<span id="cb23-745"><a href="#cb23-745"></a>         <span class="at">csum =</span> <span class="fu">rev</span>(<span class="fu">cumsum</span>(<span class="fu">rev</span>(percent))),</span>
<span id="cb23-746"><a href="#cb23-746"></a>         <span class="at">posicion =</span> percent<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">lead</span>(csum, <span class="dv">1</span>))</span>
<span id="cb23-747"><a href="#cb23-747"></a></span>
<span id="cb23-748"><a href="#cb23-748"></a>df_2019 <span class="ot">&lt;-</span> df_2019 <span class="sc">%&gt;%</span> </span>
<span id="cb23-749"><a href="#cb23-749"></a>  <span class="fu">mutate</span>(<span class="at">posicion =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(posicion), percent<span class="sc">/</span><span class="dv">2</span>, posicion))</span>
<span id="cb23-750"><a href="#cb23-750"></a></span>
<span id="cb23-751"><a href="#cb23-751"></a>p_2019 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_2019, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span> , <span class="at">y =</span> percent, <span class="at">fill =</span> <span class="fu">fct_inorder</span>(sectores))) <span class="sc">+</span></span>
<span id="cb23-752"><a href="#cb23-752"></a>  <span class="fu">geom_col</span>(<span class="at">width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb23-753"><a href="#cb23-753"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb23-754"><a href="#cb23-754"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Pastel1"</span>) <span class="sc">+</span></span>
<span id="cb23-755"><a href="#cb23-755"></a>  <span class="fu">geom_label_repel</span>(<span class="at">data =</span> df_2019,</span>
<span id="cb23-756"><a href="#cb23-756"></a>                   <span class="fu">aes</span>(<span class="at">y =</span> posicion, <span class="at">label =</span> <span class="fu">paste0</span>(percent, <span class="st">"%"</span>)),</span>
<span id="cb23-757"><a href="#cb23-757"></a>                   <span class="at">size =</span> <span class="fl">4.5</span>, <span class="at">nudge_x =</span> <span class="dv">1</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb23-758"><a href="#cb23-758"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Sector"</span>)) <span class="sc">+</span></span>
<span id="cb23-759"><a href="#cb23-759"></a>  <span class="fu">theme_void</span>() </span>
<span id="cb23-760"><a href="#cb23-760"></a></span>
<span id="cb23-761"><a href="#cb23-761"></a>df_2020 <span class="ot">&lt;-</span> df_sec <span class="sc">%&gt;%</span> </span>
<span id="cb23-762"><a href="#cb23-762"></a>  <span class="fu">filter</span>(periodo <span class="sc">==</span> <span class="st">"2020"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-763"><a href="#cb23-763"></a>  <span class="fu">filter</span>(sectores <span class="sc">!=</span> <span class="st">"total"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-764"><a href="#cb23-764"></a>  <span class="fu">mutate</span>(<span class="at">porcentaje =</span> (produccion<span class="sc">*</span><span class="dv">100</span>)<span class="sc">/</span><span class="fu">sum</span>(produccion),</span>
<span id="cb23-765"><a href="#cb23-765"></a>         <span class="at">percent =</span> <span class="fu">round</span>(porcentaje, <span class="dv">2</span>),</span>
<span id="cb23-766"><a href="#cb23-766"></a>         <span class="at">csum =</span> <span class="fu">rev</span>(<span class="fu">cumsum</span>(<span class="fu">rev</span>(percent))),</span>
<span id="cb23-767"><a href="#cb23-767"></a>         <span class="at">posicion =</span> percent<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">lead</span>(csum, <span class="dv">1</span>))</span>
<span id="cb23-768"><a href="#cb23-768"></a></span>
<span id="cb23-769"><a href="#cb23-769"></a>df_2020 <span class="ot">&lt;-</span> df_2020 <span class="sc">%&gt;%</span> </span>
<span id="cb23-770"><a href="#cb23-770"></a>  <span class="fu">mutate</span>(<span class="at">posicion =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(posicion), percent<span class="sc">/</span><span class="dv">2</span>, posicion))</span>
<span id="cb23-771"><a href="#cb23-771"></a></span>
<span id="cb23-772"><a href="#cb23-772"></a>p_2020 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_2020, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span> , <span class="at">y =</span> percent, <span class="at">fill =</span> <span class="fu">fct_inorder</span>(sectores))) <span class="sc">+</span></span>
<span id="cb23-773"><a href="#cb23-773"></a>  <span class="fu">geom_col</span>(<span class="at">width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb23-774"><a href="#cb23-774"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb23-775"><a href="#cb23-775"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Pastel1"</span>) <span class="sc">+</span></span>
<span id="cb23-776"><a href="#cb23-776"></a>  <span class="fu">geom_label_repel</span>(<span class="at">data =</span> df_2020,</span>
<span id="cb23-777"><a href="#cb23-777"></a>                   <span class="fu">aes</span>(<span class="at">y =</span> posicion, <span class="at">label =</span> <span class="fu">paste0</span>(percent, <span class="st">"%"</span>)),</span>
<span id="cb23-778"><a href="#cb23-778"></a>                   <span class="at">size =</span> <span class="fl">4.5</span>, <span class="at">nudge_x =</span> <span class="dv">1</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb23-779"><a href="#cb23-779"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Sector"</span>)) <span class="sc">+</span></span>
<span id="cb23-780"><a href="#cb23-780"></a>  <span class="fu">theme_void</span>() </span>
<span id="cb23-781"><a href="#cb23-781"></a></span>
<span id="cb23-782"><a href="#cb23-782"></a>df_2021 <span class="ot">&lt;-</span> df_sec <span class="sc">%&gt;%</span> </span>
<span id="cb23-783"><a href="#cb23-783"></a>  <span class="fu">filter</span>(periodo <span class="sc">==</span> <span class="st">"2021"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-784"><a href="#cb23-784"></a>  <span class="fu">filter</span>(sectores <span class="sc">!=</span> <span class="st">"total"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-785"><a href="#cb23-785"></a>  <span class="fu">mutate</span>(<span class="at">porcentaje =</span> (produccion<span class="sc">*</span><span class="dv">100</span>)<span class="sc">/</span><span class="fu">sum</span>(produccion),</span>
<span id="cb23-786"><a href="#cb23-786"></a>         <span class="at">percent =</span> <span class="fu">round</span>(porcentaje, <span class="dv">2</span>),</span>
<span id="cb23-787"><a href="#cb23-787"></a>         <span class="at">csum =</span> <span class="fu">rev</span>(<span class="fu">cumsum</span>(<span class="fu">rev</span>(percent))),</span>
<span id="cb23-788"><a href="#cb23-788"></a>         <span class="at">posicion =</span> percent<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">lead</span>(csum, <span class="dv">1</span>))</span>
<span id="cb23-789"><a href="#cb23-789"></a></span>
<span id="cb23-790"><a href="#cb23-790"></a>df_2021 <span class="ot">&lt;-</span> df_2021 <span class="sc">%&gt;%</span> </span>
<span id="cb23-791"><a href="#cb23-791"></a>  <span class="fu">mutate</span>(<span class="at">posicion =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(posicion), percent<span class="sc">/</span><span class="dv">2</span>, posicion))</span>
<span id="cb23-792"><a href="#cb23-792"></a></span>
<span id="cb23-793"><a href="#cb23-793"></a>p_2021 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_2021, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span> , <span class="at">y =</span> percent, <span class="at">fill =</span> <span class="fu">fct_inorder</span>(sectores))) <span class="sc">+</span></span>
<span id="cb23-794"><a href="#cb23-794"></a>  <span class="fu">geom_col</span>(<span class="at">width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb23-795"><a href="#cb23-795"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb23-796"><a href="#cb23-796"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Pastel1"</span>) <span class="sc">+</span></span>
<span id="cb23-797"><a href="#cb23-797"></a>  <span class="fu">geom_label_repel</span>(<span class="at">data =</span> df_2021,</span>
<span id="cb23-798"><a href="#cb23-798"></a>                   <span class="fu">aes</span>(<span class="at">y =</span> posicion, <span class="at">label =</span> <span class="fu">paste0</span>(percent, <span class="st">"%"</span>)),</span>
<span id="cb23-799"><a href="#cb23-799"></a>                   <span class="at">size =</span> <span class="fl">4.5</span>, <span class="at">nudge_x =</span> <span class="dv">1</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb23-800"><a href="#cb23-800"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Sector"</span>)) <span class="sc">+</span></span>
<span id="cb23-801"><a href="#cb23-801"></a>  <span class="fu">theme_void</span>() </span>
<span id="cb23-802"><a href="#cb23-802"></a></span>
<span id="cb23-803"><a href="#cb23-803"></a>df_2018 <span class="ot">&lt;-</span> df_sec <span class="sc">%&gt;%</span> </span>
<span id="cb23-804"><a href="#cb23-804"></a>  <span class="fu">filter</span>(periodo <span class="sc">==</span> <span class="st">"2018"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-805"><a href="#cb23-805"></a>  <span class="fu">filter</span>(sectores <span class="sc">!=</span> <span class="st">"total"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-806"><a href="#cb23-806"></a>  <span class="fu">mutate</span>(<span class="at">porcentaje =</span> (produccion<span class="sc">*</span><span class="dv">100</span>)<span class="sc">/</span><span class="fu">sum</span>(produccion),</span>
<span id="cb23-807"><a href="#cb23-807"></a>         <span class="at">percent =</span> <span class="fu">round</span>(porcentaje, <span class="dv">2</span>),</span>
<span id="cb23-808"><a href="#cb23-808"></a>         <span class="at">csum =</span> <span class="fu">rev</span>(<span class="fu">cumsum</span>(<span class="fu">rev</span>(percent))),</span>
<span id="cb23-809"><a href="#cb23-809"></a>         <span class="at">posicion =</span> percent<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">lead</span>(csum, <span class="dv">1</span>))</span>
<span id="cb23-810"><a href="#cb23-810"></a></span>
<span id="cb23-811"><a href="#cb23-811"></a>df_2018 <span class="ot">&lt;-</span> df_2018 <span class="sc">%&gt;%</span> </span>
<span id="cb23-812"><a href="#cb23-812"></a>  <span class="fu">mutate</span>(<span class="at">posicion =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(posicion), percent<span class="sc">/</span><span class="dv">2</span>, posicion))</span>
<span id="cb23-813"><a href="#cb23-813"></a></span>
<span id="cb23-814"><a href="#cb23-814"></a>p_2018 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_2018, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span> , <span class="at">y =</span> percent, <span class="at">fill =</span> <span class="fu">fct_inorder</span>(sectores))) <span class="sc">+</span></span>
<span id="cb23-815"><a href="#cb23-815"></a>  <span class="fu">geom_col</span>(<span class="at">width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb23-816"><a href="#cb23-816"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb23-817"><a href="#cb23-817"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Pastel1"</span>) <span class="sc">+</span></span>
<span id="cb23-818"><a href="#cb23-818"></a>  <span class="fu">geom_label_repel</span>(<span class="at">data =</span> df_2021,</span>
<span id="cb23-819"><a href="#cb23-819"></a>                   <span class="fu">aes</span>(<span class="at">y =</span> posicion, <span class="at">label =</span> <span class="fu">paste0</span>(percent, <span class="st">"%"</span>)),</span>
<span id="cb23-820"><a href="#cb23-820"></a>                   <span class="at">size =</span> <span class="fl">4.5</span>, <span class="at">nudge_x =</span> <span class="dv">1</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb23-821"><a href="#cb23-821"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Sector"</span>)) <span class="sc">+</span></span>
<span id="cb23-822"><a href="#cb23-822"></a>  <span class="fu">theme_void</span>() </span>
<span id="cb23-823"><a href="#cb23-823"></a></span>
<span id="cb23-824"><a href="#cb23-824"></a><span class="fu">wrap_plots</span>(p_2018, p_2019, p_2020, p_2021, </span>
<span id="cb23-825"><a href="#cb23-825"></a>           <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">nrow =</span> <span class="dv">2</span>,</span>
<span id="cb23-826"><a href="#cb23-826"></a>           <span class="at">widths =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>), <span class="at">heights =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb23-827"><a href="#cb23-827"></a>  <span class="fu">plot_annotation</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 13: Proporci√≥n seg√∫n producci√≥n de las actividades econ√≥micas en Espa√±a"</span>,</span>
<span id="cb23-828"><a href="#cb23-828"></a>                  <span class="at">subtitle =</span> <span class="st">"(de los a√±os 2018,2019,2020 y 2021)"</span>,</span>
<span id="cb23-829"><a href="#cb23-829"></a>                  <span class="at">caption =</span> <span class="st">"Elaboraci√≥n propia con datos de la INE"</span>)</span>
<span id="cb23-830"><a href="#cb23-830"></a> </span>
<span id="cb23-831"><a href="#cb23-831"></a> </span>
<span id="cb23-832"><a href="#cb23-832"></a></span>
<span id="cb23-833"><a href="#cb23-833"></a><span class="in">```</span></span>
<span id="cb23-834"><a href="#cb23-834"></a></span>
<span id="cb23-835"><a href="#cb23-835"></a>Observamos que, respecto a los diagramas sectoriales, las diferencias porcentuales entre los cuatro a√±os no son grandes. </span>
<span id="cb23-836"><a href="#cb23-836"></a></span>
<span id="cb23-837"><a href="#cb23-837"></a>Sin embargo, un an√°lisis m√°s detallado dentro de los sectores, s√≠ que existen diferencias en las producciones. En este caso, solo hemos cogido las ramas de actividad con 1 d√≠gito mayores de 100.000 u.m.</span>
<span id="cb23-838"><a href="#cb23-838"></a></span>
<span id="cb23-841"><a href="#cb23-841"></a><span class="in">```{r}</span></span>
<span id="cb23-842"><a href="#cb23-842"></a>df_px <span class="ot">&lt;-</span> pxR<span class="sc">::</span><span class="fu">read.px</span>(<span class="st">"./datos/ramas_act.px"</span>) <span class="sc">%&gt;%</span> <span class="fu">as.data.frame</span>()</span>
<span id="cb23-843"><a href="#cb23-843"></a></span>
<span id="cb23-844"><a href="#cb23-844"></a><span class="co"># ramas de actividad: grafico de barras horizontales animado con plotly </span></span>
<span id="cb23-845"><a href="#cb23-845"></a></span>
<span id="cb23-846"><a href="#cb23-846"></a>df_ramas_original <span class="ot">&lt;-</span> df_px <span class="sc">%&gt;%</span> </span>
<span id="cb23-847"><a href="#cb23-847"></a>  <span class="fu">select</span>(<span class="st">"periodo"</span> <span class="ot">=</span> <span class="st">"Periodo"</span>, <span class="st">"ramas_act"</span> <span class="ot">=</span> <span class="st">"Ramas.de.actividad"</span>, <span class="st">"produccion"</span> <span class="ot">=</span> <span class="st">"value"</span>)<span class="sc">%&gt;%</span> </span>
<span id="cb23-848"><a href="#cb23-848"></a>  <span class="fu">mutate</span>(<span class="at">ramas_act =</span> <span class="fu">as.character</span>(ramas_act)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-849"><a href="#cb23-849"></a>  <span class="fu">mutate</span>(<span class="at">ramas_act =</span> <span class="fu">ifelse</span>(ramas_act <span class="sc">==</span> <span class="st">"Total CNAE"</span>,</span>
<span id="cb23-850"><a href="#cb23-850"></a>                            <span class="fu">paste</span>(<span class="st">"Z"</span>, ramas_act),</span>
<span id="cb23-851"><a href="#cb23-851"></a>                            ramas_act)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-852"><a href="#cb23-852"></a>  tidyr<span class="sc">::</span><span class="fu">separate</span>(ramas_act, <span class="at">sep =</span> <span class="st">" "</span>, </span>
<span id="cb23-853"><a href="#cb23-853"></a>                  <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"ramas_act_code"</span>, <span class="st">"ramas_act"</span>), <span class="at">extra =</span> <span class="st">"merge"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-854"><a href="#cb23-854"></a>  <span class="fu">select</span>(<span class="sc">-</span>ramas_act_code)</span>
<span id="cb23-855"><a href="#cb23-855"></a></span>
<span id="cb23-856"><a href="#cb23-856"></a>df_ramas_mayor <span class="ot">&lt;-</span> df_ramas_original <span class="sc">%&gt;%</span> </span>
<span id="cb23-857"><a href="#cb23-857"></a>  <span class="fu">filter</span>(ramas_act <span class="sc">!=</span> <span class="st">"Total CNAE"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-858"><a href="#cb23-858"></a>  <span class="fu">mutate</span>(<span class="at">ramas_act =</span> forcats<span class="sc">::</span><span class="fu">as_factor</span>(ramas_act)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-859"><a href="#cb23-859"></a>  <span class="fu">mutate</span>(<span class="at">ramas_act =</span> forcats<span class="sc">::</span><span class="fu">fct_infreq</span>(ramas_act)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-860"><a href="#cb23-860"></a>  <span class="fu">mutate</span>(<span class="at">periodo =</span> <span class="fu">as.character</span>(periodo)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-861"><a href="#cb23-861"></a>  <span class="fu">group_by</span>(periodo) <span class="sc">%&gt;%</span></span>
<span id="cb23-862"><a href="#cb23-862"></a>  <span class="fu">arrange</span>(periodo, <span class="fu">desc</span>(produccion), ramas_act) <span class="sc">%&gt;%</span> </span>
<span id="cb23-863"><a href="#cb23-863"></a>  <span class="fu">mutate</span>(<span class="at">periodo =</span> <span class="fu">as.factor</span>(periodo)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-864"><a href="#cb23-864"></a>  <span class="fu">filter</span>(produccion <span class="sc">&gt;=</span> <span class="dv">100000</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-865"><a href="#cb23-865"></a>  <span class="fu">mutate</span>(<span class="at">ramas_act =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-866"><a href="#cb23-866"></a>    ramas_act <span class="sc">==</span> <span class="st">"Comercio al por mayor y al por menor; reparaci√≥n de veh√≠culos de motor y motocicletas"</span> <span class="sc">~</span> <span class="st">"Comercio y reparaci√≥n"</span>,</span>
<span id="cb23-867"><a href="#cb23-867"></a>    ramas_act <span class="sc">==</span> <span class="st">"Actividades sanitarias y de servicios sociales"</span> <span class="sc">~</span> <span class="st">"Act. sanitarias y de servicios sociales"</span>,</span>
<span id="cb23-868"><a href="#cb23-868"></a>    ramas_act <span class="sc">==</span> <span class="st">"Actividades profesionales, cient√≠ficas y t√©cnicas"</span> <span class="sc">~</span> <span class="st">"Act. profesionales,cient√ßificas y t√©cnicas"</span>,</span>
<span id="cb23-869"><a href="#cb23-869"></a>    ramas_act <span class="sc">==</span> <span class="st">"Industria manufacturera"</span> <span class="sc">~</span> <span class="st">"Industria manufacturera"</span>,</span>
<span id="cb23-870"><a href="#cb23-870"></a>    ramas_act <span class="sc">==</span> <span class="st">"Construcci√≥n"</span> <span class="sc">~</span> <span class="st">"Construcci√≥n"</span>,</span>
<span id="cb23-871"><a href="#cb23-871"></a>    ramas_act <span class="sc">==</span> <span class="st">"Actividades inmobiliarias"</span> <span class="sc">~</span> <span class="st">"Actividades inmobiliarias"</span>,</span>
<span id="cb23-872"><a href="#cb23-872"></a>    ramas_act <span class="sc">==</span> <span class="st">"Hosteler√≠a"</span> <span class="sc">~</span> <span class="st">"Hosteler√≠a"</span>,</span>
<span id="cb23-873"><a href="#cb23-873"></a>    ramas_act <span class="sc">==</span> <span class="st">"Transporte y almacenamiento"</span> <span class="sc">~</span> <span class="st">"Transporte y almacenamiento"</span>))</span>
<span id="cb23-874"><a href="#cb23-874"></a></span>
<span id="cb23-875"><a href="#cb23-875"></a></span>
<span id="cb23-876"><a href="#cb23-876"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_ramas_mayor)</span>
<span id="cb23-877"><a href="#cb23-877"></a></span>
<span id="cb23-878"><a href="#cb23-878"></a>p <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(ramas_act, produccion), <span class="at">y =</span> produccion, <span class="at">fill =</span> ramas_act)) <span class="sc">+</span> </span>
<span id="cb23-879"><a href="#cb23-879"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span>                  </span>
<span id="cb23-880"><a href="#cb23-880"></a>  <span class="fu">transition_states</span>(periodo,                    </span>
<span id="cb23-881"><a href="#cb23-881"></a>                    <span class="at">transition_length =</span> <span class="dv">1</span>,      </span>
<span id="cb23-882"><a href="#cb23-882"></a>                    <span class="at">state_length =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb23-883"><a href="#cb23-883"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span>  </span>
<span id="cb23-884"><a href="#cb23-884"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 14: Producci√≥n en {closest_state}"</span>,</span>
<span id="cb23-885"><a href="#cb23-885"></a>       <span class="at">subtitle =</span> <span class="st">"diferenciado por ramas de actividad mayores de 100.000 u.m."</span>,</span>
<span id="cb23-886"><a href="#cb23-886"></a>       <span class="at">caption =</span> <span class="st">"Elaboraci√≥n propia con datos de la INE"</span>) <span class="sc">+</span></span>
<span id="cb23-887"><a href="#cb23-887"></a>  <span class="fu">theme</span>(<span class="at">plot.caption.position =</span> <span class="st">"panel"</span>) <span class="sc">+</span></span>
<span id="cb23-888"><a href="#cb23-888"></a>  <span class="fu">xlab</span>(<span class="st">''</span>) <span class="sc">+</span> </span>
<span id="cb23-889"><a href="#cb23-889"></a>  <span class="fu">ylab</span>(<span class="st">'produccion'</span>) <span class="sc">+</span></span>
<span id="cb23-890"><a href="#cb23-890"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb23-891"><a href="#cb23-891"></a></span>
<span id="cb23-892"><a href="#cb23-892"></a></span>
<span id="cb23-893"><a href="#cb23-893"></a><span class="in">```</span></span>
<span id="cb23-894"><a href="#cb23-894"></a>En general, del 2019 al 2020, encontramos un descenso de producci√≥n muy evidente de todas las actividades:</span>
<span id="cb23-895"><a href="#cb23-895"></a></span>
<span id="cb23-896"><a href="#cb23-896"></a><span class="ss">- </span>La ind√∫stria manufacturera sigue ocupando el puesto de mayor producci√≥n, alcanza su m√°ximo valor en el 2019, reduce su producci√≥n en el 2020, en el 2021 consigue incrementar pero sin alcanzar el valor del 2019.</span>
<span id="cb23-897"><a href="#cb23-897"></a><span class="ss">- </span>Comercio y reparaci√≥n, construcci√≥n y las actividades inmobiliarias siguen las mismas tendencias que la ind√∫stria manufacturera.</span>
<span id="cb23-898"><a href="#cb23-898"></a><span class="ss">- </span>En hosteler√≠a hay un aspecto interesante, debido al covid, su producci√≥n cae profundamente sin llegar a 100.000.</span>
<span id="cb23-899"><a href="#cb23-899"></a><span class="ss">- </span>Las actividades sanitarias y de servicios sociales es la √∫nica rama con distinta evoluci√≥n, del 2018 al 2021 ha estado siempre creciendo.</span>
<span id="cb23-900"><a href="#cb23-900"></a><span class="ss">- </span>Transporte y almacenamiento y actividades profesionales, cient√≠ficas y t√©cnicas tamb√≠en se han observado reducciones, pero no son enormes.</span>
<span id="cb23-901"><a href="#cb23-901"></a></span>
<span id="cb23-902"><a href="#cb23-902"></a></span>
<span id="cb23-903"><a href="#cb23-903"></a><span class="fu">### 5.4. Consecuencias sobre el turismo en la Comunidad Valenciana</span></span>
<span id="cb23-904"><a href="#cb23-904"></a></span>
<span id="cb23-905"><a href="#cb23-905"></a>Finalmente, acabamos la investigaci√≥n en el territorio espa√±ol con un an√°lisis del sector turismo en la Comunidad Valenciana.</span>
<span id="cb23-906"><a href="#cb23-906"></a></span>
<span id="cb23-909"><a href="#cb23-909"></a><span class="in">```{r}</span></span>
<span id="cb23-910"><a href="#cb23-910"></a>df_px <span class="ot">&lt;-</span> pxR<span class="sc">::</span><span class="fu">read.px</span>(<span class="st">"./datos/10823.px"</span>) <span class="sc">%&gt;%</span> as.data.frame</span>
<span id="cb23-911"><a href="#cb23-911"></a></span>
<span id="cb23-912"><a href="#cb23-912"></a>df <span class="ot">&lt;-</span> df_px <span class="sc">%&gt;%</span> </span>
<span id="cb23-913"><a href="#cb23-913"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb23-914"><a href="#cb23-914"></a>  <span class="fu">mutate</span>(<span class="at">fecha =</span> lubridate<span class="sc">::</span><span class="fu">ym</span>(periodo)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-915"><a href="#cb23-915"></a>  <span class="fu">mutate</span>(<span class="at">anyo =</span> lubridate<span class="sc">::</span><span class="fu">year</span>(fecha)) <span class="sc">%&gt;%</span> </span>
<span id="cb23-916"><a href="#cb23-916"></a>  <span class="fu">mutate</span>(<span class="at">mes =</span> lubridate<span class="sc">::</span><span class="fu">month</span>(fecha))  <span class="sc">%&gt;%</span> </span>
<span id="cb23-917"><a href="#cb23-917"></a>  <span class="fu">select</span>(<span class="sc">-</span>periodo) <span class="sc">%&gt;%</span> </span>
<span id="cb23-918"><a href="#cb23-918"></a>  <span class="fu">mutate</span>(<span class="at">comunidades_autonomas =</span> <span class="fu">as.character</span>(comunidades_autonomas),</span>
<span id="cb23-919"><a href="#cb23-919"></a>         <span class="at">ccaa =</span> <span class="fu">ifelse</span>(comunidades_autonomas <span class="sc">==</span> <span class="st">"Total"</span>,</span>
<span id="cb23-920"><a href="#cb23-920"></a>                       <span class="fu">paste</span>(<span class="st">"00"</span>, comunidades_autonomas),</span>
<span id="cb23-921"><a href="#cb23-921"></a>                       comunidades_autonomas)) <span class="sc">%&gt;%</span>  </span>
<span id="cb23-922"><a href="#cb23-922"></a>  tidyr<span class="sc">::</span><span class="fu">separate</span>(ccaa, <span class="at">sep =</span> <span class="st">" "</span>, </span>
<span id="cb23-923"><a href="#cb23-923"></a>                  <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"ine_ccaa"</span>, <span class="st">"ine_ccaa.n"</span>), <span class="at">extra =</span> <span class="st">"merge"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-924"><a href="#cb23-924"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">"tipo_de_dato"</span>, <span class="at">values_from =</span> <span class="st">"value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-925"><a href="#cb23-925"></a>  <span class="fu">select</span>(<span class="st">"fecha"</span>, <span class="st">"anyo"</span>, <span class="st">"mes"</span>, <span class="st">"ine_ccaa"</span>, <span class="st">"ine_ccaa.n"</span>, <span class="st">"Dato base"</span>, <span class="st">"Tasa de variaci√≥n acumulada"</span>)</span>
<span id="cb23-926"><a href="#cb23-926"></a></span>
<span id="cb23-927"><a href="#cb23-927"></a>zz <span class="ot">&lt;-</span> naniar<span class="sc">::</span><span class="fu">gg_miss_var</span>(df, <span class="at">show_pct =</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-928"><a href="#cb23-928"></a></span>
<span id="cb23-929"><a href="#cb23-929"></a>df_original <span class="ot">&lt;-</span> df</span>
<span id="cb23-930"><a href="#cb23-930"></a></span>
<span id="cb23-931"><a href="#cb23-931"></a>df_CV <span class="ot">&lt;-</span> df_original <span class="sc">%&gt;%</span> </span>
<span id="cb23-932"><a href="#cb23-932"></a>  <span class="fu">filter</span>(ine_ccaa.n <span class="sc">==</span><span class="st">"Comunitat Valenciana"</span>)</span>
<span id="cb23-933"><a href="#cb23-933"></a></span>
<span id="cb23-934"><a href="#cb23-934"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb23-935"><a href="#cb23-935"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> df_CV, <span class="fu">aes</span>(<span class="at">x =</span> fecha,</span>
<span id="cb23-936"><a href="#cb23-936"></a>                              <span class="at">y =</span> <span class="st">`</span><span class="at">Dato base</span><span class="st">`</span>,</span>
<span id="cb23-937"><a href="#cb23-937"></a>                              <span class="at">color =</span> ine_ccaa.n)) <span class="sc">+</span> </span>
<span id="cb23-938"><a href="#cb23-938"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb23-939"><a href="#cb23-939"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 15:Evoluci√≥n de turistas siendo la Comunidad Valenciana el destino principal"</span>,</span>
<span id="cb23-940"><a href="#cb23-940"></a>       <span class="at">subtitle =</span> <span class="st">"(de enero 2019 hasta octubre 2022)"</span>,</span>
<span id="cb23-941"><a href="#cb23-941"></a>       <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb23-942"><a href="#cb23-942"></a>       <span class="at">y =</span> <span class="st">"N√∫mero de turistas"</span>) <span class="sc">+</span></span>
<span id="cb23-943"><a href="#cb23-943"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb23-944"><a href="#cb23-944"></a>  </span>
<span id="cb23-945"><a href="#cb23-945"></a><span class="fu">ggplotly</span>(p1)</span>
<span id="cb23-946"><a href="#cb23-946"></a></span>
<span id="cb23-947"><a href="#cb23-947"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb23-948"><a href="#cb23-948"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> df_CV, <span class="fu">aes</span>(<span class="at">x =</span> fecha,</span>
<span id="cb23-949"><a href="#cb23-949"></a>                              <span class="at">y =</span> <span class="st">`</span><span class="at">Tasa de variaci√≥n acumulada</span><span class="st">`</span>), <span class="at">color =</span> <span class="st">"Blue"</span>) <span class="sc">+</span></span>
<span id="cb23-950"><a href="#cb23-950"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb23-951"><a href="#cb23-951"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gr√°fico 16:Evoluci√≥n de la tasa de variaci√≥n acumulada siendo la Comunidad Valenciana el destino principal"</span>,</span>
<span id="cb23-952"><a href="#cb23-952"></a>       <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb23-953"><a href="#cb23-953"></a>       <span class="at">y =</span> <span class="st">"Tasa de variaci√≥n acumulada"</span>) <span class="sc">+</span></span>
<span id="cb23-954"><a href="#cb23-954"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb23-955"><a href="#cb23-955"></a></span>
<span id="cb23-956"><a href="#cb23-956"></a><span class="fu">ggplotly</span>(p2)</span>
<span id="cb23-957"><a href="#cb23-957"></a></span>
<span id="cb23-958"><a href="#cb23-958"></a></span>
<span id="cb23-959"><a href="#cb23-959"></a><span class="in">```</span></span>
<span id="cb23-960"><a href="#cb23-960"></a>El primer gr√°fico nos muestra la evoluci√≥n del n√∫mero de turistas que provienen de otros sitios que eligen a la Comunidad Valenciana como destino de viaje. En el mes de agosto del 2019 consigue el mayor n√∫mero de turistas. A partir de all√≠ empieza a caer llegando al m√≠nimo en abril y mayo del 2020, cuando empez√≥ el confinamiento y el Estado de alarma. Podemos observar que, aunque el covid es el motivo principal de la ca√≠da del turismo, tambi√©n hay otros factores que influyen a las fluctuaciones. Debido a que la Comunidad Valenciana est√° cerca del mar Mediterr√°neo y tiene un clima favorable, los viajeros comienzan a incrementar en temporadas de verano, y disminuyen en temporadas de invierno.</span>
<span id="cb23-961"><a href="#cb23-961"></a></span>
<span id="cb23-962"><a href="#cb23-962"></a>El segundo gr√°fico nos muestra lo mismo pero medido por la tasa de variaci√≥n acumulada.</span>
<span id="cb23-963"><a href="#cb23-963"></a></span>
<span id="cb23-964"><a href="#cb23-964"></a>- - - - - </span>
<span id="cb23-965"><a href="#cb23-965"></a></span>
<span id="cb23-966"><a href="#cb23-966"></a><span class="fu">## 6. LA CRISIS ENERG√âTICA Y EL FUTURO</span></span>
<span id="cb23-967"><a href="#cb23-967"></a></span>
<span id="cb23-968"><a href="#cb23-968"></a>Terminamos nuestro trabajo con un apartado adicional sobre la crisis en√©rgetica actual que estamos viviendo ahora mismo. Dar un poco de informaci√≥n sobre ad√≥nde nos llevar√° esta crisis, y c√≥mo puede ser nuestro furturo. </span>
<span id="cb23-969"><a href="#cb23-969"></a></span>
<span id="cb23-970"><a href="#cb23-970"></a><span class="fu">### 6.1. La crisis energ√©tica</span></span>
<span id="cb23-971"><a href="#cb23-971"></a></span>
<span id="cb23-974"><a href="#cb23-974"></a><span class="in">```{r}</span></span>
<span id="cb23-975"><a href="#cb23-975"></a><span class="fu">embed_url</span>(<span class="st">"https://www.youtube.com/watch?v=sC0SsZnegBQ"</span>)</span>
<span id="cb23-976"><a href="#cb23-976"></a><span class="in">```</span></span>
<span id="cb23-977"><a href="#cb23-977"></a></span>
<span id="cb23-978"><a href="#cb23-978"></a><span class="fu">### 6.2. El futuro</span></span>
<span id="cb23-979"><a href="#cb23-979"></a></span>
<span id="cb23-980"><a href="#cb23-980"></a><span class="ss">- </span>De la crisis energ√©tica:</span>
<span id="cb23-981"><a href="#cb23-981"></a></span>
<span id="cb23-984"><a href="#cb23-984"></a><span class="in">```{r}</span></span>
<span id="cb23-985"><a href="#cb23-985"></a><span class="fu">embed_url</span>(<span class="st">"https://www.youtube.com/watch?v=0LG_eEqdcLs"</span>)</span>
<span id="cb23-986"><a href="#cb23-986"></a><span class="in">```</span></span>
<span id="cb23-987"><a href="#cb23-987"></a></span>
<span id="cb23-988"><a href="#cb23-988"></a><span class="ss">- </span>Del sector turismo: en la Comunidad Valenciana, la Generalitat plantea lanzar bonos tur√≠stimos para viajar en temporadas bajas, de esta forma conseguir incentivar el turismo. Para m√°s informaci√≥n, <span class="co">[</span><span class="ot">aqu√≠</span><span class="co">](https://www.elmundo.es/comunidad-valenciana/2022/12/16/639c0fc7e4d4d89a2a8b4594.html)</span></span>
<span id="cb23-989"><a href="#cb23-989"></a></span>
<span id="cb23-990"><a href="#cb23-990"></a><span class="ss">- </span><span class="co">[</span><span class="ot">De la econom√≠a espa√±ola</span><span class="co">](https://www.barymont.com/pepepromedio/blog/futuro-de-la-economia-espanola/)</span></span>
<span id="cb23-991"><a href="#cb23-991"></a></span>
<span id="cb23-992"><a href="#cb23-992"></a></span>
<span id="cb23-993"><a href="#cb23-993"></a>- - - - - -</span>
<span id="cb23-994"><a href="#cb23-994"></a></span>
<span id="cb23-995"><a href="#cb23-995"></a><span class="fu"># 7. CONCLUSI√ìN</span></span>
<span id="cb23-996"><a href="#cb23-996"></a></span>
<span id="cb23-997"><a href="#cb23-997"></a>En conclusi√≥n, R es un instrumento muy √∫til para elaborar gr√°ficos, mapas y tablas. El trabajo ha empezado desde 0, tanto la b√∫squeda de datos, la transformaci√≥n de datos a lo que llamamos "tidy", y la realizaci√≥n final de los plots se ha basado principalmente a partir de RStudio. Adem√°s con la ayuda de, Quarto, sistema de publicaci√≥n cient√≠fica y t√©cnica de c√≥digo abierto, hemos conseguido presentar este trabajo de una forma m√°s "cool"üíª. Pero desde luego, hace falta un conocimiento previo, y pensamos que al finalizar este trabajo, hemos podido profundizar estos conocimientos. Aunque no podemos asegurarnos de que en el futuro nos va a servir R, pero sin duda, en el desarrollo del trabajo hemos aprendido cosas de programaci√≥n.</span>
<span id="cb23-998"><a href="#cb23-998"></a></span>
<span id="cb23-999"><a href="#cb23-999"></a>- - -</span>
<span id="cb23-1000"><a href="#cb23-1000"></a></span>
<span id="cb23-1001"><a href="#cb23-1001"></a><span class="fu"># 8. REFERENCIAS</span></span>
<span id="cb23-1002"><a href="#cb23-1002"></a></span>
<span id="cb23-1003"><a href="#cb23-1003"></a>Para la realizaci√≥n de los gr√°ficos y los comentarios pertinentes nos hemos basado en la informaci√≥n que vamos a exponer en los siguientes p√°rrafos.</span>
<span id="cb23-1004"><a href="#cb23-1004"></a></span>
<span id="cb23-1005"><a href="#cb23-1005"></a>Para poder realizar los comentarios, nos hemos formado con art√≠culos como los siguientes:</span>
<span id="cb23-1006"><a href="#cb23-1006"></a></span>
<span id="cb23-1007"><a href="#cb23-1007"></a><span class="ss">- </span><span class="co">[</span><span class="ot">El futuro de la econom√≠a espa√±ola</span><span class="co">](https://www.barymont.com/pepepromedio/blog/futuro-de-la-economia-espanola/)</span></span>
<span id="cb23-1008"><a href="#cb23-1008"></a></span>
<span id="cb23-1009"><a href="#cb23-1009"></a><span class="ss">- </span><span class="co">[</span><span class="ot">La econom√≠a espa√±ola durante la pandemia</span><span class="co">](https://www.bde.es/f/webbde/GAP/Secciones/SalaPrensa/IntervencionesPublicas/DirectoresGenerales/economia/Arc/Fic/arce260521.pdf)</span></span>
<span id="cb23-1010"><a href="#cb23-1010"></a></span>
<span id="cb23-1011"><a href="#cb23-1011"></a><span class="ss">- </span>La econom√≠a europea durante la pandemia: nos hemos basado en los temarios de la asignatura **Econom√≠a de la Uni√≥n Europea** impartida por el Grado de Econom√≠a de la UV.</span>
<span id="cb23-1012"><a href="#cb23-1012"></a></span>
<span id="cb23-1013"><a href="#cb23-1013"></a><span class="ss">- </span>La econom√≠a mundial durante la pandemia: nos hemos basado en los temarios de la asignatura **Econom√≠a internacional** impartida por el Grado de Econom√≠a de la UV.</span>
<span id="cb23-1014"><a href="#cb23-1014"></a></span>
<span id="cb23-1015"><a href="#cb23-1015"></a>Para poder realizar gr√°ficos animados, nos hemos basado en las explicaciones de como implementar el paquete gganimate en nuestro proyecto.</span>
<span id="cb23-1016"><a href="#cb23-1016"></a></span>
<span id="cb23-1017"><a href="#cb23-1017"></a>Con el paquete plotly, hemos conseguido realizar gr√°ficos interactivos.</span>
<span id="cb23-1018"><a href="#cb23-1018"></a></span>
<span id="cb23-1019"><a href="#cb23-1019"></a>Para realizar el gr√°fico bump-chart nos hemos basado en el siguiente <span class="co">[</span><span class="ot">blog</span><span class="co">](https://dominikkoch.github.io/Bump-Chart/)</span> utilizando el paquete ggbump.</span>
<span id="cb23-1020"><a href="#cb23-1020"></a></span>
<span id="cb23-1021"><a href="#cb23-1021"></a>Adem√°s, para la elaboraci√≥n de gr√°ficos que nos parec√≠an √∫tiles para implementar en el trabajo, hemos consultado informaci√≥n sobre diferentes ejemplos de gr√°ficos. La p√°gina lo podemos encontrar <span class="co">[</span><span class="ot">aqu√≠</span><span class="co">](https://r-charts.com/es/ggplot2/)</span></span>
<span id="cb23-1022"><a href="#cb23-1022"></a></span>
<span id="cb23-1023"><a href="#cb23-1023"></a>Por √∫ltimo, destacar como tambi√©m hemos consultado trabajos realizados por nuestros compa√±eros el a√±o anterior. Estos √∫ltimos los podemos encontrar <span class="co">[</span><span class="ot">aquI</span><span class="co">](https://perezp44.github.io/intro-ds-22-23-web/07-trabajos_2022-23.html)</span>{target="_blank"}</span>
<span id="cb23-1024"><a href="#cb23-1024"></a></span>
<span id="cb23-1025"><a href="#cb23-1025"></a>- - -</span>
<span id="cb23-1026"><a href="#cb23-1026"></a></span>
<span id="cb23-1027"><a href="#cb23-1027"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb23-1028"><a href="#cb23-1028"></a></span>
<span id="cb23-1029"><a href="#cb23-1029"></a>Con esto acabo mi trabajo para BigData!!ü•≥üéâüëèüëè</span>
<span id="cb23-1030"><a href="#cb23-1030"></a></span>
<span id="cb23-1031"><a href="#cb23-1031"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb23-1032"><a href="#cb23-1032"></a></span>
<span id="cb23-1033"><a href="#cb23-1033"></a>Abajo muestro mi entorno de trabajo y paquetes utilizados</span>
<span id="cb23-1034"><a href="#cb23-1034"></a></span>
<span id="cb23-1037"><a href="#cb23-1037"></a><span class="in">```{r}</span></span>
<span id="cb23-1038"><a href="#cb23-1038"></a><span class="co">#| echo: false</span></span>
<span id="cb23-1039"><a href="#cb23-1039"></a>sessioninfo<span class="sc">::</span><span class="fu">session_info</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb23-1040"><a href="#cb23-1040"></a>  details<span class="sc">::</span><span class="fu">details</span>(<span class="at">summary =</span> <span class="st">'current session info'</span>) </span>
<span id="cb23-1041"><a href="#cb23-1041"></a><span class="in">```</span></span>
<span id="cb23-1042"><a href="#cb23-1042"></a></span>
</code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">¬© 2022 Yi Zhang/Rapha√´lle Batien/Qiu Kaikai</div>   
      <div class="nav-footer-center">Hecho con <a href="https://quarto.org">Quarto</a></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/yiz2001">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/shellyzhang24">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="mailto:yiz3@alumni.uv.es">
      <i class="bi bi-envelope" role="img">
</i> 
    </a>
  </li>  
</ul>
</div>
  </div>
</footer>


<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>